import{a as Ge}from"./chunk-ATFCAXYU.js";import{a as Re,c as be,d as Ie,e as xe,f as De,g as Ve,h as Fe,i as He,j as Ye,k as Le,l as Be,m as $e,o as Ue}from"./chunk-RP7YNUNY.js";import{$ as Y,Aa as Pe,B as _e,Ba as Oe,D as Se,Da as re,E as k,F as Me,Fa as Ae,G as H,H as v,I as Ce,K as ke,Ka as we,M as ve,O as q,R as U,V as u,W as m,_ as me,a as $,aa as Q,b as le,e as ie,fa as _,ia as Ee,ja as Te,ka as y,la as N,ma as P,na as se,o as ce,pa as ye,q as ne,r as A,ra as Ne,u as fe,v as he,w as ue,ya as pe,z as ge}from"./chunk-BRSLBDDL.js";var n=function(c){return c.SEPARATOR="separator",c.PERCENT="percent",c.IP="IP",c.CPF_CNPJ="CPF_CNPJ",c.MONTH="M",c.MONTHS="M0",c.MINUTE="m",c.HOUR="h",c.HOURS="H",c.MINUTES="m0",c.HOURS_HOUR="Hh",c.SECONDS="s0",c.HOURS_MINUTES_SECONDS="Hh:m0:s0",c.EMAIL_MASK="A*@A*.A*",c.HOURS_MINUTES="Hh:m0",c.MINUTES_SECONDS="m0:s0",c.DAYS_MONTHS_YEARS="d0/M0/0000",c.DAYS_MONTHS="d0/M0",c.DAYS="d0",c.DAY="d",c.SECOND="s",c.LETTER_S="S",c.DOT=".",c.COMMA=",",c.CURLY_BRACKETS_LEFT="{",c.CURLY_BRACKETS_RIGHT="}",c.MINUS="-",c.OR="||",c.HASH="#",c.EMPTY_STRING="",c.SYMBOL_STAR="*",c.SYMBOL_QUESTION="?",c.SLASH="/",c.WHITE_SPACE=" ",c.NUMBER_ZERO="0",c.NUMBER_NINE="9",c.BACKSPACE="Backspace",c.DELETE="Delete",c.ARROW_LEFT="ArrowLeft",c.ARROW_UP="ArrowUp",c.DOUBLE_ZERO="00",c}(n||{}),ae=new ne("ngx-mask config"),We=new ne("new ngx-mask config"),Ze=new ne("initial ngx-mask config"),nt={suffix:"",prefix:"",thousandSeparator:" ",decimalMarker:[".",","],clearIfNotMatch:!1,showMaskTyped:!1,instantPrefix:!1,placeHolderCharacter:"_",dropSpecialCharacters:!0,hiddenInput:!1,shownMaskExpression:"",separatorLimit:"",allowNegativeNumbers:!1,validation:!0,specialCharacters:["-","/","(",")",".",":"," ","+",",","@","[","]",'"',"'"],leadZeroDateTime:!1,apm:!1,leadZero:!1,keepCharacterPositions:!1,triggerOnMaskChange:!1,inputTransformFn:c=>c,outputTransformFn:c=>c,maskFilled:new _e,patterns:{0:{pattern:new RegExp("\\d")},9:{pattern:new RegExp("\\d"),optional:!0},X:{pattern:new RegExp("\\d"),symbol:"*"},A:{pattern:new RegExp("[a-zA-Z0-9]")},S:{pattern:new RegExp("[a-zA-Z]")},U:{pattern:new RegExp("[A-Z]")},L:{pattern:new RegExp("[a-z]")},d:{pattern:new RegExp("\\d")},m:{pattern:new RegExp("\\d")},M:{pattern:new RegExp("\\d")},H:{pattern:new RegExp("\\d")},h:{pattern:new RegExp("\\d")},s:{pattern:new RegExp("\\d")}}},st=[n.HOURS_MINUTES_SECONDS,n.HOURS_MINUTES,n.MINUTES_SECONDS],rt=[n.PERCENT,n.HOURS_HOUR,n.SECONDS,n.MINUTES,n.SEPARATOR,n.DAYS_MONTHS_YEARS,n.DAYS_MONTHS,n.DAYS,n.MONTHS],at=(()=>{class c{_config=A(ae);dropSpecialCharacters=this._config.dropSpecialCharacters;hiddenInput=this._config.hiddenInput;clearIfNotMatch=this._config.clearIfNotMatch;specialCharacters=this._config.specialCharacters;patterns=this._config.patterns;prefix=this._config.prefix;suffix=this._config.suffix;thousandSeparator=this._config.thousandSeparator;decimalMarker=this._config.decimalMarker;customPattern;showMaskTyped=this._config.showMaskTyped;placeHolderCharacter=this._config.placeHolderCharacter;validation=this._config.validation;separatorLimit=this._config.separatorLimit;allowNegativeNumbers=this._config.allowNegativeNumbers;leadZeroDateTime=this._config.leadZeroDateTime;leadZero=this._config.leadZero;apm=this._config.apm;inputTransformFn=this._config.inputTransformFn;outputTransformFn=this._config.outputTransformFn;keepCharacterPositions=this._config.keepCharacterPositions;instantPrefix=this._config.instantPrefix;triggerOnMaskChange=this._config.triggerOnMaskChange;_shift=new Set;plusOnePosition=!1;maskExpression="";actualValue="";showKeepCharacterExp="";shownMaskExpression=this._config.shownMaskExpression;deletedSpecialCharacter=!1;ipError;cpfCnpjError;applyMask(t,e,s=0,i=!1,o=!1,p=()=>{}){if(!e||typeof t!="string")return n.EMPTY_STRING;let a=0,l="",d=!1,g=!1,M=1,O=!1,r=t,f=s,x=r.slice(0,this.prefix.length)===this.prefix,D=i&&r.length===this.prefix.length+e.length,L=r===this.prefix+r.slice(this.prefix.length);x&&(D||L)&&(r=r.slice(this.prefix.length)),this.suffix&&r.length>0&&(r=this.checkAndRemoveSuffix(r)),r==="("&&this.prefix&&(r="");let R=r.toString().split(n.EMPTY_STRING);if(this.allowNegativeNumbers&&r.slice(a,a+1)===n.MINUS&&(l+=r.slice(a,a+1)),e===n.IP){let S=r.split(n.DOT);this.ipError=this._validIP(S),e="099.099.099.099"}let V=[];for(let S=0;S<r.length;S++)r[S]?.match("\\d")&&V.push(r[S]??n.EMPTY_STRING);if(e===n.CPF_CNPJ&&(this.cpfCnpjError=V.length!==11&&V.length!==14,V.length>11?e="00.000.000/0000-00":e="000.000.000-00"),e.startsWith(n.PERCENT)){if(r.match("[a-z]|[A-Z]")||r.match(/[-!$%^&*()_+|~=`{}\[\]:";'<>?,\/.]/)&&!o){r=this._stripToDecimal(r);let b=this.getPrecision(e);r=this.checkInputPrecision(r,b,this.decimalMarker)}let S=typeof this.decimalMarker=="string"?this.decimalMarker:n.DOT;if(r.indexOf(S)>0&&!this.percentage(r.substring(0,r.indexOf(S)))){let b=r.substring(0,r.indexOf(S)-1);this.allowNegativeNumbers&&r.slice(a,a+1)===n.MINUS&&!o&&(b=r.substring(0,r.indexOf(S))),r=`${b}${r.substring(r.indexOf(S),r.length)}`}let h="";this.allowNegativeNumbers&&r.slice(a,a+1)===n.MINUS?h=`${n.MINUS}${r.slice(a+1,a+r.length)}`:h=r,this.percentage(h)?l=this._splitPercentZero(r):l=this._splitPercentZero(r.substring(0,r.length-1))}else if(e.startsWith(n.SEPARATOR)){(r.match("[w\u0430-\u044F\u0410-\u042F]")||r.match("[\u0401\u0451\u0410-\u044F]")||r.match("[a-z]|[A-Z]")||r.match(/[-@#!$%\\^&*()_£¬'+|~=`{}\]:";<>.?/]/)||r.match("[^A-Za-z0-9,]"))&&(r=this._stripToDecimal(r));let S=this.getPrecision(e),h=this.decimalMarker;if(Array.isArray(this.decimalMarker)&&(this.actualValue.includes(this.decimalMarker[0])||this.actualValue.includes(this.decimalMarker[1])?h=this.actualValue.includes(this.decimalMarker[0])?this.decimalMarker[0]:this.decimalMarker[1]:h=this.decimalMarker.find(C=>C!==this.thousandSeparator)),o){let{decimalMarkerIndex:C,nonZeroIndex:T}=this._findFirstNonZeroAndDecimalIndex(r,h),F=r[0]===n.MINUS,ee=r[0]===n.NUMBER_ZERO,te=r[0]===h,z=r[1]===h;(te&&!T||F&&z&&!T||ee&&!C&&!T)&&(r=n.NUMBER_ZERO),C&&T&&F&&f===1&&(C<T||C>T)&&(r=n.MINUS+r.slice(T)),!C&&T&&r.length>T&&(r=F?n.MINUS+r.slice(T):r.slice(T)),C&&T&&f===0&&(C<T&&(r=r.slice(C-1)),C>T&&(r=r.slice(T)))}S===0?r=this.allowNegativeNumbers?r.length>2&&r[0]===n.MINUS&&r[1]===n.NUMBER_ZERO&&r[2]!==this.thousandSeparator&&r[2]!==n.COMMA&&r[2]!==n.DOT?"-"+r.slice(2,r.length):r[0]===n.NUMBER_ZERO&&r.length>1&&r[1]!==this.thousandSeparator&&r[1]!==n.COMMA&&r[1]!==n.DOT?r.slice(1,r.length):r:r.length>1&&r[0]===n.NUMBER_ZERO&&r[1]!==this.thousandSeparator&&r[1]!==n.COMMA&&r[1]!==n.DOT?r.slice(1,r.length):r:(r[0]===h&&r.length>1&&!o&&(r=n.NUMBER_ZERO+r.slice(0,r.length+1),this.plusOnePosition=!0),r[0]===n.NUMBER_ZERO&&r[1]!==h&&r[1]!==this.thousandSeparator&&!o&&(r=r.length>1?r.slice(0,1)+h+r.slice(1,r.length+1):r,this.plusOnePosition=!0),this.allowNegativeNumbers&&!o&&r[0]===n.MINUS&&(r[1]===h||r[1]===n.NUMBER_ZERO)&&(r=r[1]===h&&r.length>2?r.slice(0,1)+n.NUMBER_ZERO+r.slice(1,r.length):r[1]===n.NUMBER_ZERO&&r.length>2&&r[2]!==h?r.slice(0,2)+h+r.slice(2,r.length):r,this.plusOnePosition=!0));let b=this._charToRegExpExpression(this.thousandSeparator),w='@#!$%^&*()_+|~=`{}\\[\\]:\\s,\\.";<>?\\/'.replace(b,"");if(Array.isArray(this.decimalMarker))for(let C of this.decimalMarker)w=w.replace(this._charToRegExpExpression(C),n.EMPTY_STRING);else w=w.replace(this._charToRegExpExpression(this.decimalMarker),"");let Z=new RegExp("["+w+"]");r.match(Z)&&(r=r.substring(0,r.length-1)),r=this.checkInputPrecision(r,S,this.decimalMarker);let B=r.replace(new RegExp(b,"g"),"");l=this._formatWithSeparators(B,this.thousandSeparator,this.decimalMarker,S);let oe=l.indexOf(n.COMMA)-r.indexOf(n.COMMA),I=l.length-r.length,X=o&&l.length<t.length-this.suffix.length&&this.separatorLimit;if((l[f-1]===this.thousandSeparator||l[f-this.prefix.length])&&this.prefix&&o)f=f-1;else if(I>0&&l[f]!==this.thousandSeparator||X){g=!0;let C=0;do this._shift.add(f+C),C++;while(C<I)}else l[f-1]===this.thousandSeparator||I===-4||I===-3||l[f]===this.thousandSeparator?(this._shift.clear(),this._shift.add(f-1)):oe!==0&&f>0&&!(l.indexOf(n.COMMA)>=f&&f>3)||!(l.indexOf(n.DOT)>=f&&f>3)&&I<=0?(this._shift.clear(),g=!0,M=I,f+=I,this._shift.add(f)):this._shift.clear()}else for(let S=0,h=R[0];S<R.length&&a!==e.length;S++,h=R[S]??n.EMPTY_STRING){let b=n.SYMBOL_STAR in this.patterns;if(this._checkSymbolMask(h,e[a]??n.EMPTY_STRING)&&e[a+1]===n.SYMBOL_QUESTION)l+=h,a+=2;else if(e[a+1]===n.SYMBOL_STAR&&d&&this._checkSymbolMask(h,e[a+2]??n.EMPTY_STRING))l+=h,a+=3,d=!1;else if(this._checkSymbolMask(h,e[a]??n.EMPTY_STRING)&&e[a+1]===n.SYMBOL_STAR&&!b)l+=h,d=!0;else if(e[a+1]===n.SYMBOL_QUESTION&&this._checkSymbolMask(h,e[a+2]??n.EMPTY_STRING))l+=h,a+=3;else if(this._checkSymbolMask(h,e[a]??n.EMPTY_STRING)){if(e[a]===n.HOURS&&(this.apm?Number(h)>9:Number(h)>2)){f=this.leadZeroDateTime?f:f+1,a+=1,this._shiftStep(a),S--,this.leadZeroDateTime&&(l+="0");continue}if(e[a]===n.HOUR&&(this.apm?l.length===1&&Number(l)>1||l==="1"&&Number(h)>2||r.slice(a-1,a).length===1&&Number(r.slice(a-1,a))>2||r.slice(a-1,a)==="1"&&Number(h)>2:l==="2"&&Number(h)>3||(l.slice(a-2,a)==="2"||l.slice(a-3,a)==="2"||l.slice(a-4,a)==="2"||l.slice(a-1,a)==="2")&&Number(h)>3&&a>10)){f=f+1,a+=1,S--;continue}if((e[a]===n.MINUTE||e[a]===n.SECOND)&&Number(h)>5){f=this.leadZeroDateTime?f:f+1,a+=1,this._shiftStep(a),S--,this.leadZeroDateTime&&(l+="0");continue}let w=31,Z=r[a],B=r[a+1],oe=r[a+2],I=r[a-1],X=r[a-2],C=r.slice(a-3,a-1),T=r.slice(a-1,a+1),F=r.slice(a,a+2),ee=r.slice(a-2,a);if(e[a]===n.DAY){let te=e.slice(0,2)===n.MONTHS,z=e.slice(0,2)===n.MONTHS&&this.specialCharacters.includes(X);if(Number(h)>3&&this.leadZeroDateTime||!te&&(Number(F)>w||Number(T)>w||this.specialCharacters.includes(B))||(z?Number(T)>w||!this.specialCharacters.includes(Z)&&this.specialCharacters.includes(oe)||this.specialCharacters.includes(Z):Number(F)>w||this.specialCharacters.includes(B)&&!o)){f=this.leadZeroDateTime?f:f+1,a+=1,this._shiftStep(a),S--,this.leadZeroDateTime&&(l+="0");continue}}if(e[a]===n.MONTH){let z=a===0&&(Number(h)>2||Number(F)>12||this.specialCharacters.includes(B)&&!o),qe=e.slice(a+2,a+3),Qe=C.includes(qe)&&e.includes("d0")&&(this.specialCharacters.includes(X)&&Number(T)>12&&!this.specialCharacters.includes(Z)||this.specialCharacters.includes(Z)),Je=Number(C)<=w&&!this.specialCharacters.includes(C)&&this.specialCharacters.includes(I)&&(Number(F)>12||this.specialCharacters.includes(B)),Xe=Number(F)>12&&a===5||this.specialCharacters.includes(B)&&a===5,et=Number(C)>w&&!this.specialCharacters.includes(C)&&!this.specialCharacters.includes(ee)&&Number(ee)>12&&e.includes("d0"),tt=Number(C)<=w&&!this.specialCharacters.includes(C)&&!this.specialCharacters.includes(I)&&Number(T)>12;if(Number(h)>1&&this.leadZeroDateTime||z||Qe||tt||et||Je||Xe&&!this.leadZeroDateTime){f=this.leadZeroDateTime?f:f+1,a+=1,this._shiftStep(a),S--,this.leadZeroDateTime&&(l+="0");continue}}l+=h,a++}else this.specialCharacters.includes(h)&&e[a]===h?(l+=h,a++):this.specialCharacters.indexOf(e[a]??n.EMPTY_STRING)!==-1?(l+=e[a],a++,this._shiftStep(a),S--):e[a]===n.NUMBER_NINE&&this.showMaskTyped?this._shiftStep(a):this.patterns[e[a]??n.EMPTY_STRING]&&this.patterns[e[a]??n.EMPTY_STRING]?.optional?(R[a]&&e!=="099.099.099.099"&&e!=="000.000.000-00"&&e!=="00.000.000/0000-00"&&!e.match(/^9+\.0+$/)&&!this.patterns[e[a]??n.EMPTY_STRING]?.optional&&(l+=R[a]),e.includes(n.NUMBER_NINE+n.SYMBOL_STAR)&&e.includes(n.NUMBER_ZERO+n.SYMBOL_STAR)&&a++,a++,S--):this.maskExpression[a+1]===n.SYMBOL_STAR&&this._findSpecialChar(this.maskExpression[a+2]??n.EMPTY_STRING)&&this._findSpecialChar(h)===this.maskExpression[a+2]&&d||this.maskExpression[a+1]===n.SYMBOL_QUESTION&&this._findSpecialChar(this.maskExpression[a+2]??n.EMPTY_STRING)&&this._findSpecialChar(h)===this.maskExpression[a+2]&&d?(a+=3,l+=h):this.showMaskTyped&&this.specialCharacters.indexOf(h)<0&&h!==this.placeHolderCharacter&&this.placeHolderCharacter.length===1&&(O=!0)}l[f-1]&&l.length+1===e.length&&this.specialCharacters.indexOf(e[e.length-1]??n.EMPTY_STRING)!==-1&&(l+=e[e.length-1]);let j=f+1;for(;this._shift.has(j);)M++,j++;let G=i&&!e.startsWith(n.SEPARATOR)?a:this._shift.has(f)?M:0;O&&G--,p(G,g),M<0&&this._shift.clear();let K=!1;o&&(K=R.every(S=>this.specialCharacters.includes(S)));let W=`${this.prefix}${K?n.EMPTY_STRING:l}${this.showMaskTyped?"":this.suffix}`;l.length===0&&(W=this.instantPrefix?`${this.prefix}${l}`:`${l}`);let J=r.length===1&&this.specialCharacters.includes(e[0])&&r!==e[0];if(!this._checkSymbolMask(r,e[1])&&J)return"";if(l.includes(n.MINUS)&&this.prefix&&this.allowNegativeNumbers){if(o&&l===n.MINUS)return"";W=`${n.MINUS}${this.prefix}${l.split(n.MINUS).join(n.EMPTY_STRING)}${this.suffix}`}return W}_findDropSpecialChar(t){return Array.isArray(this.dropSpecialCharacters)?this.dropSpecialCharacters.find(e=>e===t):this._findSpecialChar(t)}_findSpecialChar(t){return this.specialCharacters.find(e=>e===t)}_checkSymbolMask(t,e){return this.patterns=this.customPattern?this.customPattern:this.patterns,(this.patterns[e]?.pattern&&this.patterns[e]?.pattern.test(t))??!1}_formatWithSeparators=(t,e,s,i)=>{let o=[],p="";if(Array.isArray(s)){let M=new RegExp(s.map(O=>"[\\^$.|?*+()".indexOf(O)>=0?`\\${O}`:O).join("|"));o=t.split(M),p=t.match(M)?.[0]??n.EMPTY_STRING}else o=t.split(s),p=s;let a=o.length>1?`${p}${o[1]}`:n.EMPTY_STRING,l=o[0]??n.EMPTY_STRING,d=this.separatorLimit.replace(/\s/g,n.EMPTY_STRING);d&&+d&&(l[0]===n.MINUS?l=`-${l.slice(1,l.length).slice(0,d.length)}`:l=l.slice(0,d.length));let g=/(\d+)(\d{3})/;for(;e&&g.test(l);)l=l.replace(g,"$1"+e+"$2");return typeof i>"u"?l+a:i===0?l:l+a.substring(0,i+1)};percentage=t=>{let e=t.replace(",","."),s=Number(this.allowNegativeNumbers&&t.includes(n.MINUS)?e.slice(1,t.length):e);return!isNaN(s)&&s>=0&&s<=100};getPrecision=t=>{let e=t.split(n.DOT);return e.length>1?Number(e[e.length-1]):1/0};checkAndRemoveSuffix=t=>{for(let e=this.suffix?.length-1;e>=0;e--){let s=this.suffix.substring(e,this.suffix?.length);if(t.includes(s)&&e!==this.suffix?.length-1&&(e-1<0||!t.includes(this.suffix.substring(e-1,this.suffix?.length))))return t.replace(s,n.EMPTY_STRING)}return t};checkInputPrecision=(t,e,s)=>{let i=t,o=s;if(e<1/0){if(Array.isArray(o)){let d=o.find(g=>g!==this.thousandSeparator);o=d||o[0]}let p=new RegExp(this._charToRegExpExpression(o)+`\\d{${e}}.*$`),a=i.match(p),l=(a&&a[0]?.length)??0;if(l-1>e){let d=l-1-e;i=i.substring(0,i.length-d)}e===0&&this._compareOrIncludes(i[i.length-1],o,this.thousandSeparator)&&(i=i.substring(0,i.length-1))}return i};_stripToDecimal(t){return t.split(n.EMPTY_STRING).filter((e,s)=>{let i=typeof this.decimalMarker=="string"?e===this.decimalMarker:this.decimalMarker.includes(e);return e.match("^-?\\d")||e===this.thousandSeparator||i||e===n.MINUS&&s===0&&this.allowNegativeNumbers}).join(n.EMPTY_STRING)}_charToRegExpExpression(t){return t&&(t===" "?"\\s":"[\\^$.|?*+()".indexOf(t)>=0?`\\${t}`:t)}_shiftStep(t){this._shift.add(t+this.prefix.length||0)}_compareOrIncludes(t,e,s){return Array.isArray(e)?e.filter(i=>i!==s).includes(t):t===e}_validIP(t){return!(t.length===4&&!t.some((e,s)=>t.length!==s+1?e===n.EMPTY_STRING||Number(e)>255:e===n.EMPTY_STRING||Number(e.substring(0,3))>255))}_splitPercentZero(t){if(t===n.MINUS&&this.allowNegativeNumbers)return t;let e=typeof this.decimalMarker=="string"?t.indexOf(this.decimalMarker):t.indexOf(n.DOT),s=this.allowNegativeNumbers&&t.includes(n.MINUS)?"-":"";if(e===-1){let i=parseInt(s?t.slice(1,t.length):t,10);return isNaN(i)?n.EMPTY_STRING:`${s}${i}`}else{let i=parseInt(t.replace("-","").substring(0,e),10),o=t.substring(e+1),p=isNaN(i)?"":i.toString(),a=typeof this.decimalMarker=="string"?this.decimalMarker:n.DOT;return p===n.EMPTY_STRING?n.EMPTY_STRING:`${s}${p}${a}${o}`}}_findFirstNonZeroAndDecimalIndex(t,e){let s=null,i=null;for(let o=0;o<t.length;o++){let p=t[o];if(p===e&&s===null&&(s=o),p&&p>="1"&&p<="9"&&i===null&&(i=o),s!==null&&i!==null)break}return{decimalMarkerIndex:s,nonZeroIndex:i}}static \u0275fac=function(e){return new(e||c)};static \u0275prov=ce({token:c,factory:c.\u0275fac})}return c})(),de=(()=>{class c extends at{isNumberValue=!1;maskIsShown="";selStart=null;selEnd=null;maskChanged=!1;maskExpressionArray=[];previousValue="";currentValue="";writingValue=!1;isInitialized=!1;_emitValue=!1;_start;_end;onChange=t=>{};_elementRef=A(Me,{optional:!0});document=A(pe);_config=A(ae);_renderer=A(Ce,{optional:!0});applyMask(t,e,s=0,i=!1,o=!1,p=()=>{}){if(!e)return t!==this.actualValue?this.actualValue:t;if(this.maskIsShown=this.showMaskTyped?this.showMaskInInput():n.EMPTY_STRING,this.maskExpression===n.IP&&this.showMaskTyped&&(this.maskIsShown=this.showMaskInInput(t||n.HASH)),this.maskExpression===n.CPF_CNPJ&&this.showMaskTyped&&(this.maskIsShown=this.showMaskInInput(t||n.HASH)),!t&&this.showMaskTyped)return this.formControlResult(this.prefix),`${this.prefix}${this.maskIsShown}${this.suffix}`;let a=t&&typeof this.selStart=="number"?t[this.selStart]??n.EMPTY_STRING:n.EMPTY_STRING,l="",d=s;if((this.hiddenInput||t&&t.indexOf(n.SYMBOL_STAR)>=0)&&!this.writingValue){let r=t&&t.length===1?t.split(n.EMPTY_STRING):this.actualValue.split(n.EMPTY_STRING);o&&(r=r.slice(0,s).concat(r.slice(s+1))),this.showMaskTyped&&(t=this.removeMask(t),r=this.removeMask(r.join("")).split(n.EMPTY_STRING)),typeof this.selStart=="object"&&typeof this.selEnd=="object"?(this.selStart=Number(this.selStart),this.selEnd=Number(this.selEnd)):t!==n.EMPTY_STRING&&r.length?typeof this.selStart=="number"&&typeof this.selEnd=="number"&&(t.length>r.length?r.splice(this.selStart,0,a):t.length<r.length&&(r.length-t.length===1?o?r.splice(this.selStart-1,1):r.splice(t.length-1,1):r.splice(this.selStart,this.selEnd-this.selStart))):r=[],this.showMaskTyped&&!this.hiddenInput&&(l=this.removeMask(t)),this.actualValue.length?r.length<t.length?l=this.shiftTypedSymbols(r.join(n.EMPTY_STRING)):r.length===t.length?l=r.join(n.EMPTY_STRING):l=t:l=t}if(i&&(this.hiddenInput||!this.hiddenInput)&&(l=t),o&&this.specialCharacters.indexOf(this.maskExpression[d]??n.EMPTY_STRING)!==-1&&this.showMaskTyped&&!this.prefix&&(l=this.currentValue),this.deletedSpecialCharacter&&d&&(this.specialCharacters.includes(this.actualValue.slice(d,d+1))?d=d+1:e.slice(d-1,d+1)!==n.MONTHS&&(d=d-2),this.deletedSpecialCharacter=!1),this.showMaskTyped&&this.placeHolderCharacter.length===1&&!this.leadZeroDateTime&&(l=this.removeMask(l)),this.maskChanged?l=t:l=l&&l.length?l:t,this.showMaskTyped&&this.keepCharacterPositions&&this.actualValue&&!i&&!this.writingValue){let r=this.dropSpecialCharacters?this.removeMask(this.actualValue):this.actualValue;return this.formControlResult(r),this.actualValue?this.actualValue:`${this.prefix}${this.maskIsShown}${this.suffix}`}let g=super.applyMask(l,e,d,i,o,p);if(this.actualValue=this.getActualValue(g),this.thousandSeparator===n.DOT&&this.decimalMarker===n.DOT&&(this.decimalMarker=n.COMMA),this.maskExpression.startsWith(n.SEPARATOR)&&this.dropSpecialCharacters===!0&&(this.specialCharacters=this.specialCharacters.filter(r=>!this._compareOrIncludes(r,this.decimalMarker,this.thousandSeparator))),(g||g==="")&&(this.previousValue=this.currentValue,this.currentValue=g,this._emitValue=this.previousValue!==this.currentValue||this.previousValue===this.currentValue&&i),this._emitValue&&this.formControlResult(g),!this.showMaskTyped||this.showMaskTyped&&this.hiddenInput)return this.hiddenInput?`${this.hideInput(g,this.maskExpression)}${this.maskIsShown.slice(g.length)}`:g;let M=g.length,O=`${this.prefix}${this.maskIsShown}${this.suffix}`;if(this.maskExpression.includes(n.HOURS)){let r=this._numberSkipedSymbols(g);return`${g}${O.slice(M+r)}`}else if(this.maskExpression===n.IP||this.maskExpression===n.CPF_CNPJ)return`${g}${O}`;return`${g}${O.slice(M)}`}_numberSkipedSymbols(t){let e=/(^|\D)(\d\D)/g,s=e.exec(t),i=0;for(;s!=null;)i+=1,s=e.exec(t);return i}applyValueChanges(t,e,s,i=()=>{}){let o=this._elementRef?.nativeElement;o&&(o.value=this.applyMask(o.value,this.maskExpression,t,e,s,i),o!==this._getActiveElement()&&this.clearIfNotMatchFn())}hideInput(t,e){return t.split(n.EMPTY_STRING).map((s,i)=>this.patterns&&this.patterns[e[i]??n.EMPTY_STRING]&&this.patterns[e[i]??n.EMPTY_STRING]?.symbol?this.patterns[e[i]??n.EMPTY_STRING]?.symbol:s).join(n.EMPTY_STRING)}getActualValue(t){let e=t.split(n.EMPTY_STRING).filter((s,i)=>{let o=this.maskExpression[i]??n.EMPTY_STRING;return this._checkSymbolMask(s,o)||this.specialCharacters.includes(o)&&s===o});return e.join(n.EMPTY_STRING)===t?e.join(n.EMPTY_STRING):t}shiftTypedSymbols(t){let e="";return(t&&t.split(n.EMPTY_STRING).map((i,o)=>{if(this.specialCharacters.includes(t[o+1]??n.EMPTY_STRING)&&t[o+1]!==this.maskExpression[o+1])return e=i,t[o+1];if(e.length){let p=e;return e=n.EMPTY_STRING,p}return i})||[]).join(n.EMPTY_STRING)}numberToString(t){return!t&&t!==0||this.maskExpression.startsWith(n.SEPARATOR)&&(this.leadZero||!this.dropSpecialCharacters)||this.maskExpression.startsWith(n.SEPARATOR)&&this.separatorLimit.length>14&&String(t).length>14?String(t):Number(t).toLocaleString("fullwide",{useGrouping:!1,maximumFractionDigits:20}).replace(`/${n.MINUS}/`,n.MINUS)}showMaskInInput(t){if(this.showMaskTyped&&this.shownMaskExpression){if(this.maskExpression.length!==this.shownMaskExpression.length)throw new Error("Mask expression must match mask placeholder length");return this.shownMaskExpression}else if(this.showMaskTyped){if(t){if(this.maskExpression===n.IP)return this._checkForIp(t);if(this.maskExpression===n.CPF_CNPJ)return this._checkForCpfCnpj(t)}return this.placeHolderCharacter.length===this.maskExpression.length?this.placeHolderCharacter:this.maskExpression.replace(/\w/g,this.placeHolderCharacter)}return""}clearIfNotMatchFn(){let t=this._elementRef?.nativeElement;t&&this.clearIfNotMatch&&this.prefix.length+this.maskExpression.length+this.suffix.length!==t.value.replace(this.placeHolderCharacter,n.EMPTY_STRING).length&&(this.formElementProperty=["value",n.EMPTY_STRING],this.applyMask("",this.maskExpression))}set formElementProperty([t,e]){!this._renderer||!this._elementRef||Promise.resolve().then(()=>this._renderer?.setProperty(this._elementRef?.nativeElement,t,e))}checkDropSpecialCharAmount(t){return t.split(n.EMPTY_STRING).filter(s=>this._findDropSpecialChar(s)).length}removeMask(t){return this._removeMask(this._removeSuffix(this._removePrefix(t)),this.specialCharacters.concat("_").concat(this.placeHolderCharacter))}_checkForIp(t){if(t===n.HASH)return`${this.placeHolderCharacter}.${this.placeHolderCharacter}.${this.placeHolderCharacter}.${this.placeHolderCharacter}`;let e=[];for(let s=0;s<t.length;s++){let i=t[s]??n.EMPTY_STRING;i&&i.match("\\d")&&e.push(i)}return e.length<=3?`${this.placeHolderCharacter}.${this.placeHolderCharacter}.${this.placeHolderCharacter}`:e.length>3&&e.length<=6?`${this.placeHolderCharacter}.${this.placeHolderCharacter}`:e.length>6&&e.length<=9?this.placeHolderCharacter:(e.length>9&&e.length<=12,"")}_checkForCpfCnpj(t){let e=`${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}-${this.placeHolderCharacter}${this.placeHolderCharacter}`,s=`${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}/${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}-${this.placeHolderCharacter}${this.placeHolderCharacter}`;if(t===n.HASH)return e;let i=[];for(let o=0;o<t.length;o++){let p=t[o]??n.EMPTY_STRING;p&&p.match("\\d")&&i.push(p)}return i.length<=3?e.slice(i.length,e.length):i.length>3&&i.length<=6?e.slice(i.length+1,e.length):i.length>6&&i.length<=9?e.slice(i.length+2,e.length):i.length>9&&i.length<11?e.slice(i.length+3,e.length):i.length===11?"":i.length===12?t.length===17?s.slice(16,s.length):s.slice(15,s.length):i.length>12&&i.length<=14?s.slice(i.length+4,s.length):""}_getActiveElement(t=this.document){let e=t?.activeElement?.shadowRoot;return e?.activeElement?this._getActiveElement(e):t.activeElement}formControlResult(t){let e=this.outputTransformFn?this.outputTransformFn:s=>s;this.writingValue=!1,this.maskChanged=!1,!(!this.isInitialized&&this._emitValue)&&(Array.isArray(this.dropSpecialCharacters)?this.onChange(e(this._toNumber(this._checkSymbols(this._removeMask(this._removeSuffix(this._removePrefix(t)),this.dropSpecialCharacters))))):this.dropSpecialCharacters||!this.dropSpecialCharacters&&this.prefix===t?this.onChange(e(this._toNumber(this._checkSymbols(this._removeSuffix(this._removePrefix(t)))))):this.onChange(e(this._toNumber(t))))}_toNumber(t){if(!this.isNumberValue||t===n.EMPTY_STRING||this.maskExpression.startsWith(n.SEPARATOR)&&(this.leadZero||!this.dropSpecialCharacters))return t;if(String(t).length>14&&this.maskExpression.startsWith(n.SEPARATOR))return String(t);let e=Number(t);if(this.maskExpression.startsWith(n.SEPARATOR)&&Number.isNaN(e)){let s=String(t).replace(",",".");return Number(s)}return Number.isNaN(e)?t:e}_removeMask(t,e){return this.maskExpression.startsWith(n.PERCENT)&&t.includes(n.DOT)?t:t&&t.replace(this._regExpForRemove(e),n.EMPTY_STRING)}_removePrefix(t){return this.prefix?t&&t.replace(this.prefix,n.EMPTY_STRING):t}_removeSuffix(t){return this.suffix?t&&t.replace(this.suffix,n.EMPTY_STRING):t}_retrieveSeparatorValue(t){let e=Array.isArray(this.dropSpecialCharacters)?this.specialCharacters.filter(s=>this.dropSpecialCharacters.includes(s)):this.specialCharacters;return!this.deletedSpecialCharacter&&this._checkPatternForSpace()&&t.includes(n.WHITE_SPACE)&&this.maskExpression.includes(n.SYMBOL_STAR)&&(e=e.filter(s=>s!==n.WHITE_SPACE)),this._removeMask(t,e)}_regExpForRemove(t){return new RegExp(t.map(e=>`\\${e}`).join("|"),"gi")}_replaceDecimalMarkerToDot(t){let e=Array.isArray(this.decimalMarker)?this.decimalMarker:[this.decimalMarker];return t.replace(this._regExpForRemove(e),n.DOT)}_checkSymbols(t){let e=t;if(e===n.EMPTY_STRING)return e;this.maskExpression.startsWith(n.PERCENT)&&this.decimalMarker===n.COMMA&&(e=e.replace(n.COMMA,n.DOT));let s=this._retrieveSeparatorPrecision(this.maskExpression),i=this.specialCharacters.length===0?this._retrieveSeparatorValue(e):this._replaceDecimalMarkerToDot(this._retrieveSeparatorValue(e));return this.isNumberValue&&s?e===this.decimalMarker?null:i.length>14?String(i):this._checkPrecision(this.maskExpression,i):i}_checkPatternForSpace(){for(let t in this.patterns)if(this.patterns[t]&&this.patterns[t]?.hasOwnProperty("pattern")){let e=this.patterns[t]?.pattern.toString(),s=this.patterns[t]?.pattern;if(e?.includes(n.WHITE_SPACE)&&s?.test(this.maskExpression))return!0}return!1}_retrieveSeparatorPrecision(t){let e=t.match(new RegExp("^separator\\.([^d]*)"));return e?Number(e[1]):null}_checkPrecision(t,e){let s=this.getPrecision(t),i=e;return t.indexOf("2")>0||this.leadZero&&Number(s)>0&&Number.isFinite(s)?(this.decimalMarker===n.COMMA&&this.leadZero&&(i=i.replace(",",".")),this.leadZero?Number(i).toFixed(Number(s)):Number(i).toFixed(2)):this.numberToString(i)}_repeatPatternSymbols(t){return t.match(/{[0-9]+}/)&&t.split(n.EMPTY_STRING).reduce((e,s,i)=>{if(this._start=s===n.CURLY_BRACKETS_LEFT?i:this._start,s!==n.CURLY_BRACKETS_RIGHT)return this._findSpecialChar(s)?e+s:e;this._end=i;let o=Number(t.slice(this._start+1,this._end)),p=new Array(o+1).join(t[this._start-1]);if(t.slice(0,this._start).length>1&&t.includes(n.LETTER_S)){let a=t.slice(0,this._start-1);return a.includes(n.CURLY_BRACKETS_LEFT)?e+p:a+e+p}else return e+p},"")||t}currentLocaleDecimalMarker(){return 1.1.toLocaleString().substring(1,2)}static \u0275fac=(()=>{let t;return function(s){return(t||(t=ge(c)))(s||c)}})();static \u0275prov=ce({token:c,factory:c.\u0275fac})}return c})();function ot(){let c=A(Ze),E=A(We);return E instanceof Function?$($({},c),E()):$($({},c),E)}function je(c){return[{provide:We,useValue:c},{provide:Ze,useValue:nt},{provide:ae,useFactory:ot},de]}var Ke=(()=>{class c{mask=k("");specialCharacters=k([]);patterns=k({});prefix=k("");suffix=k("");thousandSeparator=k(" ");decimalMarker=k(".");dropSpecialCharacters=k(null);hiddenInput=k(null);showMaskTyped=k(null);placeHolderCharacter=k(null);shownMaskExpression=k(null);clearIfNotMatch=k(null);validation=k(null);separatorLimit=k("");allowNegativeNumbers=k(null);leadZeroDateTime=k(null);leadZero=k(null);triggerOnMaskChange=k(null);apm=k(null);inputTransformFn=k(null);outputTransformFn=k(null);keepCharacterPositions=k(null);instantPrefix=k(null);maskFilled=Se();_maskValue=H("");_inputValue=H("");_position=H(null);_code=H("");_maskExpressionArray=H([]);_justPasted=H(!1);_isFocused=H(!1);_isComposing=H(!1);_maskService=A(de,{self:!0});document=A(pe);_config=A(ae);onChange=t=>{};onTouch=()=>{};ngOnChanges(t){let{mask:e,specialCharacters:s,patterns:i,prefix:o,suffix:p,thousandSeparator:a,decimalMarker:l,dropSpecialCharacters:d,hiddenInput:g,showMaskTyped:M,placeHolderCharacter:O,shownMaskExpression:r,clearIfNotMatch:f,validation:x,separatorLimit:D,allowNegativeNumbers:L,leadZeroDateTime:R,leadZero:V,triggerOnMaskChange:j,apm:G,inputTransformFn:K,outputTransformFn:W,keepCharacterPositions:J,instantPrefix:S}=t;if(e&&(e.currentValue!==e.previousValue&&!e.firstChange&&(this._maskService.maskChanged=!0),e.currentValue&&e.currentValue.split(n.OR).length>1?(this._maskExpressionArray.set(e.currentValue.split(n.OR).sort((h,b)=>h.length-b.length)),this._setMask()):(this._maskExpressionArray.set([]),this._maskValue.set(e.currentValue||n.EMPTY_STRING),this._maskService.maskExpression=this._maskValue())),s){if(!s.currentValue||!Array.isArray(s.currentValue))return;this._maskService.specialCharacters=s.currentValue||[]}if(L&&(this._maskService.allowNegativeNumbers=L.currentValue,this._maskService.allowNegativeNumbers&&(this._maskService.specialCharacters=this._maskService.specialCharacters.filter(h=>h!==n.MINUS))),i&&i.currentValue&&(this._maskService.patterns=i.currentValue),G&&G.currentValue&&(this._maskService.apm=G.currentValue),S&&(this._maskService.instantPrefix=S.currentValue),o&&(this._maskService.prefix=o.currentValue),p&&(this._maskService.suffix=p.currentValue),a&&(this._maskService.thousandSeparator=a.currentValue,a.previousValue&&a.currentValue)){let h=this._maskService.decimalMarker;a.currentValue===this._maskService.decimalMarker&&(this._maskService.decimalMarker=a.currentValue===n.COMMA?n.DOT:n.COMMA),this._maskService.dropSpecialCharacters===!0&&(this._maskService.specialCharacters=this._config.specialCharacters),typeof h=="string"&&typeof this._maskService.decimalMarker=="string"&&(this._inputValue.set(this._inputValue().split(a.previousValue).join("").replace(h,this._maskService.decimalMarker)),this._maskService.actualValue=this._inputValue()),this._maskService.writingValue=!0}l&&(this._maskService.decimalMarker=l.currentValue),d&&(this._maskService.dropSpecialCharacters=d.currentValue),g&&(this._maskService.hiddenInput=g.currentValue,g.previousValue===!0&&g.currentValue===!1&&this._inputValue.set(this._maskService.actualValue)),M&&(this._maskService.showMaskTyped=M.currentValue,M.previousValue===!1&&M.currentValue===!0&&this._isFocused()&&requestAnimationFrame(()=>{this._maskService._elementRef?.nativeElement.click()})),O&&(this._maskService.placeHolderCharacter=O.currentValue),r&&(this._maskService.shownMaskExpression=r.currentValue),f&&(this._maskService.clearIfNotMatch=f.currentValue),x&&(this._maskService.validation=x.currentValue),D&&(this._maskService.separatorLimit=D.currentValue),R&&(this._maskService.leadZeroDateTime=R.currentValue),V&&(this._maskService.leadZero=V.currentValue),j&&(this._maskService.triggerOnMaskChange=j.currentValue),K&&(this._maskService.inputTransformFn=K.currentValue),W&&(this._maskService.outputTransformFn=W.currentValue),J&&(this._maskService.keepCharacterPositions=J.currentValue),this._applyMask()}validate({value:t}){let e=typeof t=="number"?String(t):t,s=this._maskValue();if(!this._maskService.validation||!s)return null;if(this._maskService.ipError)return this._createValidationError(e);if(this._maskService.cpfCnpjError)return this._createValidationError(e);if(s.startsWith(n.SEPARATOR)||rt.includes(s)||this._maskService.clearIfNotMatch)return null;if(st.includes(s))return this._validateTime(e);if(s===n.EMAIL_MASK)return!/^[^@]+@[^@]+\.[^@]+$/.test(e)&&e?this._createValidationError(e):null;if(e&&e.length>=1){let i=0;if(s.includes(n.CURLY_BRACKETS_LEFT)&&s.includes(n.CURLY_BRACKETS_RIGHT))return s.slice(s.indexOf(n.CURLY_BRACKETS_LEFT)+1,s.indexOf(n.CURLY_BRACKETS_RIGHT))===String(e.length)?null:this._createValidationError(e);if(s.startsWith(n.PERCENT))return null;for(let o in this._maskService.patterns)if(this._maskService.patterns[o]?.optional){if(s.indexOf(o)!==s.lastIndexOf(o)){let p=s.split(n.EMPTY_STRING).filter(a=>a===o).join(n.EMPTY_STRING);i+=p.length}else s.indexOf(o)!==-1&&i++;if(s.indexOf(o)!==-1&&e.length>=s.indexOf(o)||i===s.length)return null}if(s.indexOf(n.SYMBOL_STAR)>1&&e.length<s.indexOf(n.SYMBOL_STAR)||s.indexOf(n.SYMBOL_QUESTION)>1&&e.length<s.indexOf(n.SYMBOL_QUESTION))return this._createValidationError(e);if(s.indexOf(n.SYMBOL_STAR)===-1||s.indexOf(n.SYMBOL_QUESTION)===-1){let o=s.split("*"),p=this._maskService.dropSpecialCharacters?s.length-this._maskService.checkDropSpecialCharAmount(s)-i:this.prefix()?s.length+this.prefix().length-i:s.length-i;if(o.length===1&&e.length<p)return this._createValidationError(e);if(o.length>1){let a=o[o.length-1];if(a&&this._maskService.specialCharacters.includes(a[0])&&String(e).includes(a[0]??"")&&!this.dropSpecialCharacters()){let l=t.split(a[0]);return l[l.length-1].length===a.length-1?null:this._createValidationError(e)}else return(a&&!this._maskService.specialCharacters.includes(a[0])||!a||this._maskService.dropSpecialCharacters)&&e.length>=p-1?null:this._createValidationError(e)}}if(s.indexOf(n.SYMBOL_STAR)===1||s.indexOf(n.SYMBOL_QUESTION)===1)return null}return t&&this.maskFilled.emit(),null}onPaste(){this._justPasted.set(!0)}onFocus(){this._isFocused.set(!0)}onModelChange(t){(t===n.EMPTY_STRING||t===null||typeof t>"u")&&this._maskService.actualValue&&(this._maskService.actualValue=this._maskService.getActualValue(n.EMPTY_STRING))}onInput(t){if(this._maskService.isInitialized=!0,this._isComposing())return;let e=t.target,s=this._maskService.inputTransformFn?this._maskService.inputTransformFn(e.value):e.value;if(e.type!=="number")if(typeof s=="string"||typeof s=="number"){if(e.value=s.toString(),this._inputValue.set(e.value),this._setMask(),!this._maskValue()){this.onChange(e.value);return}let i=e.selectionStart===1?e.selectionStart+this._maskService.prefix.length:e.selectionStart;if(this.showMaskTyped()&&this.keepCharacterPositions()&&this._maskService.placeHolderCharacter.length===1){let l=this.suffix(),d=this.prefix(),g=e.value.slice(i-1,i),M=d.length,O=this._maskService._checkSymbolMask(g,this._maskService.maskExpression[i-1-M]??n.EMPTY_STRING),r=this._maskService._checkSymbolMask(g,this._maskService.maskExpression[i+1-M]??n.EMPTY_STRING),f=this._maskService.selStart===this._maskService.selEnd,x=Number(this._maskService.selStart)-M,D=Number(this._maskService.selEnd)-M,L=this._code()===n.BACKSPACE||this._code()===n.DELETE;if(L){if(!f)this._maskService.selStart===M?this._maskService.actualValue=`${d}${this._maskService.maskIsShown.slice(0,D)}${this._inputValue().split(d).join("")}`:this._maskService.selStart===this._maskService.maskIsShown.length+M?this._maskService.actualValue=`${this._inputValue()}${this._maskService.maskIsShown.slice(x,D)}`:this._maskService.actualValue=`${d}${this._inputValue().split(d).join("").slice(0,x)}${this._maskService.maskIsShown.slice(x,D)}${this._maskService.actualValue.slice(D+M,this._maskService.maskIsShown.length+M)}${l}`;else if(!this._maskService.specialCharacters.includes(this._maskService.maskExpression.slice(i-M,i+1-M))&&f)if(x===1&&d)this._maskService.actualValue=`${d}${this._maskService.placeHolderCharacter}${e.value.split(d).join("").split(l).join("")}${l}`,i=i-1;else{let R=e.value.substring(0,i),V=e.value.substring(i);this._maskService.actualValue=`${R}${this._maskService.placeHolderCharacter}${V}`}i=this._code()===n.DELETE?i+1:i}L||(!O&&!r&&f?i=Number(e.selectionStart)-1:this._maskService.specialCharacters.includes(e.value.slice(i,i+1))&&r&&!this._maskService.specialCharacters.includes(e.value.slice(i+1,i+2))?(this._maskService.actualValue=`${e.value.slice(0,i-1)}${e.value.slice(i,i+1)}${g}${e.value.slice(i+2)}`,i=i+1):O?e.value.length===1&&i===1?this._maskService.actualValue=`${d}${g}${this._maskService.maskIsShown.slice(1,this._maskService.maskIsShown.length)}${l}`:this._maskService.actualValue=`${e.value.slice(0,i-1)}${g}${e.value.slice(i+1).split(l).join("")}${l}`:d&&e.value.length===1&&i-M===1&&this._maskService._checkSymbolMask(e.value,this._maskService.maskExpression[i-1-M]??n.EMPTY_STRING)&&(this._maskService.actualValue=`${d}${e.value}${this._maskService.maskIsShown.slice(1,this._maskService.maskIsShown.length)}${l}`))}let o=0,p=!1;if(this._code()===n.DELETE&&n.SEPARATOR&&(this._maskService.deletedSpecialCharacter=!0),this._inputValue().length>=this._maskService.maskExpression.length-1&&this._code()!==n.BACKSPACE&&this._maskService.maskExpression===n.DAYS_MONTHS_YEARS&&i<10){let l=this._inputValue().slice(i-1,i);e.value=this._inputValue().slice(0,i-1)+l+this._inputValue().slice(i+1)}if(this._maskService.maskExpression===n.DAYS_MONTHS_YEARS&&this.leadZeroDateTime()&&(i<3&&Number(e.value)>31&&Number(e.value)<40||i===5&&Number(e.value.slice(3,5))>12)&&(i=i+2),this._maskService.maskExpression===n.HOURS_MINUTES_SECONDS&&this.apm()&&(this._justPasted()&&e.value.slice(0,2)===n.DOUBLE_ZERO&&(e.value=e.value.slice(1,2)+e.value.slice(2,e.value.length)),e.value=e.value===n.DOUBLE_ZERO?n.NUMBER_ZERO:e.value),this._maskService.applyValueChanges(i,this._justPasted(),this._code()===n.BACKSPACE||this._code()===n.DELETE,(l,d)=>{this._justPasted.set(!1),o=l,p=d}),this._getActiveElement()!==e)return;if(this._maskService.plusOnePosition&&(i=i+1,this._maskService.plusOnePosition=!1),this._maskExpressionArray().length)if(this._code()===n.BACKSPACE){let l=this.specialCharacters().includes(this._maskService.actualValue.slice(i-1,i)),d=this._maskService.removeMask(this._inputValue())?.length===this._maskService.removeMask(this._maskService.maskExpression)?.length,g=this.specialCharacters().includes(this._maskService.actualValue.slice(i,i+1));d&&!g?i=e.selectionStart+1:i=l?i-1:i}else i=e.selectionStart===1?e.selectionStart+this._maskService.prefix.length:e.selectionStart;this._position.set(this._position()===1&&this._inputValue().length===1?null:this._position());let a=this._position()?this._inputValue().length+i+o:i+(this._code()===n.BACKSPACE&&!p?0:o);a>this._getActualInputLength()&&(a=e.value===this._maskService.decimalMarker&&e.value.length===1?this._getActualInputLength()+1:this._getActualInputLength()),a<0&&(a=0),e.setSelectionRange(a,a),this._position.set(null)}else console.warn("Ngx-mask writeValue work with string | number, your current value:",typeof s);else{if(!this._maskValue()){this.onChange(e.value);return}this._maskService.applyValueChanges(e.value.length,this._justPasted(),this._code()===n.BACKSPACE||this._code()===n.DELETE)}}onCompositionStart(){this._isComposing.set(!0)}onCompositionEnd(t){this._isComposing.set(!1),this._justPasted.set(!0),this.onInput(t)}onBlur(t){if(this._maskValue()){let e=t.target;if(this._maskService.leadZero&&e.value.length>0&&typeof this._maskService.decimalMarker=="string"){let s=this._maskService.maskExpression,i=this._maskService.decimalMarker,o=this._maskService.suffix,p=Number(this._maskService.maskExpression.slice(s.length-1,s.length));if(p>0){e.value=o?e.value.split(o).join(""):e.value;let a=e.value.split(i)[1];e.value=e.value.includes(i)?e.value+n.NUMBER_ZERO.repeat(p-a.length)+o:e.value+i+n.NUMBER_ZERO.repeat(p)+o,this._maskService.actualValue=e.value}}this._maskService.clearIfNotMatchFn()}this._isFocused.set(!1),this.onTouch()}onClick(t){if(!this._maskValue())return;let e=t.target,s=0,i=0;e!==null&&e.selectionStart!==null&&e.selectionStart===e.selectionEnd&&e.selectionStart>this._maskService.prefix.length&&t.keyCode!==38&&this._maskService.showMaskTyped&&!this.keepCharacterPositions()&&(this._maskService.maskIsShown=this._maskService.showMaskInInput(),e.setSelectionRange&&this._maskService.prefix+this._maskService.maskIsShown===e.value?(e.focus(),e.setSelectionRange(s,i)):e.selectionStart>this._maskService.actualValue.length&&e.setSelectionRange(this._maskService.actualValue.length,this._maskService.actualValue.length));let o=e&&(e.value===this._maskService.prefix?this._maskService.prefix+this._maskService.maskIsShown:e.value);if(e&&e.value!==o&&(e.value=o),e&&e.type!=="number"&&(e.selectionStart||e.selectionEnd)<=this._maskService.prefix.length){let p=this._maskService.maskExpression.match(new RegExp(`^[${this._maskService.specialCharacters.map(a=>`\\${a}`).join("")}]+`))?.[0].length||0;e.selectionStart=this._maskService.prefix.length+p;return}e&&e.selectionEnd>this._getActualInputLength()&&(e.selectionEnd=this._getActualInputLength())}onKeyDown(t){if(!this._maskValue())return;if(this._isComposing()){t.key==="Enter"&&this.onCompositionEnd(t);return}this._code.set(t.code?t.code:t.key);let e=t.target;this._inputValue.set(e.value),this._setMask();let s=e.tagName.toLowerCase()==="textarea";if(e.type!=="number"){if(t.key===n.ARROW_UP&&!s&&t.preventDefault(),t.key===n.ARROW_LEFT||t.key===n.BACKSPACE||t.key===n.DELETE){if(t.key===n.BACKSPACE&&e.value.length===0&&(e.selectionStart=e.selectionEnd),t.key===n.BACKSPACE&&e.selectionStart!==0){let o=this.prefix().length,p=this.specialCharacters().length?this.specialCharacters():this._config.specialCharacters;if(o>1&&e.selectionStart<=o)e.setSelectionRange(o,e.selectionEnd);else if(this._inputValue().length!==e.selectionStart&&e.selectionStart!==1)for(;p.includes((this._inputValue()[e.selectionStart-1]??n.EMPTY_STRING).toString())&&(o>=1&&e.selectionStart>o||o===0);)e.setSelectionRange(e.selectionStart-1,e.selectionEnd)}this.checkSelectionOnDeletion(e),this._maskService.prefix.length&&e.selectionStart<=this._maskService.prefix.length&&e.selectionEnd<=this._maskService.prefix.length&&t.preventDefault();let i=e.selectionStart;t.key===n.BACKSPACE&&!e.readOnly&&i===0&&e.selectionEnd===e.value.length&&e.value.length!==0&&(this._position.set(this._maskService.prefix?this._maskService.prefix.length:0),this._maskService.applyMask(this._maskService.prefix,this._maskService.maskExpression,this._position()))}this.suffix()&&this.suffix().length>1&&this._inputValue().length-this.suffix().length<e.selectionStart?e.setSelectionRange(this._inputValue().length-this.suffix().length,this._inputValue().length):(t.code==="KeyA"&&t.ctrlKey||t.code==="KeyA"&&t.metaKey)&&(e.setSelectionRange(0,this._getActualInputLength()),t.preventDefault()),this._maskService.selStart=e.selectionStart,this._maskService.selEnd=e.selectionEnd}}writeValue(t){return ie(this,null,function*(){let e=t,s=this._maskService.inputTransformFn;if(typeof e=="object"&&e!==null&&"value"in e&&("disable"in e&&this.setDisabledState(!!e.disable),e=e.value),e!==null&&(e=s?s(e):e),typeof e=="string"||typeof e=="number"||e===null||typeof e>"u"){(e===null||typeof e>"u"||e==="")&&(this._maskService.currentValue="",this._maskService.previousValue="");let i=e;if(typeof i=="number"||this._maskValue().startsWith(n.SEPARATOR)){i=String(i);let o=this._maskService.currentLocaleDecimalMarker();Array.isArray(this._maskService.decimalMarker)||(i=this._maskService.decimalMarker!==o?i.replace(o,this._maskService.decimalMarker):i),this._maskService.leadZero&&i&&this.mask()&&this.dropSpecialCharacters()!==!1&&(i=this._maskService._checkPrecision(this._maskService.maskExpression,i)),(this._maskService.decimalMarker===n.COMMA||Array.isArray(this._maskService.decimalMarker)&&this._maskService.thousandSeparator===n.DOT)&&(i=i.toString().replace(n.DOT,n.COMMA)),this.mask()?.startsWith(n.SEPARATOR)&&this.leadZero()&&requestAnimationFrame(()=>{this._maskService.applyMask(i?.toString()??"",this._maskService.maskExpression)}),this._maskService.isNumberValue=!0}(typeof i!="string"||e===null||typeof e>"u")&&(i=""),this._inputValue.set(i),this._setMask(),i&&this._maskService.maskExpression||this._maskService.maskExpression&&(this._maskService.prefix||this._maskService.showMaskTyped)?(this._maskService.writingValue=!0,this._maskService.formElementProperty=["value",this._maskService.applyMask(i,this._maskService.maskExpression)],this._maskService.writingValue=!1,this._maskService.isInitialized=!0):(this._maskService.formElementProperty=["value",i],this._maskService.isInitialized=!0),this._inputValue.set(i)}else console.warn("Ngx-mask writeValue work with string | number, your current value:",typeof e)})}registerOnChange(t){this._maskService.onChange=this.onChange=t}registerOnTouched(t){this.onTouch=t}_getActiveElement(t=this.document){let e=t?.activeElement?.shadowRoot;return e?.activeElement?this._getActiveElement(e):t.activeElement}checkSelectionOnDeletion(t){let e=this.prefix().length,s=this.suffix().length,i=this._inputValue().length;t.selectionStart=Math.min(Math.max(e,t.selectionStart),i-s),t.selectionEnd=Math.min(Math.max(e,t.selectionEnd),i-s)}setDisabledState(t){this._maskService.formElementProperty=["disabled",t]}_applyMask(){this._maskService.maskExpression=this._maskService._repeatPatternSymbols(this._maskValue()||""),this._maskService.formElementProperty=["value",this._maskService.applyMask(this._inputValue(),this._maskService.maskExpression)]}_validateTime(t){let e=this._maskValue().split(n.EMPTY_STRING).filter(s=>s!==":").length;return t&&(+(t[t.length-1]??-1)==0&&t.length<e||t.length<=e-2)?this._createValidationError(t):null}_getActualInputLength(){return this._maskService.actualValue.length||this._maskService.actualValue.length+this._maskService.prefix.length}_createValidationError(t){return{mask:{requiredMask:this._maskValue(),actualValue:t}}}_setMask(){this._maskExpressionArray().some(t=>{if(t.split(n.EMPTY_STRING).some(s=>this._maskService.specialCharacters.includes(s))&&this._inputValue()&&this._areAllCharactersInEachStringSame(this._maskExpressionArray())||t.includes(n.CURLY_BRACKETS_LEFT)){let s=this._maskService.removeMask(this._inputValue())?.length<=this._maskService.removeMask(t)?.length;if(s){let i=t.includes(n.CURLY_BRACKETS_LEFT)?this._maskService._repeatPatternSymbols(t):t;return this._maskValue.set(i),this._maskService.maskExpression=i,s}else{let i=this._maskExpressionArray()[this._maskExpressionArray().length-1]??n.EMPTY_STRING,o=i.includes(n.CURLY_BRACKETS_LEFT)?this._maskService._repeatPatternSymbols(i):i;this._maskValue.set(o),this._maskService.maskExpression=o}}else{let s=this._maskService.removeMask(t),i=this._maskService.removeMask(this._inputValue())?.split(n.EMPTY_STRING).every((o,p)=>{let a=s.charAt(p);return this._maskService._checkSymbolMask(o,a)});if(i||this._justPasted())return this._maskValue.set(t),this._maskService.maskExpression=t,i}})}_areAllCharactersInEachStringSame(t){let e=this._maskService.specialCharacters;function s(o){let p=new RegExp(`[${e.map(a=>`\\${a}`).join("")}]`,"g");return o.replace(p,"")}return t.map(s).every(o=>new Set(o).size===1)}static \u0275fac=function(e){return new(e||c)};static \u0275dir=ve({type:c,selectors:[["input","mask",""],["textarea","mask",""]],hostBindings:function(e,s){e&1&&Y("paste",function(){return s.onPaste()})("focus",function(o){return s.onFocus(o)})("ngModelChange",function(o){return s.onModelChange(o)})("input",function(o){return s.onInput(o)})("compositionstart",function(o){return s.onCompositionStart(o)})("compositionend",function(o){return s.onCompositionEnd(o)})("blur",function(o){return s.onBlur(o)})("click",function(o){return s.onClick(o)})("keydown",function(o){return s.onKeyDown(o)})},inputs:{mask:[1,"mask"],specialCharacters:[1,"specialCharacters"],patterns:[1,"patterns"],prefix:[1,"prefix"],suffix:[1,"suffix"],thousandSeparator:[1,"thousandSeparator"],decimalMarker:[1,"decimalMarker"],dropSpecialCharacters:[1,"dropSpecialCharacters"],hiddenInput:[1,"hiddenInput"],showMaskTyped:[1,"showMaskTyped"],placeHolderCharacter:[1,"placeHolderCharacter"],shownMaskExpression:[1,"shownMaskExpression"],clearIfNotMatch:[1,"clearIfNotMatch"],validation:[1,"validation"],separatorLimit:[1,"separatorLimit"],allowNegativeNumbers:[1,"allowNegativeNumbers"],leadZeroDateTime:[1,"leadZeroDateTime"],leadZero:[1,"leadZero"],triggerOnMaskChange:[1,"triggerOnMaskChange"],apm:[1,"apm"],inputTransformFn:[1,"inputTransformFn"],outputTransformFn:[1,"outputTransformFn"],keepCharacterPositions:[1,"keepCharacterPositions"],instantPrefix:[1,"instantPrefix"]},outputs:{maskFilled:"maskFilled"},exportAs:["mask","ngxMask"],features:[se([{provide:Re,useExisting:c,multi:!0},{provide:Ie,useExisting:c,multi:!0},de]),fe]})}return c})();function lt(c,E){if(c&1){let t=me();u(0,"div",51)(1,"span"),_(2),m(),u(3,"button",52),Y("click",function(){let s=he(t).$implicit,i=Q(2);return ue(i.removeSpecification(s.key))}),_(4,"X"),m()()}if(c&2){let t=E.$implicit;v(2),Ee("",t.key,": ",t.value,"")}}function ct(c,E){if(c&1&&(u(0,"div",49),q(1,lt,5,2,"div",50),m()),c&2){let t=Q();v(),U("ngForOf",t.getSpecificationsArray(t.newAsset.specifications))}}function ht(c,E){c&1&&(u(0,"p",53),_(1,"Nenhuma especifica\xE7\xE3o adicionada."),m())}function ut(c,E){if(c&1){let t=me();u(0,"div",56)(1,"span"),_(2),ye(3,"date"),m(),u(4,"button",52),Y("click",function(){let s=he(t).index,i=Q(2);return ue(i.removeMaintenance(s))}),_(5,"X"),m()()}if(c&2){let t=E.$implicit;v(2),Te("",Ne(3,3,t.date,"dd/MM/yyyy")," - ",t.type," por ",t.technician,"")}}function mt(c,E){if(c&1&&(u(0,"div",54),q(1,ut,6,6,"div",55),m()),c&2){let t=Q();v(),U("ngForOf",t.newAsset.maintenanceHistory)}}function pt(c,E){c&1&&(u(0,"p",53),_(1,"Nenhum registro de manuten\xE7\xE3o."),m())}var ze=class c{firestoreService=A(Ge);router=A(we);newAsset;currentSpecKey="";currentSpecValue="";newMaintenanceRecord={date:new Date,type:"",description:"",technician:""};constructor(){this.newAsset={name:"",serialNumber:"",type:"",category:"computers",status:"Ativo",location:"",responsible:"",description:"",patrimony:"",lastMaintenance:new Date,specifications:{},maintenanceHistory:[]}}ngOnInit(){}addSpecification(){this.currentSpecKey&&this.currentSpecValue&&(this.newAsset.specifications||(this.newAsset.specifications={}),this.newAsset.specifications[this.currentSpecKey]=this.currentSpecValue,this.currentSpecKey="",this.currentSpecValue="")}removeSpecification(E){this.newAsset.specifications&&delete this.newAsset.specifications[E]}addMaintenance(){this.newMaintenanceRecord.type&&this.newMaintenanceRecord.description&&this.newMaintenanceRecord.technician&&(this.newAsset.maintenanceHistory||(this.newAsset.maintenanceHistory=[]),this.newAsset.maintenanceHistory.push(le($({},this.newMaintenanceRecord),{date:new Date(this.newMaintenanceRecord.date)})),this.newMaintenanceRecord={date:new Date,type:"",description:"",technician:""})}removeMaintenance(E){this.newAsset.maintenanceHistory&&this.newAsset.maintenanceHistory.splice(E,1)}onSubmit(){return ie(this,null,function*(){let E={name:this.newAsset.name||"",serialNumber:this.newAsset.serialNumber||"",type:this.newAsset.type||"",category:this.newAsset.category||"computers",status:this.newAsset.status||"Ativo",location:this.newAsset.location||"",responsible:this.newAsset.responsible||"",description:this.newAsset.description||"",patrimony:this.newAsset.patrimony||"",lastMaintenance:this.newAsset.lastMaintenance||new Date,specifications:this.newAsset.specifications||{},maintenanceHistory:this.newAsset.maintenanceHistory||[]};try{yield this.firestoreService.addAsset(E),alert("Ativo adicionado com sucesso!"),this.router.navigate(["/ativos"])}catch(t){console.error("Erro ao adicionar ativo:",t),alert("Erro ao adicionar ativo.")}})}getSpecificationsArray(E){return E?Object.entries(E).map(([t,e])=>({key:t,value:e})):[]}static \u0275fac=function(t){return new(t||c)};static \u0275cmp=ke({type:c,selectors:[["app-asset-form"]],features:[se([re,je()])],decls:93,vars:20,consts:[[1,"form-container"],[3,"ngSubmit"],[1,"form-section"],[1,"form-grid"],[1,"form-group"],["for","name"],["id","name","type","text","name","name","required","",3,"ngModelChange","ngModel"],["for","patrimony"],["id","patrimony","type","text","name","patrimony","required","","mask","000",3,"ngModelChange","ngModel"],["for","serialNumber"],["id","serialNumber","type","text","name","serialNumber","required","",3,"ngModelChange","ngModel"],["for","type"],["id","type","type","text","name","type","required","",3,"ngModelChange","ngModel"],["for","category"],["id","category","name","category","required","",3,"ngModelChange","ngModel"],["value","computers"],["value","printers"],["value","monitors"],["value","accessories"],["value","other"],["for","status"],["id","status","name","status","required","",3,"ngModelChange","ngModel"],["value","Ativo"],["value","Inativo"],["value","Manuten\xE7\xE3o"],["value","Aposentado"],["for","location"],["id","location","type","text","name","location","required","",3,"ngModelChange","ngModel"],["for","responsible"],["id","responsible","type","text","name","responsible","required","",3,"ngModelChange","ngModel"],[1,"form-group","full-width"],["for","description"],["id","description","name","description","rows","3",3,"ngModelChange","ngModel"],["for","lastMaintenance"],["id","lastMaintenance","type","date","name","lastMaintenance",3,"ngModelChange","ngModel"],[1,"spec-input-group"],["type","text","placeholder","Chave (Ex: Processador)","name","currentSpecKey",3,"ngModelChange","ngModel"],["type","text","placeholder","Valor (Ex: Intel i7)","name","currentSpecValue",3,"ngModelChange","ngModel"],["type","button",1,"btn","btn-secondary",3,"click"],["class","spec-list",4,"ngIf"],["class","no-items",4,"ngIf"],[1,"maintenance-input-group"],["type","date","name","maintenanceDate",3,"ngModelChange","ngModel"],["type","text","placeholder","Tipo (Ex: Preventiva)","name","maintenanceType",3,"ngModelChange","ngModel"],["type","text","placeholder","Descri\xE7\xE3o","name","maintenanceDescription",3,"ngModelChange","ngModel"],["type","text","placeholder","T\xE9cnico","name","maintenanceTechnician",3,"ngModelChange","ngModel"],["class","maintenance-list",4,"ngIf"],[1,"form-actions"],["type","submit",1,"btn","btn-primary"],[1,"spec-list"],["class","spec-item",4,"ngFor","ngForOf"],[1,"spec-item"],["type","button",1,"btn-remove",3,"click"],[1,"no-items"],[1,"maintenance-list"],["class","maintenance-item",4,"ngFor","ngForOf"],[1,"maintenance-item"]],template:function(t,e){t&1&&(u(0,"div",0)(1,"h1"),_(2,"Cadastrar Novo Ativo"),m(),u(3,"form",1),Y("ngSubmit",function(){return e.onSubmit()}),u(4,"section",2)(5,"h2"),_(6,"Informa\xE7\xF5es B\xE1sicas"),m(),u(7,"div",3)(8,"div",4)(9,"label",5),_(10,"Nome do Ativo"),m(),u(11,"input",6),P("ngModelChange",function(i){return N(e.newAsset.name,i)||(e.newAsset.name=i),i}),m()(),u(12,"div",4)(13,"label",7),_(14,"Patrim\xF4nio"),m(),u(15,"input",8),P("ngModelChange",function(i){return N(e.newAsset.patrimony,i)||(e.newAsset.patrimony=i),i}),m()(),u(16,"div",4)(17,"label",9),_(18,"N\xFAmero de S\xE9rie"),m(),u(19,"input",10),P("ngModelChange",function(i){return N(e.newAsset.serialNumber,i)||(e.newAsset.serialNumber=i),i}),m()(),u(20,"div",4)(21,"label",11),_(22,"Tipo"),m(),u(23,"input",12),P("ngModelChange",function(i){return N(e.newAsset.type,i)||(e.newAsset.type=i),i}),m()(),u(24,"div",4)(25,"label",13),_(26,"Categoria"),m(),u(27,"select",14),P("ngModelChange",function(i){return N(e.newAsset.category,i)||(e.newAsset.category=i),i}),u(28,"option",15),_(29,"Computadores"),m(),u(30,"option",16),_(31,"Impressoras"),m(),u(32,"option",17),_(33,"Monitores"),m(),u(34,"option",18),_(35,"Acess\xF3rios"),m(),u(36,"option",19),_(37,"Outros"),m()()(),u(38,"div",4)(39,"label",20),_(40,"Status"),m(),u(41,"select",21),P("ngModelChange",function(i){return N(e.newAsset.status,i)||(e.newAsset.status=i),i}),u(42,"option",22),_(43,"Ativo"),m(),u(44,"option",23),_(45,"Inativo"),m(),u(46,"option",24),_(47,"Manuten\xE7\xE3o"),m(),u(48,"option",25),_(49,"Aposentado"),m()()(),u(50,"div",4)(51,"label",26),_(52,"Localiza\xE7\xE3o"),m(),u(53,"input",27),P("ngModelChange",function(i){return N(e.newAsset.location,i)||(e.newAsset.location=i),i}),m()(),u(54,"div",4)(55,"label",28),_(56,"Respons\xE1vel"),m(),u(57,"input",29),P("ngModelChange",function(i){return N(e.newAsset.responsible,i)||(e.newAsset.responsible=i),i}),m()(),u(58,"div",30)(59,"label",31),_(60,"Descri\xE7\xE3o"),m(),u(61,"textarea",32),P("ngModelChange",function(i){return N(e.newAsset.description,i)||(e.newAsset.description=i),i}),m()(),u(62,"div",4)(63,"label",33),_(64,"\xDAltima Manuten\xE7\xE3o (opcional)"),m(),u(65,"input",34),P("ngModelChange",function(i){return N(e.newAsset.lastMaintenance,i)||(e.newAsset.lastMaintenance=i),i}),m()()()(),u(66,"section",2)(67,"h2"),_(68,"Especifica\xE7\xF5es T\xE9cnicas (Opcional)"),m(),u(69,"div",35)(70,"input",36),P("ngModelChange",function(i){return N(e.currentSpecKey,i)||(e.currentSpecKey=i),i}),m(),u(71,"input",37),P("ngModelChange",function(i){return N(e.currentSpecValue,i)||(e.currentSpecValue=i),i}),m(),u(72,"button",38),Y("click",function(){return e.addSpecification()}),_(73,"Adicionar"),m()(),q(74,ct,2,1,"div",39)(75,ht,2,0,"p",40),m(),u(76,"section",2)(77,"h2"),_(78,"Hist\xF3rico de Manuten\xE7\xE3o (Opcional)"),m(),u(79,"div",41)(80,"input",42),P("ngModelChange",function(i){return N(e.newMaintenanceRecord.date,i)||(e.newMaintenanceRecord.date=i),i}),m(),u(81,"input",43),P("ngModelChange",function(i){return N(e.newMaintenanceRecord.type,i)||(e.newMaintenanceRecord.type=i),i}),m(),u(82,"input",44),P("ngModelChange",function(i){return N(e.newMaintenanceRecord.description,i)||(e.newMaintenanceRecord.description=i),i}),m(),u(83,"input",45),P("ngModelChange",function(i){return N(e.newMaintenanceRecord.technician,i)||(e.newMaintenanceRecord.technician=i),i}),m(),u(84,"button",38),Y("click",function(){return e.addMaintenance()}),_(85,"Adicionar"),m()(),q(86,mt,2,1,"div",46)(87,pt,2,0,"p",40),m(),u(88,"div",47)(89,"button",38),Y("click",function(){return e.router.navigate(["/ativos"])}),_(90,"Cancelar"),m(),u(91,"button",48),_(92,"Salvar Ativo"),m()()()()),t&2&&(v(11),y("ngModel",e.newAsset.name),v(4),y("ngModel",e.newAsset.patrimony),v(4),y("ngModel",e.newAsset.serialNumber),v(4),y("ngModel",e.newAsset.type),v(4),y("ngModel",e.newAsset.category),v(14),y("ngModel",e.newAsset.status),v(12),y("ngModel",e.newAsset.location),v(4),y("ngModel",e.newAsset.responsible),v(4),y("ngModel",e.newAsset.description),v(4),y("ngModel",e.newAsset.lastMaintenance),v(5),y("ngModel",e.currentSpecKey),v(),y("ngModel",e.currentSpecValue),v(3),U("ngIf",e.newAsset.specifications&&e.getSpecificationsArray(e.newAsset.specifications).length>0),v(),U("ngIf",!e.newAsset.specifications||e.getSpecificationsArray(e.newAsset.specifications).length===0),v(5),y("ngModel",e.newMaintenanceRecord.date),v(),y("ngModel",e.newMaintenanceRecord.type),v(),y("ngModel",e.newMaintenanceRecord.description),v(),y("ngModel",e.newMaintenanceRecord.technician),v(3),U("ngIf",e.newAsset.maintenanceHistory&&e.newAsset.maintenanceHistory.length>0),v(),U("ngIf",!e.newAsset.maintenanceHistory||e.newAsset.maintenanceHistory.length===0))},dependencies:[Ae,Pe,Oe,re,Ue,He,Le,Be,be,Ye,xe,De,$e,Fe,Ve,Ke],styles:[".form-container[_ngcontent-%COMP%]{max-width:800px;margin:var(--spacing-2xl) auto;padding:var(--spacing-lg);background-color:var(--secondary-bg);border-radius:var(--radius-lg);box-shadow:var(--shadow-md);color:var(--primary-text)}.form-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:24px;margin-bottom:var(--spacing-xl);color:var(--primary-text);text-align:center}.form-container[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{margin-bottom:var(--spacing-xl);padding-bottom:var(--spacing-md);border-bottom:1px solid var(--border-color)}.form-container[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:18px;color:var(--accent-blue);margin-bottom:var(--spacing-lg);border-bottom:2px solid var(--accent-blue);padding-bottom:var(--spacing-sm)}.form-container[_ngcontent-%COMP%]   .form-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:var(--spacing-md)}.form-container[_ngcontent-%COMP%]   .form-grid[_ngcontent-%COMP%]   .full-width[_ngcontent-%COMP%]{grid-column:1/-1}.form-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:var(--spacing-sm)}.form-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:14px;font-weight:500;margin-bottom:var(--spacing-xs);color:var(--secondary-text)}.form-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], .form-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=date][_ngcontent-%COMP%], .form-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%], .form-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:var(--spacing-sm);border:1px solid var(--border-color);border-radius:var(--radius-md);background-color:var(--tertiary-bg);color:var(--primary-text);font-size:16px;transition:border-color .2s ease}.form-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]:focus, .form-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=date][_ngcontent-%COMP%]:focus, .form-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus, .form-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--accent-blue)}.form-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical}.form-container[_ngcontent-%COMP%]   .spec-input-group[_ngcontent-%COMP%], .form-container[_ngcontent-%COMP%]   .maintenance-input-group[_ngcontent-%COMP%]{display:flex;gap:var(--spacing-sm);margin-bottom:var(--spacing-md);flex-wrap:wrap}.form-container[_ngcontent-%COMP%]   .spec-input-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-container[_ngcontent-%COMP%]   .maintenance-input-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1;min-width:120px;padding:var(--spacing-sm);border:1px solid var(--border-color);border-radius:var(--radius-md);background-color:var(--tertiary-bg);color:var(--primary-text);font-size:14px}.form-container[_ngcontent-%COMP%]   .spec-input-group[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%], .form-container[_ngcontent-%COMP%]   .maintenance-input-group[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]{flex-shrink:0}.form-container[_ngcontent-%COMP%]   .spec-list[_ngcontent-%COMP%], .form-container[_ngcontent-%COMP%]   .maintenance-list[_ngcontent-%COMP%]{background-color:var(--tertiary-bg);border:1px solid var(--border-color);border-radius:var(--radius-md);padding:var(--spacing-sm);max-height:200px;overflow-y:auto}.form-container[_ngcontent-%COMP%]   .spec-item[_ngcontent-%COMP%], .form-container[_ngcontent-%COMP%]   .maintenance-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:var(--spacing-xs) var(--spacing-sm);border-bottom:1px dashed var(--border-color)}.form-container[_ngcontent-%COMP%]   .spec-item[_ngcontent-%COMP%]:last-child, .form-container[_ngcontent-%COMP%]   .maintenance-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.form-container[_ngcontent-%COMP%]   .spec-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .form-container[_ngcontent-%COMP%]   .maintenance-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--primary-text);font-size:14px}.form-container[_ngcontent-%COMP%]   .spec-item[_ngcontent-%COMP%]   .btn-remove[_ngcontent-%COMP%], .form-container[_ngcontent-%COMP%]   .maintenance-item[_ngcontent-%COMP%]   .btn-remove[_ngcontent-%COMP%]{background-color:var(--error-color);color:#fff;border:none;border-radius:var(--radius-sm);width:24px;height:24px;display:flex;align-items:center;justify-content:center;cursor:pointer;font-size:12px;line-height:1;transition:background-color .2s ease}.form-container[_ngcontent-%COMP%]   .spec-item[_ngcontent-%COMP%]   .btn-remove[_ngcontent-%COMP%]:hover, .form-container[_ngcontent-%COMP%]   .maintenance-item[_ngcontent-%COMP%]   .btn-remove[_ngcontent-%COMP%]:hover{background-color:#c71a25}.form-container[_ngcontent-%COMP%]   .no-items[_ngcontent-%COMP%]{color:var(--secondary-text);font-style:italic;text-align:center;padding:var(--spacing-md)}.form-container[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:var(--spacing-md);margin-top:var(--spacing-xl)}@media (max-width: 768px){.form-container[_ngcontent-%COMP%]   .form-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.form-container[_ngcontent-%COMP%]   .spec-input-group[_ngcontent-%COMP%], .form-container[_ngcontent-%COMP%]   .maintenance-input-group[_ngcontent-%COMP%]{flex-direction:column}.form-container[_ngcontent-%COMP%]   .spec-input-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-container[_ngcontent-%COMP%]   .maintenance-input-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{min-width:unset}.form-container[_ngcontent-%COMP%]   .spec-input-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .form-container[_ngcontent-%COMP%]   .maintenance-input-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}}"]})};export{ze as AssetFormComponent};
