var $3=Object.create;var Nv=Object.defineProperty,z3=Object.defineProperties,q3=Object.getOwnPropertyDescriptor,G3=Object.getOwnPropertyDescriptors,W3=Object.getOwnPropertyNames,gx=Object.getOwnPropertySymbols,_x=Object.getPrototypeOf,vx=Object.prototype.hasOwnProperty,K3=Object.prototype.propertyIsEnumerable,Y3=Reflect.get;var mx=(n,e,t)=>e in n?Nv(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,z=(n,e)=>{for(var t in e||={})vx.call(e,t)&&mx(n,t,e[t]);if(gx)for(var t of gx(e))K3.call(e,t)&&mx(n,t,e[t]);return n},ue=(n,e)=>z3(n,G3(e));var et=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports);var Q3=(n,e,t,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of W3(e))!vx.call(n,i)&&i!==t&&Nv(n,i,{get:()=>e[i],enumerable:!(r=q3(e,i))||r.enumerable});return n};var Z3=(n,e,t)=>(t=n!=null?$3(_x(n)):{},Q3(e||!n||!n.__esModule?Nv(t,"default",{value:n,enumerable:!0}):t,n));var ko=(n,e,t)=>Y3(_x(n),t,e);var I=(n,e,t)=>new Promise((r,i)=>{var o=c=>{try{a(t.next(c))}catch(u){i(u)}},s=c=>{try{a(t.throw(c))}catch(u){i(u)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,s);a((t=t.apply(n,e)).next())});var cV=et((l_e,aV)=>{"use strict";aV.exports=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}});var Cs=et(Va=>{"use strict";var TI,fZ=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];Va.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};Va.getSymbolTotalCodewords=function(e){return fZ[e]};Va.getBCHDigit=function(n){let e=0;for(;n!==0;)e++,n>>>=1;return e};Va.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');TI=e};Va.isKanjiModeEnabled=function(){return typeof TI<"u"};Va.toSJIS=function(e){return TI(e)}});var D_=et(Sr=>{"use strict";Sr.L={bit:1};Sr.M={bit:0};Sr.Q={bit:3};Sr.H={bit:2};function pZ(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return Sr.L;case"m":case"medium":return Sr.M;case"q":case"quartile":return Sr.Q;case"h":case"high":return Sr.H;default:throw new Error("Unknown EC Level: "+n)}}Sr.isValid=function(e){return e&&typeof e.bit<"u"&&e.bit>=0&&e.bit<4};Sr.from=function(e,t){if(Sr.isValid(e))return e;try{return pZ(e)}catch{return t}}});var dV=et((h_e,uV)=>{"use strict";function lV(){this.buffer=[],this.length=0}lV.prototype={get:function(n){let e=Math.floor(n/8);return(this.buffer[e]>>>7-n%8&1)===1},put:function(n,e){for(let t=0;t<e;t++)this.putBit((n>>>e-t-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(n){let e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),n&&(this.buffer[e]|=128>>>this.length%8),this.length++}};uV.exports=lV});var fV=et((f_e,hV)=>{"use strict";function vh(n){if(!n||n<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=n,this.data=new Uint8Array(n*n),this.reservedBit=new Uint8Array(n*n)}vh.prototype.set=function(n,e,t,r){let i=n*this.size+e;this.data[i]=t,r&&(this.reservedBit[i]=!0)};vh.prototype.get=function(n,e){return this.data[n*this.size+e]};vh.prototype.xor=function(n,e,t){this.data[n*this.size+e]^=t};vh.prototype.isReserved=function(n,e){return this.reservedBit[n*this.size+e]};hV.exports=vh});var pV=et(A_=>{"use strict";var gZ=Cs().getSymbolSize;A_.getRowColCoords=function(e){if(e===1)return[];let t=Math.floor(e/7)+2,r=gZ(e),i=r===145?26:Math.ceil((r-13)/(2*t-2))*2,o=[r-7];for(let s=1;s<t-1;s++)o[s]=o[s-1]-i;return o.push(6),o.reverse()};A_.getPositions=function(e){let t=[],r=A_.getRowColCoords(e),i=r.length;for(let o=0;o<i;o++)for(let s=0;s<i;s++)o===0&&s===0||o===0&&s===i-1||o===i-1&&s===0||t.push([r[o],r[s]]);return t}});var _V=et(mV=>{"use strict";var mZ=Cs().getSymbolSize,gV=7;mV.getPositions=function(e){let t=mZ(e);return[[0,0],[t-gV,0],[0,t-gV]]}});var vV=et(pt=>{"use strict";pt.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var La={N1:3,N2:3,N3:40,N4:10};pt.isValid=function(e){return e!=null&&e!==""&&!isNaN(e)&&e>=0&&e<=7};pt.from=function(e){return pt.isValid(e)?parseInt(e,10):void 0};pt.getPenaltyN1=function(e){let t=e.size,r=0,i=0,o=0,s=null,a=null;for(let c=0;c<t;c++){i=o=0,s=a=null;for(let u=0;u<t;u++){let d=e.get(c,u);d===s?i++:(i>=5&&(r+=La.N1+(i-5)),s=d,i=1),d=e.get(u,c),d===a?o++:(o>=5&&(r+=La.N1+(o-5)),a=d,o=1)}i>=5&&(r+=La.N1+(i-5)),o>=5&&(r+=La.N1+(o-5))}return r};pt.getPenaltyN2=function(e){let t=e.size,r=0;for(let i=0;i<t-1;i++)for(let o=0;o<t-1;o++){let s=e.get(i,o)+e.get(i,o+1)+e.get(i+1,o)+e.get(i+1,o+1);(s===4||s===0)&&r++}return r*La.N2};pt.getPenaltyN3=function(e){let t=e.size,r=0,i=0,o=0;for(let s=0;s<t;s++){i=o=0;for(let a=0;a<t;a++)i=i<<1&2047|e.get(s,a),a>=10&&(i===1488||i===93)&&r++,o=o<<1&2047|e.get(a,s),a>=10&&(o===1488||o===93)&&r++}return r*La.N3};pt.getPenaltyN4=function(e){let t=0,r=e.data.length;for(let o=0;o<r;o++)t+=e.data[o];return Math.abs(Math.ceil(t*100/r/5)-10)*La.N4};function _Z(n,e,t){switch(n){case pt.Patterns.PATTERN000:return(e+t)%2===0;case pt.Patterns.PATTERN001:return e%2===0;case pt.Patterns.PATTERN010:return t%3===0;case pt.Patterns.PATTERN011:return(e+t)%3===0;case pt.Patterns.PATTERN100:return(Math.floor(e/2)+Math.floor(t/3))%2===0;case pt.Patterns.PATTERN101:return e*t%2+e*t%3===0;case pt.Patterns.PATTERN110:return(e*t%2+e*t%3)%2===0;case pt.Patterns.PATTERN111:return(e*t%3+(e+t)%2)%2===0;default:throw new Error("bad maskPattern:"+n)}}pt.applyMask=function(e,t){let r=t.size;for(let i=0;i<r;i++)for(let o=0;o<r;o++)t.isReserved(o,i)||t.xor(o,i,_Z(e,o,i))};pt.getBestMask=function(e,t){let r=Object.keys(pt.Patterns).length,i=0,o=1/0;for(let s=0;s<r;s++){t(s),pt.applyMask(s,e);let a=pt.getPenaltyN1(e)+pt.getPenaltyN2(e)+pt.getPenaltyN3(e)+pt.getPenaltyN4(e);pt.applyMask(s,e),a<o&&(o=a,i=s)}return i}});var MI=et(xI=>{"use strict";var Es=D_(),P_=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],k_=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];xI.getBlocksCount=function(e,t){switch(t){case Es.L:return P_[(e-1)*4+0];case Es.M:return P_[(e-1)*4+1];case Es.Q:return P_[(e-1)*4+2];case Es.H:return P_[(e-1)*4+3];default:return}};xI.getTotalCodewordsCount=function(e,t){switch(t){case Es.L:return k_[(e-1)*4+0];case Es.M:return k_[(e-1)*4+1];case Es.Q:return k_[(e-1)*4+2];case Es.H:return k_[(e-1)*4+3];default:return}}});var yV=et(O_=>{"use strict";var yh=new Uint8Array(512),R_=new Uint8Array(256);(function(){let e=1;for(let t=0;t<255;t++)yh[t]=e,R_[e]=t,e<<=1,e&256&&(e^=285);for(let t=255;t<512;t++)yh[t]=yh[t-255]})();O_.log=function(e){if(e<1)throw new Error("log("+e+")");return R_[e]};O_.exp=function(e){return yh[e]};O_.mul=function(e,t){return e===0||t===0?0:yh[R_[e]+R_[t]]}});var wV=et(wh=>{"use strict";var DI=yV();wh.mul=function(e,t){let r=new Uint8Array(e.length+t.length-1);for(let i=0;i<e.length;i++)for(let o=0;o<t.length;o++)r[i+o]^=DI.mul(e[i],t[o]);return r};wh.mod=function(e,t){let r=new Uint8Array(e);for(;r.length-t.length>=0;){let i=r[0];for(let s=0;s<t.length;s++)r[s]^=DI.mul(t[s],i);let o=0;for(;o<r.length&&r[o]===0;)o++;r=r.slice(o)}return r};wh.generateECPolynomial=function(e){let t=new Uint8Array([1]);for(let r=0;r<e;r++)t=wh.mul(t,new Uint8Array([1,DI.exp(r)]));return t}});var EV=et((w_e,CV)=>{"use strict";var bV=wV();function AI(n){this.genPoly=void 0,this.degree=n,this.degree&&this.initialize(this.degree)}AI.prototype.initialize=function(e){this.degree=e,this.genPoly=bV.generateECPolynomial(this.degree)};AI.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");let t=new Uint8Array(e.length+this.degree);t.set(e);let r=bV.mod(t,this.genPoly),i=this.degree-r.length;if(i>0){let o=new Uint8Array(this.degree);return o.set(r,i),o}return r};CV.exports=AI});var PI=et(IV=>{"use strict";IV.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}});var kI=et(Io=>{"use strict";var SV="[0-9]+",vZ="[A-Z $%*+\\-./:]+",bh="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";bh=bh.replace(/u/g,"\\u");var yZ="(?:(?![A-Z0-9 $%*+\\-./:]|"+bh+`)(?:.|[\r
]))+`;Io.KANJI=new RegExp(bh,"g");Io.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");Io.BYTE=new RegExp(yZ,"g");Io.NUMERIC=new RegExp(SV,"g");Io.ALPHANUMERIC=new RegExp(vZ,"g");var wZ=new RegExp("^"+bh+"$"),bZ=new RegExp("^"+SV+"$"),CZ=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");Io.testKanji=function(e){return wZ.test(e)};Io.testNumeric=function(e){return bZ.test(e)};Io.testAlphanumeric=function(e){return CZ.test(e)}});var Is=et(Ht=>{"use strict";var EZ=PI(),RI=kI();Ht.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]};Ht.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]};Ht.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]};Ht.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]};Ht.MIXED={bit:-1};Ht.getCharCountIndicator=function(e,t){if(!e.ccBits)throw new Error("Invalid mode: "+e);if(!EZ.isValid(t))throw new Error("Invalid version: "+t);return t>=1&&t<10?e.ccBits[0]:t<27?e.ccBits[1]:e.ccBits[2]};Ht.getBestModeForData=function(e){return RI.testNumeric(e)?Ht.NUMERIC:RI.testAlphanumeric(e)?Ht.ALPHANUMERIC:RI.testKanji(e)?Ht.KANJI:Ht.BYTE};Ht.toString=function(e){if(e&&e.id)return e.id;throw new Error("Invalid mode")};Ht.isValid=function(e){return e&&e.bit&&e.ccBits};function IZ(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"numeric":return Ht.NUMERIC;case"alphanumeric":return Ht.ALPHANUMERIC;case"kanji":return Ht.KANJI;case"byte":return Ht.BYTE;default:throw new Error("Unknown mode: "+n)}}Ht.from=function(e,t){if(Ht.isValid(e))return e;try{return IZ(e)}catch{return t}}});var AV=et(Ua=>{"use strict";var N_=Cs(),SZ=MI(),TV=D_(),Ss=Is(),OI=PI(),MV=7973,xV=N_.getBCHDigit(MV);function TZ(n,e,t){for(let r=1;r<=40;r++)if(e<=Ua.getCapacity(r,t,n))return r}function DV(n,e){return Ss.getCharCountIndicator(n,e)+4}function xZ(n,e){let t=0;return n.forEach(function(r){let i=DV(r.mode,e);t+=i+r.getBitsLength()}),t}function MZ(n,e){for(let t=1;t<=40;t++)if(xZ(n,t)<=Ua.getCapacity(t,e,Ss.MIXED))return t}Ua.from=function(e,t){return OI.isValid(e)?parseInt(e,10):t};Ua.getCapacity=function(e,t,r){if(!OI.isValid(e))throw new Error("Invalid QR Code version");typeof r>"u"&&(r=Ss.BYTE);let i=N_.getSymbolTotalCodewords(e),o=SZ.getTotalCodewordsCount(e,t),s=(i-o)*8;if(r===Ss.MIXED)return s;let a=s-DV(r,e);switch(r){case Ss.NUMERIC:return Math.floor(a/10*3);case Ss.ALPHANUMERIC:return Math.floor(a/11*2);case Ss.KANJI:return Math.floor(a/13);case Ss.BYTE:default:return Math.floor(a/8)}};Ua.getBestVersionForData=function(e,t){let r,i=TV.from(t,TV.M);if(Array.isArray(e)){if(e.length>1)return MZ(e,i);if(e.length===0)return 1;r=e[0]}else r=e;return TZ(r.mode,r.getLength(),i)};Ua.getEncodedBits=function(e){if(!OI.isValid(e)||e<7)throw new Error("Invalid QR Code version");let t=e<<12;for(;N_.getBCHDigit(t)-xV>=0;)t^=MV<<N_.getBCHDigit(t)-xV;return e<<12|t}});var OV=et(RV=>{"use strict";var NI=Cs(),kV=1335,DZ=21522,PV=NI.getBCHDigit(kV);RV.getEncodedBits=function(e,t){let r=e.bit<<3|t,i=r<<10;for(;NI.getBCHDigit(i)-PV>=0;)i^=kV<<NI.getBCHDigit(i)-PV;return(r<<10|i)^DZ}});var FV=et((T_e,NV)=>{"use strict";var AZ=Is();function Ol(n){this.mode=AZ.NUMERIC,this.data=n.toString()}Ol.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};Ol.prototype.getLength=function(){return this.data.length};Ol.prototype.getBitsLength=function(){return Ol.getBitsLength(this.data.length)};Ol.prototype.write=function(e){let t,r,i;for(t=0;t+3<=this.data.length;t+=3)r=this.data.substr(t,3),i=parseInt(r,10),e.put(i,10);let o=this.data.length-t;o>0&&(r=this.data.substr(t),i=parseInt(r,10),e.put(i,o*3+1))};NV.exports=Ol});var LV=et((x_e,VV)=>{"use strict";var PZ=Is(),FI=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Nl(n){this.mode=PZ.ALPHANUMERIC,this.data=n}Nl.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};Nl.prototype.getLength=function(){return this.data.length};Nl.prototype.getBitsLength=function(){return Nl.getBitsLength(this.data.length)};Nl.prototype.write=function(e){let t;for(t=0;t+2<=this.data.length;t+=2){let r=FI.indexOf(this.data[t])*45;r+=FI.indexOf(this.data[t+1]),e.put(r,11)}this.data.length%2&&e.put(FI.indexOf(this.data[t]),6)};VV.exports=Nl});var BV=et((M_e,UV)=>{"use strict";var kZ=Is();function Fl(n){this.mode=kZ.BYTE,typeof n=="string"?this.data=new TextEncoder().encode(n):this.data=new Uint8Array(n)}Fl.getBitsLength=function(e){return e*8};Fl.prototype.getLength=function(){return this.data.length};Fl.prototype.getBitsLength=function(){return Fl.getBitsLength(this.data.length)};Fl.prototype.write=function(n){for(let e=0,t=this.data.length;e<t;e++)n.put(this.data[e],8)};UV.exports=Fl});var HV=et((D_e,jV)=>{"use strict";var RZ=Is(),OZ=Cs();function Vl(n){this.mode=RZ.KANJI,this.data=n}Vl.getBitsLength=function(e){return e*13};Vl.prototype.getLength=function(){return this.data.length};Vl.prototype.getBitsLength=function(){return Vl.getBitsLength(this.data.length)};Vl.prototype.write=function(n){let e;for(e=0;e<this.data.length;e++){let t=OZ.toSJIS(this.data[e]);if(t>=33088&&t<=40956)t-=33088;else if(t>=57408&&t<=60351)t-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);t=(t>>>8&255)*192+(t&255),n.put(t,13)}};jV.exports=Vl});var $V=et((A_e,VI)=>{"use strict";var Ch={single_source_shortest_paths:function(n,e,t){var r={},i={};i[e]=0;var o=Ch.PriorityQueue.make();o.push(e,0);for(var s,a,c,u,d,p,_,y,v;!o.empty();){s=o.pop(),a=s.value,u=s.cost,d=n[a]||{};for(c in d)d.hasOwnProperty(c)&&(p=d[c],_=u+p,y=i[c],v=typeof i[c]>"u",(v||y>_)&&(i[c]=_,o.push(c,_),r[c]=a))}if(typeof t<"u"&&typeof i[t]>"u"){var A=["Could not find a path from ",e," to ",t,"."].join("");throw new Error(A)}return r},extract_shortest_path_from_predecessor_list:function(n,e){for(var t=[],r=e,i;r;)t.push(r),i=n[r],r=n[r];return t.reverse(),t},find_path:function(n,e,t){var r=Ch.single_source_shortest_paths(n,e,t);return Ch.extract_shortest_path_from_predecessor_list(r,t)},PriorityQueue:{make:function(n){var e=Ch.PriorityQueue,t={},r;n=n||{};for(r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t.queue=[],t.sorter=n.sorter||e.default_sorter,t},default_sorter:function(n,e){return n.cost-e.cost},push:function(n,e){var t={value:n,cost:e};this.queue.push(t),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};typeof VI<"u"&&(VI.exports=Ch)});var ZV=et(Ll=>{"use strict";var Ze=Is(),GV=FV(),WV=LV(),KV=BV(),YV=HV(),Eh=kI(),F_=Cs(),NZ=$V();function zV(n){return unescape(encodeURIComponent(n)).length}function Ih(n,e,t){let r=[],i;for(;(i=n.exec(t))!==null;)r.push({data:i[0],index:i.index,mode:e,length:i[0].length});return r}function QV(n){let e=Ih(Eh.NUMERIC,Ze.NUMERIC,n),t=Ih(Eh.ALPHANUMERIC,Ze.ALPHANUMERIC,n),r,i;return F_.isKanjiModeEnabled()?(r=Ih(Eh.BYTE,Ze.BYTE,n),i=Ih(Eh.KANJI,Ze.KANJI,n)):(r=Ih(Eh.BYTE_KANJI,Ze.BYTE,n),i=[]),e.concat(t,r,i).sort(function(s,a){return s.index-a.index}).map(function(s){return{data:s.data,mode:s.mode,length:s.length}})}function LI(n,e){switch(e){case Ze.NUMERIC:return GV.getBitsLength(n);case Ze.ALPHANUMERIC:return WV.getBitsLength(n);case Ze.KANJI:return YV.getBitsLength(n);case Ze.BYTE:return KV.getBitsLength(n)}}function FZ(n){return n.reduce(function(e,t){let r=e.length-1>=0?e[e.length-1]:null;return r&&r.mode===t.mode?(e[e.length-1].data+=t.data,e):(e.push(t),e)},[])}function VZ(n){let e=[];for(let t=0;t<n.length;t++){let r=n[t];switch(r.mode){case Ze.NUMERIC:e.push([r,{data:r.data,mode:Ze.ALPHANUMERIC,length:r.length},{data:r.data,mode:Ze.BYTE,length:r.length}]);break;case Ze.ALPHANUMERIC:e.push([r,{data:r.data,mode:Ze.BYTE,length:r.length}]);break;case Ze.KANJI:e.push([r,{data:r.data,mode:Ze.BYTE,length:zV(r.data)}]);break;case Ze.BYTE:e.push([{data:r.data,mode:Ze.BYTE,length:zV(r.data)}])}}return e}function LZ(n,e){let t={},r={start:{}},i=["start"];for(let o=0;o<n.length;o++){let s=n[o],a=[];for(let c=0;c<s.length;c++){let u=s[c],d=""+o+c;a.push(d),t[d]={node:u,lastCount:0},r[d]={};for(let p=0;p<i.length;p++){let _=i[p];t[_]&&t[_].node.mode===u.mode?(r[_][d]=LI(t[_].lastCount+u.length,u.mode)-LI(t[_].lastCount,u.mode),t[_].lastCount+=u.length):(t[_]&&(t[_].lastCount=u.length),r[_][d]=LI(u.length,u.mode)+4+Ze.getCharCountIndicator(u.mode,e))}}i=a}for(let o=0;o<i.length;o++)r[i[o]].end=0;return{map:r,table:t}}function qV(n,e){let t,r=Ze.getBestModeForData(n);if(t=Ze.from(e,r),t!==Ze.BYTE&&t.bit<r.bit)throw new Error('"'+n+'" cannot be encoded with mode '+Ze.toString(t)+`.
 Suggested mode is: `+Ze.toString(r));switch(t===Ze.KANJI&&!F_.isKanjiModeEnabled()&&(t=Ze.BYTE),t){case Ze.NUMERIC:return new GV(n);case Ze.ALPHANUMERIC:return new WV(n);case Ze.KANJI:return new YV(n);case Ze.BYTE:return new KV(n)}}Ll.fromArray=function(e){return e.reduce(function(t,r){return typeof r=="string"?t.push(qV(r,null)):r.data&&t.push(qV(r.data,r.mode)),t},[])};Ll.fromString=function(e,t){let r=QV(e,F_.isKanjiModeEnabled()),i=VZ(r),o=LZ(i,t),s=NZ.find_path(o.map,"start","end"),a=[];for(let c=1;c<s.length-1;c++)a.push(o.table[s[c]].node);return Ll.fromArray(FZ(a))};Ll.rawSplit=function(e){return Ll.fromArray(QV(e,F_.isKanjiModeEnabled()))}});var XV=et(JV=>{"use strict";var L_=Cs(),UI=D_(),UZ=dV(),BZ=fV(),jZ=pV(),HZ=_V(),HI=vV(),$I=MI(),$Z=EV(),V_=AV(),zZ=OV(),qZ=Is(),BI=ZV();function GZ(n,e){let t=n.size,r=HZ.getPositions(e);for(let i=0;i<r.length;i++){let o=r[i][0],s=r[i][1];for(let a=-1;a<=7;a++)if(!(o+a<=-1||t<=o+a))for(let c=-1;c<=7;c++)s+c<=-1||t<=s+c||(a>=0&&a<=6&&(c===0||c===6)||c>=0&&c<=6&&(a===0||a===6)||a>=2&&a<=4&&c>=2&&c<=4?n.set(o+a,s+c,!0,!0):n.set(o+a,s+c,!1,!0))}}function WZ(n){let e=n.size;for(let t=8;t<e-8;t++){let r=t%2===0;n.set(t,6,r,!0),n.set(6,t,r,!0)}}function KZ(n,e){let t=jZ.getPositions(e);for(let r=0;r<t.length;r++){let i=t[r][0],o=t[r][1];for(let s=-2;s<=2;s++)for(let a=-2;a<=2;a++)s===-2||s===2||a===-2||a===2||s===0&&a===0?n.set(i+s,o+a,!0,!0):n.set(i+s,o+a,!1,!0)}}function YZ(n,e){let t=n.size,r=V_.getEncodedBits(e),i,o,s;for(let a=0;a<18;a++)i=Math.floor(a/3),o=a%3+t-8-3,s=(r>>a&1)===1,n.set(i,o,s,!0),n.set(o,i,s,!0)}function jI(n,e,t){let r=n.size,i=zZ.getEncodedBits(e,t),o,s;for(o=0;o<15;o++)s=(i>>o&1)===1,o<6?n.set(o,8,s,!0):o<8?n.set(o+1,8,s,!0):n.set(r-15+o,8,s,!0),o<8?n.set(8,r-o-1,s,!0):o<9?n.set(8,15-o-1+1,s,!0):n.set(8,15-o-1,s,!0);n.set(r-8,8,1,!0)}function QZ(n,e){let t=n.size,r=-1,i=t-1,o=7,s=0;for(let a=t-1;a>0;a-=2)for(a===6&&a--;;){for(let c=0;c<2;c++)if(!n.isReserved(i,a-c)){let u=!1;s<e.length&&(u=(e[s]>>>o&1)===1),n.set(i,a-c,u),o--,o===-1&&(s++,o=7)}if(i+=r,i<0||t<=i){i-=r,r=-r;break}}}function ZZ(n,e,t){let r=new UZ;t.forEach(function(c){r.put(c.mode.bit,4),r.put(c.getLength(),qZ.getCharCountIndicator(c.mode,n)),c.write(r)});let i=L_.getSymbolTotalCodewords(n),o=$I.getTotalCodewordsCount(n,e),s=(i-o)*8;for(r.getLengthInBits()+4<=s&&r.put(0,4);r.getLengthInBits()%8!==0;)r.putBit(0);let a=(s-r.getLengthInBits())/8;for(let c=0;c<a;c++)r.put(c%2?17:236,8);return JZ(r,n,e)}function JZ(n,e,t){let r=L_.getSymbolTotalCodewords(e),i=$I.getTotalCodewordsCount(e,t),o=r-i,s=$I.getBlocksCount(e,t),a=r%s,c=s-a,u=Math.floor(r/s),d=Math.floor(o/s),p=d+1,_=u-d,y=new $Z(_),v=0,A=new Array(s),O=new Array(s),G=0,ee=new Uint8Array(n.buffer);for(let P=0;P<s;P++){let S=P<c?d:p;A[P]=ee.slice(v,v+S),O[P]=y.encode(A[P]),v+=S,G=Math.max(G,S)}let Z=new Uint8Array(r),se=0,De,fe;for(De=0;De<G;De++)for(fe=0;fe<s;fe++)De<A[fe].length&&(Z[se++]=A[fe][De]);for(De=0;De<_;De++)for(fe=0;fe<s;fe++)Z[se++]=O[fe][De];return Z}function XZ(n,e,t,r){let i;if(Array.isArray(n))i=BI.fromArray(n);else if(typeof n=="string"){let u=e;if(!u){let d=BI.rawSplit(n);u=V_.getBestVersionForData(d,t)}i=BI.fromString(n,u||40)}else throw new Error("Invalid data");let o=V_.getBestVersionForData(i,t);if(!o)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=o;else if(e<o)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+o+`.
`);let s=ZZ(e,t,i),a=L_.getSymbolSize(e),c=new BZ(a);return GZ(c,e),WZ(c),KZ(c,e),jI(c,t,0),e>=7&&YZ(c,e),QZ(c,s),isNaN(r)&&(r=HI.getBestMask(c,jI.bind(null,c,t))),HI.applyMask(r,c),jI(c,t,r),{modules:c,version:e,errorCorrectionLevel:t,maskPattern:r,segments:i}}JV.create=function(e,t){if(typeof e>"u"||e==="")throw new Error("No input text");let r=UI.M,i,o;return typeof t<"u"&&(r=UI.from(t.errorCorrectionLevel,UI.M),i=V_.from(t.version),o=HI.from(t.maskPattern),t.toSJISFunc&&L_.setToSJISFunction(t.toSJISFunc)),XZ(e,i,r,o)}});var zI=et(Ba=>{"use strict";function eL(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let e=n.slice().replace("#","").split("");if(e.length<3||e.length===5||e.length>8)throw new Error("Invalid hex color: "+n);(e.length===3||e.length===4)&&(e=Array.prototype.concat.apply([],e.map(function(r){return[r,r]}))),e.length===6&&e.push("F","F");let t=parseInt(e.join(""),16);return{r:t>>24&255,g:t>>16&255,b:t>>8&255,a:t&255,hex:"#"+e.slice(0,6).join("")}}Ba.getOptions=function(e){e||(e={}),e.color||(e.color={});let t=typeof e.margin>"u"||e.margin===null||e.margin<0?4:e.margin,r=e.width&&e.width>=21?e.width:void 0,i=e.scale||4;return{width:r,scale:r?4:i,margin:t,color:{dark:eL(e.color.dark||"#000000ff"),light:eL(e.color.light||"#ffffffff")},type:e.type,rendererOpts:e.rendererOpts||{}}};Ba.getScale=function(e,t){return t.width&&t.width>=e+t.margin*2?t.width/(e+t.margin*2):t.scale};Ba.getImageWidth=function(e,t){let r=Ba.getScale(e,t);return Math.floor((e+t.margin*2)*r)};Ba.qrToImageData=function(e,t,r){let i=t.modules.size,o=t.modules.data,s=Ba.getScale(i,r),a=Math.floor((i+r.margin*2)*s),c=r.margin*s,u=[r.color.light,r.color.dark];for(let d=0;d<a;d++)for(let p=0;p<a;p++){let _=(d*a+p)*4,y=r.color.light;if(d>=c&&p>=c&&d<a-c&&p<a-c){let v=Math.floor((d-c)/s),A=Math.floor((p-c)/s);y=u[o[v*i+A]?1:0]}e[_++]=y.r,e[_++]=y.g,e[_++]=y.b,e[_]=y.a}}});var tL=et(U_=>{"use strict";var qI=zI();function eJ(n,e,t){n.clearRect(0,0,e.width,e.height),e.style||(e.style={}),e.height=t,e.width=t,e.style.height=t+"px",e.style.width=t+"px"}function tJ(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}U_.render=function(e,t,r){let i=r,o=t;typeof i>"u"&&(!t||!t.getContext)&&(i=t,t=void 0),t||(o=tJ()),i=qI.getOptions(i);let s=qI.getImageWidth(e.modules.size,i),a=o.getContext("2d"),c=a.createImageData(s,s);return qI.qrToImageData(c.data,e,i),eJ(a,o,s),a.putImageData(c,0,0),o};U_.renderToDataURL=function(e,t,r){let i=r;typeof i>"u"&&(!t||!t.getContext)&&(i=t,t=void 0),i||(i={});let o=U_.render(e,t,i),s=i.type||"image/png",a=i.rendererOpts||{};return o.toDataURL(s,a.quality)}});var iL=et(rL=>{"use strict";var nJ=zI();function nL(n,e){let t=n.a/255,r=e+'="'+n.hex+'"';return t<1?r+" "+e+'-opacity="'+t.toFixed(2).slice(1)+'"':r}function GI(n,e,t){let r=n+e;return typeof t<"u"&&(r+=" "+t),r}function rJ(n,e,t){let r="",i=0,o=!1,s=0;for(let a=0;a<n.length;a++){let c=Math.floor(a%e),u=Math.floor(a/e);!c&&!o&&(o=!0),n[a]?(s++,a>0&&c>0&&n[a-1]||(r+=o?GI("M",c+t,.5+u+t):GI("m",i,0),i=0,o=!1),c+1<e&&n[a+1]||(r+=GI("h",s),s=0)):i++}return r}rL.render=function(e,t,r){let i=nJ.getOptions(t),o=e.modules.size,s=e.modules.data,a=o+i.margin*2,c=i.color.light.a?"<path "+nL(i.color.light,"fill")+' d="M0 0h'+a+"v"+a+'H0z"/>':"",u="<path "+nL(i.color.dark,"stroke")+' d="'+rJ(s,o,i.margin)+'"/>',d='viewBox="0 0 '+a+" "+a+'"',_='<svg xmlns="http://www.w3.org/2000/svg" '+(i.width?'width="'+i.width+'" height="'+i.width+'" ':"")+d+' shape-rendering="crispEdges">'+c+u+`</svg>
`;return typeof r=="function"&&r(null,_),_}});var sL=et(Sh=>{"use strict";var iJ=cV(),WI=XV(),oL=tL(),oJ=iL();function KI(n,e,t,r,i){let o=[].slice.call(arguments,1),s=o.length,a=typeof o[s-1]=="function";if(!a&&!iJ())throw new Error("Callback required as last argument");if(a){if(s<2)throw new Error("Too few arguments provided");s===2?(i=t,t=e,e=r=void 0):s===3&&(e.getContext&&typeof i>"u"?(i=r,r=void 0):(i=r,r=t,t=e,e=void 0))}else{if(s<1)throw new Error("Too few arguments provided");return s===1?(t=e,e=r=void 0):s===2&&!e.getContext&&(r=t,t=e,e=void 0),new Promise(function(c,u){try{let d=WI.create(t,r);c(n(d,e,r))}catch(d){u(d)}})}try{let c=WI.create(t,r);i(null,n(c,e,r))}catch(c){i(c)}}Sh.create=WI.create;Sh.toCanvas=KI.bind(null,oL.render);Sh.toDataURL=KI.bind(null,oL.renderToDataURL);Sh.toString=KI.bind(null,function(n,e,t){return oJ.render(n,t)})});function Uv(n,e){return Object.is(n,e)}var $t=null,cf=!1,Bv=1,or=Symbol("SIGNAL");function Re(n){let e=$t;return $t=n,e}function jv(){return $t}var _u={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function vu(n){if(cf)throw new Error("");if($t===null)return;$t.consumerOnSignalRead(n);let e=$t.nextProducerIndex++;if(hf($t),e<$t.producerNode.length&&$t.producerNode[e]!==n&&mu($t)){let t=$t.producerNode[e];df(t,$t.producerIndexOfThis[e])}$t.producerNode[e]!==n&&($t.producerNode[e]=n,$t.producerIndexOfThis[e]=mu($t)?wx(n,$t,e):0),$t.producerLastReadVersion[e]=n.version}function yx(){Bv++}function Hv(n){if(!(mu(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===Bv)){if(!n.producerMustRecompute(n)&&!Gv(n)){Lv(n);return}n.producerRecomputeValue(n),Lv(n)}}function $v(n){if(n.liveConsumerNode===void 0)return;let e=cf;cf=!0;try{for(let t of n.liveConsumerNode)t.dirty||J3(t)}finally{cf=e}}function zv(){return $t?.consumerAllowSignalWrites!==!1}function J3(n){n.dirty=!0,$v(n),n.consumerMarkedDirty?.(n)}function Lv(n){n.dirty=!1,n.lastCleanEpoch=Bv}function uf(n){return n&&(n.nextProducerIndex=0),Re(n)}function qv(n,e){if(Re(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(mu(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)df(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function Gv(n){hf(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(Hv(t),r!==t.version))return!0}return!1}function Wv(n){if(hf(n),mu(n))for(let e=0;e<n.producerNode.length;e++)df(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function wx(n,e,t){if(bx(n),n.liveConsumerNode.length===0&&Cx(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=wx(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function df(n,e){if(bx(n),n.liveConsumerNode.length===1&&Cx(n))for(let r=0;r<n.producerNode.length;r++)df(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];hf(i),i.producerIndexOfThis[r]=e}}function mu(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function hf(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function bx(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function Cx(n){return n.producerNode!==void 0}function Kv(n,e){let t=Object.create(X3);t.computation=n,e!==void 0&&(t.equal=e);let r=()=>{if(Hv(t),vu(t),t.value===lf)throw t.error;return t.value};return r[or]=t,r}var Fv=Symbol("UNSET"),Vv=Symbol("COMPUTING"),lf=Symbol("ERRORED"),X3=ue(z({},_u),{value:Fv,dirty:!0,error:null,equal:Uv,kind:"computed",producerMustRecompute(n){return n.value===Fv||n.value===Vv},producerRecomputeValue(n){if(n.value===Vv)throw new Error("Detected cycle in computations.");let e=n.value;n.value=Vv;let t=uf(n),r,i=!1;try{r=n.computation(),Re(null),i=e!==Fv&&e!==lf&&r!==lf&&n.equal(e,r)}catch(o){r=lf,n.error=o}finally{qv(n,t)}if(i){n.value=e;return}n.value=r,n.version++}});function e5(){throw new Error}var Ex=e5;function Ix(n){Ex(n)}function Yv(n){Ex=n}var t5=null;function Qv(n,e){let t=Object.create(ff);t.value=n,e!==void 0&&(t.equal=e);let r=()=>(vu(t),t.value);return r[or]=t,r}function yu(n,e){zv()||Ix(n),n.equal(n.value,e)||(n.value=e,n5(n))}function Zv(n,e){zv()||Ix(n),yu(n,e(n.value))}var ff=ue(z({},_u),{equal:Uv,value:void 0,kind:"signal"});function n5(n){n.version++,yx(),$v(n),t5?.()}function Jv(n){let e=Re(null);try{return n()}finally{Re(e)}}var Xv;function wu(){return Xv}function Hi(n){let e=Xv;return Xv=n,e}var pf=Symbol("NotFound");function Ce(n){return typeof n=="function"}function Xa(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var gf=Xa(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Ns(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var It=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(Ce(r))try{r()}catch(o){e=o instanceof gf?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{Sx(o)}catch(s){e=e??[],s instanceof gf?e=[...e,...s.errors]:e.push(s)}}if(e)throw new gf(e)}}add(e){var t;if(e&&e!==this)if(this.closed)Sx(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Ns(t,e)}remove(e){let{_finalizers:t}=this;t&&Ns(t,e),e instanceof n&&e._removeParent(this)}};It.EMPTY=(()=>{let n=new It;return n.closed=!0,n})();var e0=It.EMPTY;function mf(n){return n instanceof It||n&&"closed"in n&&Ce(n.remove)&&Ce(n.add)&&Ce(n.unsubscribe)}function Sx(n){Ce(n)?n():n.unsubscribe()}var Pr={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var ec={setTimeout(n,e,...t){let{delegate:r}=ec;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=ec;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function _f(n){ec.setTimeout(()=>{let{onUnhandledError:e}=Pr;if(e)e(n);else throw n})}function bu(){}var Tx=t0("C",void 0,void 0);function xx(n){return t0("E",void 0,n)}function Mx(n){return t0("N",n,void 0)}function t0(n,e,t){return{kind:n,value:e,error:t}}var Fs=null;function tc(n){if(Pr.useDeprecatedSynchronousErrorHandling){let e=!Fs;if(e&&(Fs={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=Fs;if(Fs=null,t)throw r}}else n()}function Dx(n){Pr.useDeprecatedSynchronousErrorHandling&&Fs&&(Fs.errorThrown=!0,Fs.error=n)}var Vs=class extends It{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,mf(e)&&e.add(this)):this.destination=c5}static create(e,t,r){return new nc(e,t,r)}next(e){this.isStopped?r0(Mx(e),this):this._next(e)}error(e){this.isStopped?r0(xx(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?r0(Tx,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},s5=Function.prototype.bind;function n0(n,e){return s5.call(n,e)}var i0=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){vf(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){vf(r)}else vf(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){vf(t)}}},nc=class extends Vs{constructor(e,t,r){super();let i;if(Ce(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&Pr.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&n0(e.next,o),error:e.error&&n0(e.error,o),complete:e.complete&&n0(e.complete,o)}):i=e}this.destination=new i0(i)}};function vf(n){Pr.useDeprecatedSynchronousErrorHandling?Dx(n):_f(n)}function a5(n){throw n}function r0(n,e){let{onStoppedNotification:t}=Pr;t&&ec.setTimeout(()=>t(n,e))}var c5={closed:!0,next:bu,error:a5,complete:bu};var rc=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Wn(n){return n}function yf(...n){return o0(n)}function o0(n){return n.length===0?Wn:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var xe=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=u5(t)?t:new nc(t,r,i);return tc(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=Ax(r),new r((i,o)=>{let s=new nc({next:a=>{try{t(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[rc](){return this}pipe(...t){return o0(t)(this)}toPromise(t){return t=Ax(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function Ax(n){var e;return(e=n??Pr.Promise)!==null&&e!==void 0?e:Promise}function l5(n){return n&&Ce(n.next)&&Ce(n.error)&&Ce(n.complete)}function u5(n){return n&&n instanceof Vs||l5(n)&&mf(n)}function s0(n){return Ce(n?.lift)}function Ue(n){return e=>{if(s0(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ne(n,e,t,r,i){return new a0(n,e,t,r,i)}var a0=class extends Vs{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function ic(){return Ue((n,e)=>{let t=null;n._refCount++;let r=Ne(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var oc=class extends xe{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,s0(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new It;let t=this.getSubject();e.add(this.source.subscribe(Ne(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=It.EMPTY)}return e}refCount(){return ic()(this)}};var Px=Xa(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Xe=(()=>{class n extends xe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new wf(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new Px}next(t){tc(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){tc(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){tc(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?e0:(this.currentObservers=null,o.push(t),new It(()=>{this.currentObservers=null,Ns(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new xe;return t.source=this,t}}return n.create=(e,t)=>new wf(e,t),n})(),wf=class extends Xe{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:e0}};var rn=class extends Xe{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var c0={now(){return(c0.delegate||Date).now()},delegate:void 0};var bf=class extends It{constructor(e,t){super()}schedule(e,t=0){return this}};var Cu={setInterval(n,e,...t){let{delegate:r}=Cu;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=Cu;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var sc=class extends bf{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return Cu.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&Cu.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Ns(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var ac=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};ac.now=c0.now;var cc=class extends ac{constructor(e,t=ac.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var l0=new cc(sc);var Cf=class extends sc{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var Ef=class extends cc{};var u0=new Ef(Cf);var kn=new xe(n=>n.complete());function kx(n){return n&&Ce(n.schedule)}function Rx(n){return n[n.length-1]}function If(n){return Ce(Rx(n))?n.pop():void 0}function Ro(n){return kx(Rx(n))?n.pop():void 0}function d0(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function Nx(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{u(r.next(d))}catch(p){s(p)}}function c(d){try{u(r.throw(d))}catch(p){s(p)}}function u(d){d.done?o(d.value):i(d.value).then(a,c)}u((r=r.apply(n,e||[])).next())})}function Ox(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ls(n){return this instanceof Ls?(this.v=n,this):new Ls(n)}function Fx(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(v){return Promise.resolve(v).then(y,p)}}function a(y,v){r[y]&&(i[y]=function(A){return new Promise(function(O,G){o.push([y,A,O,G])>1||c(y,A)})},v&&(i[y]=v(i[y])))}function c(y,v){try{u(r[y](v))}catch(A){_(o[0][3],A)}}function u(y){y.value instanceof Ls?Promise.resolve(y.value.v).then(d,p):_(o[0][2],y)}function d(y){c("next",y)}function p(y){c("throw",y)}function _(y,v){y(v),o.shift(),o.length&&c(o[0][0],o[0][1])}}function Vx(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof Ox=="function"?Ox(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,c){s=n[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(u){o({value:u,done:a})},s)}}var Sf=n=>n&&typeof n.length=="number"&&typeof n!="function";function Tf(n){return Ce(n?.then)}function xf(n){return Ce(n[rc])}function Mf(n){return Symbol.asyncIterator&&Ce(n?.[Symbol.asyncIterator])}function Df(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function d5(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Af=d5();function Pf(n){return Ce(n?.[Af])}function kf(n){return Fx(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield Ls(t.read());if(i)return yield Ls(void 0);yield yield Ls(r)}}finally{t.releaseLock()}})}function Rf(n){return Ce(n?.getReader)}function Nt(n){if(n instanceof xe)return n;if(n!=null){if(xf(n))return h5(n);if(Sf(n))return f5(n);if(Tf(n))return p5(n);if(Mf(n))return Lx(n);if(Pf(n))return g5(n);if(Rf(n))return m5(n)}throw Df(n)}function h5(n){return new xe(e=>{let t=n[rc]();if(Ce(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function f5(n){return new xe(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function p5(n){return new xe(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,_f)})}function g5(n){return new xe(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function Lx(n){return new xe(e=>{_5(n,e).catch(t=>e.error(t))})}function m5(n){return Lx(kf(n))}function _5(n,e){var t,r,i,o;return Nx(this,void 0,void 0,function*(){try{for(t=Vx(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function Rn(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function Oo(n,e=0){return Ue((t,r)=>{t.subscribe(Ne(r,i=>Rn(r,n,()=>r.next(i),e),()=>Rn(r,n,()=>r.complete(),e),i=>Rn(r,n,()=>r.error(i),e)))})}function No(n,e=0){return Ue((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function Ux(n,e){return Nt(n).pipe(No(e),Oo(e))}function Bx(n,e){return Nt(n).pipe(No(e),Oo(e))}function jx(n,e){return new xe(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function Hx(n,e){return new xe(t=>{let r;return Rn(t,e,()=>{r=n[Af](),Rn(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>Ce(r?.return)&&r.return()})}function Of(n,e){if(!n)throw new Error("Iterable cannot be null");return new xe(t=>{Rn(t,e,()=>{let r=n[Symbol.asyncIterator]();Rn(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function $x(n,e){return Of(kf(n),e)}function zx(n,e){if(n!=null){if(xf(n))return Ux(n,e);if(Sf(n))return jx(n,e);if(Tf(n))return Bx(n,e);if(Mf(n))return Of(n,e);if(Pf(n))return Hx(n,e);if(Rf(n))return $x(n,e)}throw Df(n)}function st(n,e){return e?zx(n,e):Nt(n)}function pe(...n){let e=Ro(n);return st(n,e)}function lc(n,e){let t=Ce(n)?n:()=>n,r=i=>i.error(t());return new xe(e?i=>e.schedule(r,0,i):r)}function h0(n){return!!n&&(n instanceof xe||Ce(n.lift)&&Ce(n.subscribe))}var $i=Xa(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function le(n,e){return Ue((t,r)=>{let i=0;t.subscribe(Ne(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:v5}=Array;function y5(n,e){return v5(e)?n(...e):n(e)}function Nf(n){return le(e=>y5(n,e))}var{isArray:w5}=Array,{getPrototypeOf:b5,prototype:C5,keys:E5}=Object;function Ff(n){if(n.length===1){let e=n[0];if(w5(e))return{args:e,keys:null};if(I5(e)){let t=E5(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function I5(n){return n&&typeof n=="object"&&b5(n)===C5}function Vf(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function Fo(...n){let e=Ro(n),t=If(n),{args:r,keys:i}=Ff(n);if(r.length===0)return st([],e);let o=new xe(S5(r,e,i?s=>Vf(i,s):Wn));return t?o.pipe(Nf(t)):o}function S5(n,e,t=Wn){return r=>{qx(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)qx(e,()=>{let u=st(n[c],e),d=!1;u.subscribe(Ne(r,p=>{o[c]=p,d||(d=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function qx(n,e,t){n?Rn(t,n,e):e()}function Gx(n,e,t,r,i,o,s,a){let c=[],u=0,d=0,p=!1,_=()=>{p&&!c.length&&!u&&e.complete()},y=A=>u<r?v(A):c.push(A),v=A=>{o&&e.next(A),u++;let O=!1;Nt(t(A,d++)).subscribe(Ne(e,G=>{i?.(G),o?y(G):e.next(G)},()=>{O=!0},void 0,()=>{if(O)try{for(u--;c.length&&u<r;){let G=c.shift();s?Rn(e,s,()=>v(G)):v(G)}_()}catch(G){e.error(G)}}))};return n.subscribe(Ne(e,y,()=>{p=!0,_()})),()=>{a?.()}}function Pt(n,e,t=1/0){return Ce(e)?Pt((r,i)=>le((o,s)=>e(r,o,i,s))(Nt(n(r,i))),t):(typeof e=="number"&&(t=e),Ue((r,i)=>Gx(r,i,n,t)))}function Vo(n=1/0){return Pt(Wn,n)}function Wx(){return Vo(1)}function uc(...n){return Wx()(st(n,Ro(n)))}function Lf(n){return new xe(e=>{Nt(n()).subscribe(e)})}function f0(...n){let e=If(n),{args:t,keys:r}=Ff(n),i=new xe(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),c=s,u=s;for(let d=0;d<s;d++){let p=!1;Nt(t[d]).subscribe(Ne(o,_=>{p||(p=!0,u--),a[d]=_},()=>c--,void 0,()=>{(!c||!p)&&(u||o.next(r?Vf(r,a):a),o.complete())}))}});return e?i.pipe(Nf(e)):i}function dn(n,e){return Ue((t,r)=>{let i=0;t.subscribe(Ne(r,o=>n.call(e,o,i++)&&r.next(o)))})}function zi(n){return Ue((e,t)=>{let r=null,i=!1,o;r=e.subscribe(Ne(t,void 0,void 0,s=>{o=Nt(n(s,zi(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function Kx(n,e,t,r,i){return(o,s)=>{let a=t,c=e,u=0;o.subscribe(Ne(s,d=>{let p=u++;c=a?n(c,d,p):(a=!0,d),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function Lo(n,e){return Ce(e)?Pt(n,e,1):Pt(n,1)}function Uo(n){return Ue((e,t)=>{let r=!1;e.subscribe(Ne(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function qi(n){return n<=0?()=>kn:Ue((e,t)=>{let r=0;e.subscribe(Ne(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Uf(n=T5){return Ue((e,t)=>{let r=!1;e.subscribe(Ne(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function T5(){return new $i}function Eu(n){return Ue((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Gi(n,e){let t=arguments.length>=2;return r=>r.pipe(n?dn((i,o)=>n(i,o,r)):Wn,qi(1),t?Uo(e):Uf(()=>new $i))}function dc(n){return n<=0?()=>kn:Ue((e,t)=>{let r=[];e.subscribe(Ne(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function p0(n,e){let t=arguments.length>=2;return r=>r.pipe(n?dn((i,o)=>n(i,o,r)):Wn,dc(1),t?Uo(e):Uf(()=>new $i))}function Bf(n,e){return Ue(Kx(n,e,arguments.length>=2,!0))}function jf(...n){let e=Ro(n);return Ue((t,r)=>{(e?uc(n,t,e):uc(n,t)).subscribe(r)})}function sr(n,e){return Ue((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(Ne(r,c=>{i?.unsubscribe();let u=0,d=o++;Nt(n(c,d)).subscribe(i=Ne(r,p=>r.next(e?e(c,p,d,u++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function kr(n){return Ue((e,t)=>{Nt(n).subscribe(Ne(t,()=>t.complete(),bu)),!t.closed&&e.subscribe(t)})}function on(n,e,t){let r=Ce(n)||e||t?{next:n,error:e,complete:t}:n;return r?Ue((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(Ne(o,c=>{var u;(u=r.next)===null||u===void 0||u.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,c),o.error(c)},()=>{var c,u;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):Wn}var NM="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",ne=class extends Error{code;constructor(e,t){super(Ty(e,t)),this.code=e}};function x5(n){return`NG0${Math.abs(n)}`}function Ty(n,e){return`${x5(n)}${e?": "+e:""}`}var FM=Symbol("InputSignalNode#UNSET"),M5=ue(z({},ff),{transformFn:void 0,applyValueToInputSignal(n,e){yu(n,e)}});function VM(n,e){let t=Object.create(M5);t.value=n,t.transformFn=e?.transform;function r(){if(vu(t),t.value===FM){let i=null;throw new ne(-950,i)}return t.value}return r[or]=t,r}function Ou(n){return{toString:n}.toString()}var Hf="__parameters__";function D5(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function LM(n,e,t){return Ou(()=>{let r=D5(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,u,d){let p=c.hasOwnProperty(Hf)?c[Hf]:Object.defineProperty(c,Hf,{value:[]})[Hf];for(;p.length<=d;)p.push(null);return(p[d]=p[d]||[]).push(s),c}}return i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var Bs=globalThis;function at(n){for(let e in n)if(n[e]===at)return e;throw Error("Could not find renamed property on target object.")}function A5(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Fn(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(Fn).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function D0(n,e){return n?e?`${n} ${e}`:n:e||""}var P5=at({__forward_ref__:at});function Vr(n){return n.__forward_ref__=Vr,n.toString=function(){return Fn(this())},n}function Sn(n){return UM(n)?n():n}function UM(n){return typeof n=="function"&&n.hasOwnProperty(P5)&&n.__forward_ref__===Vr}function re(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Zi(n){return{providers:n.providers||[],imports:n.imports||[]}}function Cp(n){return Yx(n,jM)||Yx(n,HM)}function BM(n){return Cp(n)!==null}function Yx(n,e){return n.hasOwnProperty(e)?n[e]:null}function k5(n){let e=n&&(n[jM]||n[HM]);return e||null}function Qx(n){return n&&(n.hasOwnProperty(Zx)||n.hasOwnProperty(R5))?n[Zx]:null}var jM=at({\u0275prov:at}),Zx=at({\u0275inj:at}),HM=at({ngInjectableDef:at}),R5=at({ngInjectorDef:at}),J=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=re({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function $M(n){return n&&!!n.\u0275providers}var O5=at({\u0275cmp:at}),N5=at({\u0275dir:at}),F5=at({\u0275pipe:at}),V5=at({\u0275mod:at}),Zf=at({\u0275fac:at}),xu=at({__NG_ELEMENT_ID__:at}),Jx=at({__NG_ENV_ID__:at});function Wi(n){return typeof n=="string"?n:n==null?"":String(n)}function L5(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Wi(n)}function zM(n,e){throw new ne(-200,n)}function xy(n,e){throw new ne(-201,!1)}var Me=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(Me||{}),A0;function qM(){return A0}function On(n){let e=A0;return A0=n,e}function GM(n,e,t){let r=Cp(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&Me.Optional)return null;if(e!==void 0)return e;xy(n,"Injector")}var U5={},js=U5,P0="__NG_DI_FLAG__",Jf=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=t;return this.injector.get(e,r.optional?pf:js,r)}},Xf="ngTempTokenPath",B5="ngTokenPath",j5=/\n/gm,H5="\u0275",Xx="__source";function $5(n,e=Me.Default){if(wu()===void 0)throw new ne(-203,!1);if(wu()===null)return GM(n,void 0,e);{let t=wu(),r;return t instanceof Jf?r=t.injector:r=t,r.get(n,e&Me.Optional?null:void 0,e)}}function me(n,e=Me.Default){return(qM()||$5)(Sn(n),e)}function F(n,e=Me.Default){return me(n,Ep(e))}function Ep(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function k0(n){let e=[];for(let t=0;t<n.length;t++){let r=Sn(n[t]);if(Array.isArray(r)){if(r.length===0)throw new ne(900,!1);let i,o=Me.Default;for(let s=0;s<r.length;s++){let a=r[s],c=z5(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}e.push(me(i,o))}else e.push(me(r))}return e}function WM(n,e){return n[P0]=e,n.prototype[P0]=e,n}function z5(n){return n[P0]}function q5(n,e,t,r){let i=n[Xf];throw e[Xx]&&i.unshift(e[Xx]),n.message=G5(`
`+n.message,i,t,r),n[B5]=i,n[Xf]=null,n}function G5(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==H5?n.slice(2):n;let i=Fn(e);if(Array.isArray(e))i=e.map(Fn).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Fn(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(j5,`
  `)}`}var bt=WM(LM("Optional"),8);var W5=WM(LM("SkipSelf"),4);function $s(n,e){let t=n.hasOwnProperty(Zf);return t?n[Zf]:null}function K5(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}function Y5(n){return n.flat(Number.POSITIVE_INFINITY)}function My(n,e){n.forEach(t=>Array.isArray(t)?My(t,e):e(t))}function KM(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function ep(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function Q5(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function Dy(n,e,t){let r=Nu(n,e);return r>=0?n[r|1]=t:(r=~r,Q5(n,r,e,t)),r}function g0(n,e){let t=Nu(n,e);if(t>=0)return n[t|1]}function Nu(n,e){return Z5(n,e,1)}function Z5(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var zs={},Nn=[],Mu=new J(""),YM=new J("",-1),QM=new J(""),tp=class{get(e,t=js){if(t===js){let r=new Error(`NullInjectorError: No provider for ${Fn(e)}!`);throw r.name="NullInjectorError",r}return t}};function ZM(n,e){let t=n[V5]||null;if(!t&&e===!0)throw new Error(`Type ${Fn(n)} does not have '\u0275mod' property.`);return t}function qs(n){return n[O5]||null}function J5(n){return n[N5]||null}function X5(n){return n[F5]||null}function Tn(n){return{\u0275providers:n}}function eU(...n){return{\u0275providers:JM(!0,n),\u0275fromNgModule:!0}}function JM(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return My(e,s=>{let a=s;R0(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&XM(i,o),t}function XM(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];Ay(i,o=>{e(o,r)})}}function R0(n,e,t,r){if(n=Sn(n),!n)return!1;let i=null,o=Qx(n),s=!o&&qs(n);if(!o&&!s){let c=n.ngModule;if(o=Qx(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let u of c)R0(u,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let u;try{My(o.imports,d=>{R0(d,e,t,r)&&(u||=[],u.push(d))})}finally{}u!==void 0&&XM(u,e)}if(!a){let u=$s(i)||(()=>new i);e({provide:i,useFactory:u,deps:Nn},i),e({provide:QM,useValue:i,multi:!0},i),e({provide:Mu,useValue:()=>me(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let u=n;Ay(c,d=>{e(d,u)})}}else return!1;return i!==n&&n.providers!==void 0}function Ay(n,e){for(let t of n)$M(t)&&(t=t.\u0275providers),Array.isArray(t)?Ay(t,e):e(t)}var tU=at({provide:String,useValue:at});function eD(n){return n!==null&&typeof n=="object"&&tU in n}function nU(n){return!!(n&&n.useExisting)}function rU(n){return!!(n&&n.useFactory)}function vc(n){return typeof n=="function"}function iU(n){return!!n.useClass}var Ip=new J(""),qf={},eM={},m0;function Py(){return m0===void 0&&(m0=new tp),m0}var hn=class{},Du=class extends hn{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,N0(e,s=>this.processProvider(s)),this.records.set(YM,hc(void 0,this)),i.has("environment")&&this.records.set(hn,hc(void 0,this));let o=this.records.get(Ip);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(QM,Nn,Me.Self))}retrieve(e,t){let r=t;return this.get(e,r.optional?pf:js,r)}destroy(){Su(this),this._destroyed=!0;let e=Re(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Re(e)}}onDestroy(e){return Su(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Su(this);let t=Hi(this),r=On(void 0),i;try{return e()}finally{Hi(t),On(r)}}get(e,t=js,r=Me.Default){if(Su(this),e.hasOwnProperty(Jx))return e[Jx](this);r=Ep(r);let i,o=Hi(this),s=On(void 0);try{if(!(r&Me.SkipSelf)){let c=this.records.get(e);if(c===void 0){let u=lU(e)&&Cp(e);u&&this.injectableDefInScope(u)?c=hc(O0(e),qf):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c,r)}let a=r&Me.Self?Py():this.parent;return t=r&Me.Optional&&t===js?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[Xf]=a[Xf]||[]).unshift(Fn(e)),o)throw a;return q5(a,e,"R3InjectorError",this.source)}else throw a}finally{On(s),Hi(o)}}resolveInjectorInitializers(){let e=Re(null),t=Hi(this),r=On(void 0),i;try{let o=this.get(Mu,Nn,Me.Self);for(let s of o)s()}finally{Hi(t),On(r),Re(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(Fn(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Sn(e);let t=vc(e)?e:Sn(e&&e.provide),r=sU(e);if(!vc(e)&&e.multi===!0){let i=this.records.get(t);i||(i=hc(void 0,qf,!0),i.factory=()=>k0(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t,r){let i=Re(null);try{return t.value===eM?zM(Fn(e)):t.value===qf&&(t.value=eM,t.value=t.factory(void 0,r)),typeof t.value=="object"&&t.value&&cU(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{Re(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Sn(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function O0(n){let e=Cp(n),t=e!==null?e.factory:$s(n);if(t!==null)return t;if(n instanceof J)throw new ne(204,!1);if(n instanceof Function)return oU(n);throw new ne(204,!1)}function oU(n){if(n.length>0)throw new ne(204,!1);let t=k5(n);return t!==null?()=>t.factory(n):()=>new n}function sU(n){if(eD(n))return hc(void 0,n.useValue);{let e=tD(n);return hc(e,qf)}}function tD(n,e,t){let r;if(vc(n)){let i=Sn(n);return $s(i)||O0(i)}else if(eD(n))r=()=>Sn(n.useValue);else if(rU(n))r=()=>n.useFactory(...k0(n.deps||[]));else if(nU(n))r=(i,o)=>me(Sn(n.useExisting),o!==void 0&&o&Me.Optional?Me.Optional:void 0);else{let i=Sn(n&&(n.useClass||n.provide));if(aU(n))r=()=>new i(...k0(n.deps));else return $s(i)||O0(i)}return r}function Su(n){if(n.destroyed)throw new ne(205,!1)}function hc(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function aU(n){return!!n.deps}function cU(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function lU(n){return typeof n=="function"||typeof n=="object"&&n instanceof J}function N0(n,e){for(let t of n)Array.isArray(t)?N0(t,e):t&&$M(t)?N0(t.\u0275providers,e):e(t)}function pn(n,e){let t;n instanceof Du?(Su(n),t=n):t=new Jf(n);let r,i=Hi(t),o=On(void 0);try{return e()}finally{Hi(i),On(o)}}function nD(){return qM()!==void 0||wu()!=null}function ky(n){if(!nD())throw new ne(-203,!1)}function uU(n){return typeof n=="function"}var Ji=0,Ae=1,ve=2,fn=3,Nr=4,Lr=5,np=6,rp=7,Vn=8,yc=9,Ki=10,kt=11,Au=12,tM=13,xc=14,oi=15,Gs=16,fc=17,Yi=18,Sp=19,rD=20,Bo=21,_0=22,ip=23,ar=24,mc=25,Ln=26,iD=1;var Ws=7,op=8,wc=9,Kn=10;function jo(n){return Array.isArray(n)&&typeof n[iD]=="object"}function Xi(n){return Array.isArray(n)&&n[iD]===!0}function Ry(n){return(n.flags&4)!==0}function Mc(n){return n.componentOffset>-1}function Tp(n){return(n.flags&1)===1}function si(n){return!!n.template}function sp(n){return(n[ve]&512)!==0}function Dc(n){return(n[ve]&256)===256}var F0=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function oD(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var Ur=(()=>{let n=()=>sD;return n.ngInherit=!0,n})();function sD(n){return n.type.prototype.ngOnChanges&&(n.setInput=hU),dU}function dU(){let n=cD(this),e=n?.current;if(e){let t=n.previous;if(t===zs)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function hU(n,e,t,r,i){let o=this.declaredInputs[r],s=cD(n)||fU(n,{previous:zs,current:null}),a=s.current||(s.current={}),c=s.previous,u=c[o];a[o]=new F0(u&&u.currentValue,t,c===zs),oD(n,e,i,t)}var aD="__ngSimpleChanges__";function cD(n){return n[aD]||null}function fU(n,e){return n[aD]=e}var nM=null;var tt=function(n,e=null,t){nM?.(n,e,t)},lD="svg",pU="math";function ai(n){for(;Array.isArray(n);)n=n[Ji];return n}function uD(n,e){return ai(e[n])}function di(n,e){return ai(e[n.index])}function dD(n,e){return n.data[e]}function Oy(n,e){return n[e]}function gU(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function ci(n,e){let t=e[n];return jo(t)?t:t[Ji]}function mU(n){return(n[ve]&4)===4}function Ny(n){return(n[ve]&128)===128}function _U(n){return Xi(n[fn])}function bc(n,e){return e==null?null:n[e]}function hD(n){n[fc]=0}function fD(n){n[ve]&1024||(n[ve]|=1024,Ny(n)&&Fu(n))}function vU(n,e){for(;n>0;)e=e[xc],n--;return e}function xp(n){return!!(n[ve]&9216||n[ar]?.dirty)}function V0(n){n[Ki].changeDetectionScheduler?.notify(8),n[ve]&64&&(n[ve]|=1024),xp(n)&&Fu(n)}function Fu(n){n[Ki].changeDetectionScheduler?.notify(0);let e=Ks(n);for(;e!==null&&!(e[ve]&8192||(e[ve]|=8192,!Ny(e)));)e=Ks(e)}function pD(n,e){if(Dc(n))throw new ne(911,!1);n[Bo]===null&&(n[Bo]=[]),n[Bo].push(e)}function yU(n,e){if(n[Bo]===null)return;let t=n[Bo].indexOf(e);t!==-1&&n[Bo].splice(t,1)}function Ks(n){let e=n[fn];return Xi(e)?e[fn]:e}function Fy(n){return n[rp]??=[]}function Vy(n){return n.cleanup??=[]}function wU(n,e,t,r){let i=Fy(e);i.push(t),n.firstCreatePass&&Vy(n).push(r,i.length-1)}var Se={lFrame:CD(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var L0=!1;function bU(){return Se.lFrame.elementDepthCount}function CU(){Se.lFrame.elementDepthCount++}function EU(){Se.lFrame.elementDepthCount--}function Ly(){return Se.bindingsEnabled}function IU(){return Se.skipHydrationRootTNode!==null}function SU(n){return Se.skipHydrationRootTNode===n}function TU(){Se.skipHydrationRootTNode=null}function Oe(){return Se.lFrame.lView}function Ft(){return Se.lFrame.tView}function U(n){return Se.lFrame.contextLView=n,n[Vn]}function B(n){return Se.lFrame.contextLView=null,n}function gn(){let n=gD();for(;n!==null&&n.type===64;)n=n.parent;return n}function gD(){return Se.lFrame.currentTNode}function xU(){let n=Se.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function na(n,e){let t=Se.lFrame;t.currentTNode=n,t.isParent=e}function Uy(){return Se.lFrame.isParent}function mD(){Se.lFrame.isParent=!1}function MU(){return Se.lFrame.contextLView}function _D(){return L0}function rM(n){let e=L0;return L0=n,e}function By(){let n=Se.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function vD(){return Se.lFrame.bindingIndex}function DU(n){return Se.lFrame.bindingIndex=n}function Mp(){return Se.lFrame.bindingIndex++}function Dp(n){let e=Se.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function AU(){return Se.lFrame.inI18n}function PU(n,e){let t=Se.lFrame;t.bindingIndex=t.bindingRootIndex=n,U0(e)}function kU(){return Se.lFrame.currentDirectiveIndex}function U0(n){Se.lFrame.currentDirectiveIndex=n}function RU(n){let e=Se.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function yD(){return Se.lFrame.currentQueryIndex}function jy(n){Se.lFrame.currentQueryIndex=n}function OU(n){let e=n[Ae];return e.type===2?e.declTNode:e.type===1?n[Lr]:null}function wD(n,e,t){if(t&Me.SkipSelf){let i=e,o=n;for(;i=i.parent,i===null&&!(t&Me.Host);)if(i=OU(o),i===null||(o=o[xc],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=Se.lFrame=bD();return r.currentTNode=e,r.lView=n,!0}function Hy(n){let e=bD(),t=n[Ae];Se.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function bD(){let n=Se.lFrame,e=n===null?null:n.child;return e===null?CD(n):e}function CD(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function ED(){let n=Se.lFrame;return Se.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var ID=ED;function $y(){let n=ED();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function NU(n){return(Se.lFrame.contextLView=vU(n,Se.lFrame.contextLView))[Vn]}function eo(){return Se.lFrame.selectedIndex}function Ys(n){Se.lFrame.selectedIndex=n}function zy(){let n=Se.lFrame;return dD(n.tView,n.selectedIndex)}function $(){Se.lFrame.currentNamespace=lD}function Y(){FU()}function FU(){Se.lFrame.currentNamespace=null}function VU(){return Se.lFrame.currentNamespace}var SD=!0;function Ap(){return SD}function Pp(n){SD=n}function LU(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=sD(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function qy(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:d}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),c&&(n.viewHooks??=[]).push(-t,c),u&&((n.viewHooks??=[]).push(t,u),(n.viewCheckHooks??=[]).push(t,u)),d!=null&&(n.destroyHooks??=[]).push(t,d)}}function Gf(n,e,t){TD(n,e,3,t)}function Wf(n,e,t,r){(n[ve]&3)===t&&TD(n,e,t,r)}function v0(n,e){let t=n[ve];(t&3)===e&&(t&=16383,t+=1,n[ve]=t)}function TD(n,e,t,r){let i=r!==void 0?n[fc]&65535:0,o=r??-1,s=e.length-1,a=0;for(let c=i;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(n[fc]+=65536),(a<o||o==-1)&&(UU(n,t,e,c),n[fc]=(n[fc]&4294901760)+c+2),c++}function iM(n,e){tt(4,n,e);let t=Re(null);try{e.call(n)}finally{Re(t),tt(5,n,e)}}function UU(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[ve]>>14<n[fc]>>16&&(n[ve]&3)===e&&(n[ve]+=16384,iM(a,o)):iM(a,o)}var _c=-1,Qs=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r){this.factory=e,this.canSeeViewProviders=t,this.injectImpl=r}};function BU(n){return(n.flags&8)!==0}function jU(n){return(n.flags&16)!==0}function HU(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];$U(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function xD(n){return n===3||n===4||n===6}function $U(n){return n.charCodeAt(0)===64}function Cc(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?oM(n,t,i,null,e[++r]):oM(n,t,i,null,null))}}return n}function oM(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){i!==null&&(n[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i)}function MD(n){return n!==_c}function ap(n){return n&32767}function zU(n){return n>>16}function cp(n,e){let t=zU(n),r=e;for(;t>0;)r=r[xc],t--;return r}var B0=!0;function lp(n){let e=B0;return B0=n,e}var qU=256,DD=qU-1,AD=5,GU=0,ii={};function WU(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(xu)&&(r=t[xu]),r==null&&(r=t[xu]=GU++);let i=r&DD,o=1<<i;e.data[n+(i>>AD)]|=o}function up(n,e){let t=PD(n,e);if(t!==-1)return t;let r=e[Ae];r.firstCreatePass&&(n.injectorIndex=e.length,y0(r.data,n),y0(e,null),y0(r.blueprint,null));let i=Gy(n,e),o=n.injectorIndex;if(MD(i)){let s=ap(i),a=cp(i,e),c=a[Ae].data;for(let u=0;u<8;u++)e[o+u]=a[s+u]|c[s+u]}return e[o+8]=i,o}function y0(n,e){n.push(0,0,0,0,0,0,0,0,e)}function PD(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function Gy(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=FD(i),r===null)return _c;if(t++,i=i[xc],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return _c}function j0(n,e,t){WU(n,e,t)}function KU(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(xD(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===e)return t[i+1];i=i+2}}}return null}function kD(n,e,t){if(t&Me.Optional||n!==void 0)return n;xy(e,"NodeInjector")}function RD(n,e,t,r){if(t&Me.Optional&&r===void 0&&(r=null),(t&(Me.Self|Me.Host))===0){let i=n[yc],o=On(void 0);try{return i?i.get(e,r,t&Me.Optional):GM(e,r,t&Me.Optional)}finally{On(o)}}return kD(r,e,t)}function OD(n,e,t,r=Me.Default,i){if(n!==null){if(e[ve]&2048&&!(r&Me.Self)){let s=JU(n,e,t,r,ii);if(s!==ii)return s}let o=ND(n,e,t,r,ii);if(o!==ii)return o}return RD(e,t,r,i)}function ND(n,e,t,r,i){let o=QU(t);if(typeof o=="function"){if(!wD(e,n,r))return r&Me.Host?kD(i,t,r):RD(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&Me.Optional))xy(t);else return s}finally{ID()}}else if(typeof o=="number"){let s=null,a=PD(n,e),c=_c,u=r&Me.Host?e[oi][Lr]:null;for((a===-1||r&Me.SkipSelf)&&(c=a===-1?Gy(n,e):e[a+8],c===_c||!aM(r,!1)?a=-1:(s=e[Ae],a=ap(c),e=cp(c,e)));a!==-1;){let d=e[Ae];if(sM(o,a,d.data)){let p=YU(a,e,t,s,r,u);if(p!==ii)return p}c=e[a+8],c!==_c&&aM(r,e[Ae].data[a+8]===u)&&sM(o,a,e)?(s=d,a=ap(c),e=cp(c,e)):a=-1}}return i}function YU(n,e,t,r,i,o){let s=e[Ae],a=s.data[n+8],c=r==null?Mc(a)&&B0:r!=s&&(a.type&3)!==0,u=i&Me.Host&&o===a,d=Kf(a,s,t,c,u);return d!==null?Pu(e,s,d,a,i):ii}function Kf(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,c=n.directiveStart,u=n.directiveEnd,d=o>>20,p=r?a:a+d,_=i?a+d:u;for(let y=p;y<_;y++){let v=s[y];if(y<c&&t===v||y>=c&&v.type===t)return y}if(i){let y=s[c];if(y&&si(y)&&y.type===t)return c}return null}function Pu(n,e,t,r,i){let o=n[t],s=e.data;if(o instanceof Qs){let a=o;a.resolving&&zM(L5(s[t]));let c=lp(a.canSeeViewProviders);a.resolving=!0;let u,d=a.injectImpl?On(a.injectImpl):null,p=wD(n,r,Me.Default);try{o=n[t]=a.factory(void 0,i,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&LU(t,s[t],e)}finally{d!==null&&On(d),lp(c),a.resolving=!1,ID()}}return o}function QU(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(xu)?n[xu]:void 0;return typeof e=="number"?e>=0?e&DD:ZU:e}function sM(n,e,t){let r=1<<n;return!!(t[e+(n>>AD)]&r)}function aM(n,e){return!(n&Me.Self)&&!(n&Me.Host&&e)}var Hs=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return OD(this._tNode,this._lView,e,Ep(r),t)}};function ZU(){return new Hs(gn(),Oe())}function cr(n){return Ou(()=>{let e=n.prototype.constructor,t=e[Zf]||H0(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[Zf]||H0(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function H0(n){return UM(n)?()=>{let e=H0(Sn(n));return e&&e()}:$s(n)}function JU(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[ve]&2048&&!sp(s);){let a=ND(o,s,t,r|Me.Self,ii);if(a!==ii)return a;let c=o.parent;if(!c){let u=s[rD];if(u){let d=u.get(t,ii,r);if(d!==ii)return d}c=FD(s),s=s[xc]}o=c}return i}function FD(n){let e=n[Ae],t=e.type;return t===2?e.declTNode:t===1?n[Lr]:null}function Wy(n){return KU(gn(),n)}function cM(n,e=null,t=null,r){let i=VD(n,e,t,r);return i.resolveInjectorInitializers(),i}function VD(n,e=null,t=null,r,i=new Set){let o=[t||Nn,eU(n)];return r=r||(typeof n=="object"?void 0:Fn(n)),new Du(o,e||Py(),r||null,i)}var _t=class n{static THROW_IF_NOT_FOUND=js;static NULL=new tp;static create(e,t){if(Array.isArray(e))return cM({name:""},t,e,"");{let r=e.name??"";return cM({name:r},e.parent,e.providers,r)}}static \u0275prov=re({token:n,providedIn:"any",factory:()=>me(YM)});static __NG_ELEMENT_ID__=-1};var XU=new J("");XU.__NG_ELEMENT_ID__=n=>{let e=gn();if(e===null)throw new ne(204,!1);if(e.type&2)return e.value;if(n&Me.Optional)return null;throw new ne(204,!1)};var LD=!1,ra=(()=>{class n{static __NG_ELEMENT_ID__=e6;static __NG_ENV_ID__=t=>t}return n})(),$0=class extends ra{_lView;constructor(e){super(),this._lView=e}onDestroy(e){let t=this._lView;return Dc(t)?(e(),()=>{}):(pD(t,e),()=>yU(t,e))}};function e6(){return new $0(Oe())}var Zs=class{},Ky=new J("",{providedIn:"root",factory:()=>!1});var UD=new J(""),BD=new J(""),ia=(()=>{class n{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new rn(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=re({token:n,providedIn:"root",factory:()=>new n})}return n})(),kp=(()=>{class n{internalPendingTasks=F(ia);scheduler=F(Zs);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){return I(this,null,function*(){let r=this.add();try{return yield t()}finally{r()}})}static \u0275prov=re({token:n,providedIn:"root",factory:()=>new n})}return n})(),z0=class extends Xe{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,nD()&&(this.destroyRef=F(ra,{optional:!0})??void 0,this.pendingTasks=F(ia,{optional:!0})??void 0)}emit(e){let t=Re(null);try{super.next(e)}finally{Re(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof It&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},St=z0;function dp(...n){}function jD(n){let e,t;function r(){n=dp;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function lM(n){return queueMicrotask(()=>n()),()=>{n=dp}}var Yy="isAngularZone",hp=Yy+"_ID",t6=0,Ve=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new St(!1);onMicrotaskEmpty=new St(!1);onStable=new St(!1);onError=new St(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=LD}=e;if(typeof Zone>"u")throw new ne(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,i6(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Yy)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new ne(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new ne(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,n6,dp,dp);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},n6={};function Qy(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function r6(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){jD(()=>{n.callbackScheduled=!1,q0(n),n.isCheckStableRunning=!0,Qy(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),q0(n)}function i6(n){let e=()=>{r6(n)},t=t6++;n._inner=n._inner.fork({name:"angular",properties:{[Yy]:!0,[hp]:t,[hp+t]:!0},onInvokeTask:(r,i,o,s,a,c)=>{if(o6(c))return r.invokeTask(o,s,a,c);try{return uM(n),r.invokeTask(o,s,a,c)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),dM(n)}},onInvoke:(r,i,o,s,a,c,u)=>{try{return uM(n),r.invoke(o,s,a,c,u)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!s6(c)&&e(),dM(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,q0(n),Qy(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function q0(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function uM(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function dM(n){n._nesting--,Qy(n)}var G0=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new St;onMicrotaskEmpty=new St;onStable=new St;onError=new St;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function o6(n){return HD(n,"__ignore_ng_zone__")}function s6(n){return HD(n,"__scheduler_tick__")}function HD(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var Fr=class{_console=console;handleError(e){this._console.error("ERROR",e)}},a6=new J("",{providedIn:"root",factory:()=>{let n=F(Ve),e=F(Fr);return t=>n.runOutsideAngular(()=>e.handleError(t))}}),W0=class{destroyed=!1;listeners=null;errorHandler=F(Fr,{optional:!0});destroyRef=F(ra);constructor(){this.destroyRef.onDestroy(()=>{this.destroyed=!0,this.listeners=null})}subscribe(e){if(this.destroyed)throw new ne(953,!1);return(this.listeners??=[]).push(e),{unsubscribe:()=>{let t=this.listeners?.indexOf(e);t!==void 0&&t!==-1&&this.listeners?.splice(t,1)}}}emit(e){if(this.destroyed){console.warn(Ty(953,!1));return}if(this.listeners===null)return;let t=Re(null);try{for(let r of this.listeners)try{r(e)}catch(i){this.errorHandler?.handleError(i)}}finally{Re(t)}}};function $D(n){return new W0}function hM(n,e){return VM(n,e)}function c6(n){return VM(FM,n)}var ct=(hM.required=c6,hM);function l6(){return Ac(gn(),Oe())}function Ac(n,e){return new mn(di(n,e))}var mn=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=l6}return n})();function u6(n){return n instanceof mn?n.nativeElement:n}function d6(n){return typeof n=="function"&&n[or]!==void 0}function xn(n,e){let t=Qv(n,e?.equal),r=t[or];return t.set=i=>yu(r,i),t.update=i=>Zv(r,i),t.asReadonly=h6.bind(t),t}function h6(){let n=this[or];if(n.readonlyFn===void 0){let e=()=>this();e[or]=n,n.readonlyFn=e}return n.readonlyFn}function zD(n){return d6(n)&&typeof n.set=="function"}function f6(){return this._results[Symbol.iterator]()}var K0=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new Xe}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let r=Y5(e);(this._changesDetected=!K5(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=f6};function qD(n){return(n.flags&128)===128}var GD=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(GD||{}),WD=new Map,p6=0;function g6(){return p6++}function m6(n){WD.set(n[Sp],n)}function Y0(n){WD.delete(n[Sp])}var fM="__ngContext__";function Pc(n,e){jo(e)?(n[fM]=e[Sp],m6(e)):n[fM]=e}function KD(n){return QD(n[Au])}function YD(n){return QD(n[Nr])}function QD(n){for(;n!==null&&!Xi(n);)n=n[Nr];return n}var Q0;function ZD(n){Q0=n}function _6(){if(Q0!==void 0)return Q0;if(typeof document<"u")return document;throw new ne(210,!1)}var Zy=new J("",{providedIn:"root",factory:()=>v6}),v6="ng",Jy=new J(""),Ho=new J("",{providedIn:"platform",factory:()=>"unknown"});var Xy=new J("",{providedIn:"root",factory:()=>_6().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var y6="h",w6="b";var JD=!1,b6=new J("",{providedIn:"root",factory:()=>JD});var ew=function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n}(ew||{}),kc=new J(""),pM=new Set;function Rc(n){pM.has(n)||(pM.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var XD=(()=>{class n{view;node;constructor(t,r){this.view=t,this.node=r}static __NG_ELEMENT_ID__=C6}return n})();function C6(){return new XD(Oe(),gn())}var pc=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(pc||{}),eA=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=re({token:n,providedIn:"root",factory:()=>new n})}return n})(),E6=[pc.EarlyRead,pc.Write,pc.MixedReadWrite,pc.Read],I6=(()=>{class n{ngZone=F(Ve);scheduler=F(Zs);errorHandler=F(Fr,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){F(kc,{optional:!0})}execute(){let t=this.sequences.size>0;t&&tt(16),this.executing=!0;for(let r of E6)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&tt(17)}register(t){let{view:r}=t;r!==void 0?((r[mc]??=[]).push(t),Fu(r),r[ve]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,r){return r?r.run(ew.AFTER_NEXT_RENDER,t):t()}static \u0275prov=re({token:n,providedIn:"root",factory:()=>new n})}return n})(),Z0=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,t,r,i,o,s=null){this.impl=e,this.hooks=t,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[mc];e&&(this.view[mc]=e.filter(t=>t!==this))}};function tw(n,e){!e?.injector&&ky(tw);let t=e?.injector??F(_t);return Rc("NgAfterNextRender"),T6(n,t,e,!0)}function S6(n,e){if(n instanceof Function){let t=[void 0,void 0,void 0,void 0];return t[e]=n,t}else return[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function T6(n,e,t,r){let i=e.get(eA);i.impl??=e.get(I6);let o=e.get(kc,null,{optional:!0}),s=t?.phase??pc.MixedReadWrite,a=t?.manualCleanup!==!0?e.get(ra):null,c=e.get(XD,null,{optional:!0}),u=new Z0(i.impl,S6(n,s),c?.view,r,a,o?.snapshot(null));return i.impl.register(u),u}var x6=(n,e,t,r)=>{};function M6(n,e,t,r){x6(n,e,t,r)}var D6=()=>null;function tA(n,e,t=!1){return D6(n,e,t)}function nA(n,e){let t=n.contentQueries;if(t!==null){let r=Re(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];jy(o),a.contentQueries(2,e[s],s)}}}finally{Re(r)}}}function J0(n,e,t){jy(0);let r=Re(null);try{e(n,t)}finally{Re(r)}}function nw(n,e,t){if(Ry(e)){let r=Re(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let c=t[s];a.contentQueries(1,c,s)}}}finally{Re(r)}}}var li=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(li||{});var $f;function A6(){if($f===void 0&&($f=null,Bs.trustedTypes))try{$f=Bs.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return $f}function gM(n){return A6()?.createScriptURL(n)||n}var fp=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${NM})`}};function Vu(n){return n instanceof fp?n.changingThisBreaksApplicationSecurity:n}function rA(n,e){let t=P6(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${NM})`)}return t===e}function P6(n){return n instanceof fp&&n.getTypeName()||null}var k6=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function R6(n){return n=String(n),n.match(k6)?n:"unsafe:"+n}var rw=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(rw||{});function O6(n){let e=oA();return e?e.sanitize(rw.URL,n)||"":rA(n,"URL")?Vu(n):R6(Wi(n))}function N6(n){let e=oA();if(e)return gM(e.sanitize(rw.RESOURCE_URL,n)||"");if(rA(n,"ResourceURL"))return gM(Vu(n));throw new ne(904,!1)}function F6(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?N6:O6}function iA(n,e,t){return F6(e,t)(n)}function oA(){let n=Oe();return n&&n[Ki].sanitizer}var V6=/^>|^->|<!--|-->|--!>|<!-$/g,L6=/(<|>)/g,U6="\u200B$1\u200B";function B6(n){return n.replace(V6,e=>e.replace(L6,U6))}function sA(n){return n instanceof Function?n():n}function j6(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}var aA="ng-template";function H6(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&j6(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(iw(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function iw(n){return n.type===4&&n.value!==aA}function $6(n,e,t){let r=n.type===4&&!t?aA:n.value;return e===r}function z6(n,e,t){let r=4,i=n.attrs,o=i!==null?W6(i):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!Rr(r)&&!Rr(c))return!1;if(s&&Rr(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!$6(n,c,t)||c===""&&e.length===1){if(Rr(r))return!1;s=!0}}else if(r&8){if(i===null||!H6(n,i,c,t)){if(Rr(r))return!1;s=!0}}else{let u=e[++a],d=q6(c,i,iw(n),t);if(d===-1){if(Rr(r))return!1;s=!0;continue}if(u!==""){let p;if(d>o?p="":p=i[d+1].toLowerCase(),r&2&&u!==p){if(Rr(r))return!1;s=!0}}}}return Rr(r)||s}function Rr(n){return(n&1)===0}function q6(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return K6(e,n)}function G6(n,e,t=!1){for(let r=0;r<e.length;r++)if(z6(n,e[r],t))return!0;return!1}function W6(n){for(let e=0;e<n.length;e++){let t=n[e];if(xD(t))return e}return n.length}function K6(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function mM(n,e){return n?":not("+e.trim()+")":e}function Y6(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Rr(s)&&(e+=mM(o,i),i=""),r=s,o=o||!Rr(r);t++}return i!==""&&(e+=mM(o,i)),e}function Q6(n){return n.map(Y6).join(",")}function Z6(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!Rr(i))break;i=o}r++}return t.length&&e.push(1,...t),e}var Un={};function J6(n,e){return n.createText(e)}function X6(n,e,t){n.setValue(e,t)}function eB(n,e){return n.createComment(B6(e))}function cA(n,e,t){return n.createElement(e,t)}function pp(n,e,t,r,i){n.insertBefore(e,t,r,i)}function lA(n,e,t){n.appendChild(e,t)}function _M(n,e,t,r,i){r!==null?pp(n,e,t,r,i):lA(n,e,t)}function tB(n,e,t){n.removeChild(null,e,t)}function nB(n,e,t){n.setAttribute(e,"style",t)}function rB(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function uA(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&HU(n,e,r),i!==null&&rB(n,e,i),o!==null&&nB(n,e,o)}function ow(n,e,t,r,i,o,s,a,c,u,d){let p=Ln+r,_=p+i,y=iB(p,_),v=typeof u=="function"?u():u;return y[Ae]={type:n,blueprint:y,template:t,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:_,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:v,incompleteFirstPass:!1,ssrId:d}}function iB(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:Un);return t}function oB(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=ow(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function sw(n,e,t,r,i,o,s,a,c,u,d){let p=e.blueprint.slice();return p[Ji]=i,p[ve]=r|4|128|8|64|1024,(u!==null||n&&n[ve]&2048)&&(p[ve]|=2048),hD(p),p[fn]=p[xc]=n,p[Vn]=t,p[Ki]=s||n&&n[Ki],p[kt]=a||n&&n[kt],p[yc]=c||n&&n[yc]||null,p[Lr]=o,p[Sp]=g6(),p[np]=d,p[rD]=u,p[oi]=e.type==2?n[oi]:p,p}function sB(n,e,t){let r=di(e,n),i=oB(t),o=n[Ki].rendererFactory,s=aw(n,sw(n,i,null,dA(t),r,e,null,o.createRenderer(r,t),null,null,null));return n[e.index]=s}function dA(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function hA(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function aw(n,e){return n[Au]?n[tM][Nr]=e:n[Au]=e,n[tM]=e,e}function C(n=1){fA(Ft(),Oe(),eo()+n,!1)}function fA(n,e,t,r){if(!r)if((e[ve]&3)===3){let o=n.preOrderCheckHooks;o!==null&&Gf(e,o,t)}else{let o=n.preOrderHooks;o!==null&&Wf(e,o,0,t)}Ys(t)}var Rp=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(Rp||{});function X0(n,e,t,r){let i=Re(null);try{let[o,s,a]=n.inputs[t],c=null;(s&Rp.SignalBased)!==0&&(c=e[o][or]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):a!==null&&(r=a.call(e,r)),n.setInput!==null?n.setInput(e,c,r,t,o):oD(e,c,o,r)}finally{Re(i)}}function pA(n,e,t,r,i){let o=eo(),s=r&2;try{Ys(-1),s&&e.length>Ln&&fA(n,e,Ln,!1),tt(s?2:0,i),t(r,i)}finally{Ys(o),tt(s?3:1,i)}}function Op(n,e,t){hB(n,e,t),(t.flags&64)===64&&fB(n,e,t)}function cw(n,e,t=di){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function aB(n,e,t,r){let o=r.get(b6,JD)||t===li.ShadowDom,s=n.selectRootElement(e,o);return cB(s),s}function cB(n){lB(n)}var lB=()=>null;function uB(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function gA(n,e,t,r,i,o,s,a){if(!a&&uw(e,n,t,r,i)){Mc(e)&&dB(t,e.index);return}if(e.type&3){let c=di(e,t);r=uB(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(c,r,i)}else e.type&12}function dB(n,e){let t=ci(e,n);t[ve]&16||(t[ve]|=64)}function hB(n,e,t){let r=t.directiveStart,i=t.directiveEnd;Mc(t)&&sB(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||up(t,e);let o=t.initialInputs;for(let s=r;s<i;s++){let a=n.data[s],c=Pu(e,n,s,t);if(Pc(c,e),o!==null&&_B(e,s-r,c,a,t,o),si(a)){let u=ci(t.index,e);u[Vn]=Pu(e,n,s,t)}}}function fB(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=kU();try{Ys(o);for(let a=r;a<i;a++){let c=n.data[a],u=e[a];U0(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&pB(c,u)}}finally{Ys(-1),U0(s)}}function pB(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function lw(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];G6(e,o.selectors,!1)&&(r??=[],si(o)?r.unshift(o):r.push(o))}return r}function gB(n,e,t,r,i,o){let s=di(n,e);mB(e[kt],s,o,n.value,t,r,i)}function mB(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?Wi(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function _B(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let c=s[a],u=s[a+1];X0(r,t,c,u)}}function vB(n,e){let t=n[yc],r=t?t.get(Fr,null):null;r&&r.handleError(e)}function uw(n,e,t,r,i){let o=n.inputs?.[r],s=n.hostDirectiveInputs?.[r],a=!1;if(s)for(let c=0;c<s.length;c+=2){let u=s[c],d=s[c+1],p=e.data[u];X0(p,t[u],d,i),a=!0}if(o)for(let c of o){let u=t[c],d=e.data[c];X0(d,u,r,i),a=!0}return a}function yB(n,e){let t=ci(e,n),r=t[Ae];wB(r,t);let i=t[Ji];i!==null&&t[np]===null&&(t[np]=tA(i,t[yc])),tt(18),dw(r,t,t[Vn]),tt(19,t[Vn])}function wB(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function dw(n,e,t){Hy(e);try{let r=n.viewQuery;r!==null&&J0(1,r,t);let i=n.template;i!==null&&pA(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Yi]?.finishViewCreation(n),n.staticContentQueries&&nA(n,e),n.staticViewQueries&&J0(2,n.viewQuery,t);let o=n.components;o!==null&&bB(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[ve]&=-5,$y()}}function bB(n,e){for(let t=0;t<e.length;t++)yB(n,e[t])}function CB(n,e,t,r){let i=Re(null);try{let o=e.tView,a=n[ve]&4096?4096:16,c=sw(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),u=n[e.index];c[Gs]=u;let d=n[Yi];return d!==null&&(c[Yi]=d.createEmbeddedView(o)),dw(o,c,t),c}finally{Re(i)}}function vM(n,e){return!e||e.firstChild===null||qD(n)}var EB;function hw(n,e){return EB(n,e)}var Qi=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Qi||{});function mA(n){return(n.flags&32)===32}function gc(n,e,t,r,i){if(r!=null){let o,s=!1;Xi(r)?o=r:jo(r)&&(s=!0,r=r[Ji]);let a=ai(r);n===0&&t!==null?i==null?lA(e,t,a):pp(e,t,a,i||null,!0):n===1&&t!==null?pp(e,t,a,i||null,!0):n===2?tB(e,a,s):n===3&&e.destroyNode(a),o!=null&&NB(e,n,o,t,i)}}function IB(n,e){_A(n,e),e[Ji]=null,e[Lr]=null}function SB(n,e,t,r,i,o){r[Ji]=i,r[Lr]=e,Fp(n,r,t,1,i,o)}function _A(n,e){e[Ki].changeDetectionScheduler?.notify(9),Fp(n,e,e[kt],2,null,null)}function TB(n){let e=n[Au];if(!e)return w0(n[Ae],n);for(;e;){let t=null;if(jo(e))t=e[Au];else{let r=e[Kn];r&&(t=r)}if(!t){for(;e&&!e[Nr]&&e!==n;)jo(e)&&w0(e[Ae],e),e=e[fn];e===null&&(e=n),jo(e)&&w0(e[Ae],e),t=e&&e[Nr]}e=t}}function fw(n,e){let t=n[wc],r=t.indexOf(e);t.splice(r,1)}function vA(n,e){if(Dc(e))return;let t=e[kt];t.destroyNode&&Fp(n,e,t,3,null,null),TB(e)}function w0(n,e){if(Dc(e))return;let t=Re(null);try{e[ve]&=-129,e[ve]|=256,e[ar]&&Wv(e[ar]),MB(n,e),xB(n,e),e[Ae].type===1&&e[kt].destroy();let r=e[Gs];if(r!==null&&Xi(e[fn])){r!==e[fn]&&fw(r,e);let i=e[Yi];i!==null&&i.detachView(n)}Y0(e)}finally{Re(t)}}function xB(n,e){let t=n.cleanup,r=e[rp];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(e[rp]=null);let i=e[Bo];if(i!==null){e[Bo]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[ip];if(o!==null){e[ip]=null;for(let s of o)s.destroy()}}function MB(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof Qs)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];tt(4,a,c);try{c.call(a)}finally{tt(5,a,c)}}else{tt(4,i,o);try{o.call(i)}finally{tt(5,i,o)}}}}}function DB(n,e,t){return AB(n,e.parent,t)}function AB(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[Ji];if(Mc(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===li.None||i===li.Emulated)return null}return di(r,t)}function PB(n,e,t){return RB(n,e,t)}function kB(n,e,t){return n.type&40?di(n,t):null}var RB=kB,yM;function Np(n,e,t,r){let i=DB(n,r,e),o=e[kt],s=r.parent||e[Lr],a=PB(s,r,e);if(i!=null)if(Array.isArray(t))for(let c=0;c<t.length;c++)_M(o,i,t[c],a,!1);else _M(o,i,t,a,!1);yM!==void 0&&yM(o,r,e,t,i)}function Tu(n,e){if(e!==null){let t=e.type;if(t&3)return di(e,n);if(t&4)return ey(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return Tu(n,r);{let i=n[e.index];return Xi(i)?ey(-1,i):ai(i)}}else{if(t&128)return Tu(n,e.next);if(t&32)return hw(e,n)()||ai(n[e.index]);{let r=yA(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Ks(n[oi]);return Tu(i,r)}else return Tu(n,e.next)}}}return null}function yA(n,e){if(e!==null){let r=n[oi][Lr],i=e.projection;return r.projection[i]}return null}function ey(n,e){let t=Kn+n+1;if(t<e.length){let r=e[t],i=r[Ae].firstChild;if(i!==null)return Tu(r,i)}return e[Ws]}function pw(n,e,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],c=t.type;if(s&&e===0&&(a&&Pc(ai(a),r),t.flags|=2),!mA(t))if(c&8)pw(n,e,t.child,r,i,o,!1),gc(e,n,i,a,o);else if(c&32){let u=hw(t,r),d;for(;d=u();)gc(e,n,i,d,o);gc(e,n,i,a,o)}else c&16?OB(n,e,r,t,i,o):gc(e,n,i,a,o);t=s?t.projectionNext:t.next}}function Fp(n,e,t,r,i,o){pw(t,r,n.firstChild,e,i,o,!1)}function OB(n,e,t,r,i,o){let s=t[oi],c=s[Lr].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let d=c[u];gc(e,n,i,d,o)}else{let u=c,d=s[fn];qD(r)&&(u.flags|=128),pw(n,e,u,d,i,o,!0)}}function NB(n,e,t,r,i){let o=t[Ws],s=ai(t);o!==s&&gc(e,n,r,o,i);for(let a=Kn;a<t.length;a++){let c=t[a];Fp(c[Ae],c,n,e,r,o)}}function FB(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:Qi.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Qi.Important),n.setStyle(t,r,i,o))}}function gp(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(ai(o)),Xi(o)&&VB(o,r);let s=t.type;if(s&8)gp(n,e,t.child,r);else if(s&32){let a=hw(t,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=yA(e,t);if(Array.isArray(a))r.push(...a);else{let c=Ks(e[oi]);gp(c[Ae],c,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function VB(n,e){for(let t=Kn;t<n.length;t++){let r=n[t],i=r[Ae].firstChild;i!==null&&gp(r[Ae],r,i,e)}n[Ws]!==n[Ji]&&e.push(n[Ws])}function wA(n){if(n[mc]!==null){for(let e of n[mc])e.impl.addSequence(e);n[mc].length=0}}var bA=[];function LB(n){return n[ar]??UB(n)}function UB(n){let e=bA.pop()??Object.create(jB);return e.lView=n,e}function BB(n){n.lView[ar]!==n&&(n.lView=null,bA.push(n))}var jB=ue(z({},_u),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{Fu(n.lView)},consumerOnSignalRead(){this.lView[ar]=this}});function HB(n){let e=n[ar]??Object.create($B);return e.lView=n,e}var $B=ue(z({},_u),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=Ks(n.lView);for(;e&&!CA(e[Ae]);)e=Ks(e);e&&fD(e)},consumerOnSignalRead(){this.lView[ar]=this}});function CA(n){return n.type!==2}function EA(n){if(n[ip]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[ip])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[ve]&8192)}}var zB=100;function IA(n,e=!0,t=0){let i=n[Ki].rendererFactory,o=!1;o||i.begin?.();try{qB(n,t)}catch(s){throw e&&vB(n,s),s}finally{o||i.end?.()}}function qB(n,e){let t=_D();try{rM(!0),ty(n,e);let r=0;for(;xp(n);){if(r===zB)throw new ne(103,!1);r++,ty(n,1)}}finally{rM(t)}}function GB(n,e,t,r){if(Dc(e))return;let i=e[ve],o=!1,s=!1;Hy(e);let a=!0,c=null,u=null;o||(CA(n)?(u=LB(e),c=uf(u)):jv()===null?(a=!1,u=HB(e),c=uf(u)):e[ar]&&(Wv(e[ar]),e[ar]=null));try{hD(e),DU(n.bindingStartIndex),t!==null&&pA(n,e,t,2,r);let d=(i&3)===3;if(!o)if(d){let y=n.preOrderCheckHooks;y!==null&&Gf(e,y,null)}else{let y=n.preOrderHooks;y!==null&&Wf(e,y,0,null),v0(e,0)}if(s||WB(e),EA(e),SA(e,0),n.contentQueries!==null&&nA(n,e),!o)if(d){let y=n.contentCheckHooks;y!==null&&Gf(e,y)}else{let y=n.contentHooks;y!==null&&Wf(e,y,1),v0(e,1)}YB(n,e);let p=n.components;p!==null&&xA(e,p,0);let _=n.viewQuery;if(_!==null&&J0(2,_,r),!o)if(d){let y=n.viewCheckHooks;y!==null&&Gf(e,y)}else{let y=n.viewHooks;y!==null&&Wf(e,y,2),v0(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[_0]){for(let y of e[_0])y();e[_0]=null}o||(wA(e),e[ve]&=-73)}catch(d){throw o||Fu(e),d}finally{u!==null&&(qv(u,c),a&&BB(u)),$y()}}function SA(n,e){for(let t=KD(n);t!==null;t=YD(t))for(let r=Kn;r<t.length;r++){let i=t[r];TA(i,e)}}function WB(n){for(let e=KD(n);e!==null;e=YD(e)){if(!(e[ve]&2))continue;let t=e[wc];for(let r=0;r<t.length;r++){let i=t[r];fD(i)}}}function KB(n,e,t){tt(18);let r=ci(e,n);TA(r,t),tt(19,r[Vn])}function TA(n,e){Ny(n)&&ty(n,e)}function ty(n,e){let r=n[Ae],i=n[ve],o=n[ar],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Gv(o)),s||=!1,o&&(o.dirty=!1),n[ve]&=-9217,s)GB(r,n,r.template,n[Vn]);else if(i&8192){EA(n),SA(n,1);let a=r.components;a!==null&&xA(n,a,1),wA(n)}}function xA(n,e,t){for(let r=0;r<e.length;r++)KB(n,e[r],t)}function YB(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)Ys(~i);else{let o=i,s=t[++r],a=t[++r];PU(s,o);let c=e[o];tt(24,c),a(2,c),tt(25,c)}}}finally{Ys(-1)}}function gw(n,e){let t=_D()?64:1088;for(n[Ki].changeDetectionScheduler?.notify(e);n;){n[ve]|=t;let r=Ks(n);if(sp(n)&&!r)return n;n=r}return null}function MA(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function QB(n,e,t,r=!0){let i=e[Ae];if(ZB(i,e,n,t),r){let s=ey(t,n),a=e[kt],c=a.parentNode(n[Ws]);c!==null&&SB(i,n[Lr],a,e,c,s)}let o=e[np];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function ny(n,e){if(n.length<=Kn)return;let t=Kn+e,r=n[t];if(r){let i=r[Gs];i!==null&&i!==n&&fw(i,r),e>0&&(n[t-1][Nr]=r[Nr]);let o=ep(n,Kn+e);IB(r[Ae],r);let s=o[Yi];s!==null&&s.detachView(o[Ae]),r[fn]=null,r[Nr]=null,r[ve]&=-129}return r}function ZB(n,e,t,r){let i=Kn+r,o=t.length;r>0&&(t[i-1][Nr]=e),r<o-Kn?(e[Nr]=t[i],KM(t,Kn+r,e)):(t.push(e),e[Nr]=null),e[fn]=t;let s=e[Gs];s!==null&&t!==s&&DA(s,e);let a=e[Yi];a!==null&&a.insertView(n),V0(e),e[ve]|=128}function DA(n,e){let t=n[wc],r=e[fn];if(jo(r))n[ve]|=2;else{let i=r[fn][oi];e[oi]!==i&&(n[ve]|=2)}t===null?n[wc]=[e]:t.push(e)}var ku=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let e=this._lView,t=e[Ae];return gp(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r}get context(){return this._lView[Vn]}set context(e){this._lView[Vn]=e}get destroyed(){return Dc(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[fn];if(Xi(e)){let t=e[op],r=t?t.indexOf(this):-1;r>-1&&(ny(e,r),ep(t,r))}this._attachedToViewContainer=!1}vA(this._lView[Ae],this._lView)}onDestroy(e){pD(this._lView,e)}markForCheck(){gw(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[ve]&=-129}reattach(){V0(this._lView),this._lView[ve]|=128}detectChanges(){this._lView[ve]|=1024,IA(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ne(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=sp(this._lView),t=this._lView[Gs];t!==null&&!e&&fw(t,this._lView),_A(this._lView[Ae],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new ne(902,!1);this._appRef=e;let t=sp(this._lView),r=this._lView[Gs];r!==null&&!t&&DA(r,this._lView),V0(this._lView)}};var Js=(()=>{class n{static __NG_ELEMENT_ID__=ej}return n})(),JB=Js,XB=class extends JB{_declarationLView;_declarationTContainer;elementRef;constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){let i=CB(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new ku(i)}};function ej(){return Vp(gn(),Oe())}function Vp(n,e){return n.type&4?new XB(e,n,Ac(n,e)):null}function Lp(n,e,t,r,i){let o=n.data[e];if(o===null)o=tj(n,e,t,r,i),AU()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=xU();o.injectorIndex=s===null?-1:s.injectorIndex}return na(o,!0),o}function tj(n,e,t,r,i){let o=gD(),s=Uy(),a=s?o:o&&o.parent,c=n.data[e]=rj(n,a,t,e,r,i);return nj(n,c,o,s),c}function nj(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function rj(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return IU()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var ace=new RegExp(`^(\\d+)*(${w6}|${y6})*(.*)`);var ij=()=>null;function wM(n,e){return ij(n,e)}var oj=class{},AA=class{},ry=class{resolveComponentFactory(e){throw Error(`No component factory found for ${Fn(e)}.`)}},Up=class{static NULL=new ry},Ec=class{},lr=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>sj()}return n})();function sj(){let n=Oe(),e=gn(),t=ci(e.index,n);return(jo(t)?t:n)[kt]}var aj=(()=>{class n{static \u0275prov=re({token:n,providedIn:"root",factory:()=>null})}return n})();var b0={},iy=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=Ep(r);let i=this.injector.get(e,b0,r);return i!==b0||t===b0?i:this.parentInjector.get(e,t,r)}};function oy(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=D0(i,a);else if(o==2){let c=a,u=e[++s];r=D0(r,c+": "+u+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function ie(n,e=Me.Default){let t=Oe();if(t===null)return me(n,e);let r=gn();return OD(r,t,Sn(n),e)}function PA(){let n="invalid";throw new Error(n)}function mw(n,e,t,r,i){let o=r===null?null:{"":-1},s=i(n,t);if(s!==null){let a,c=null,u=null,d=lj(s);d===null?a=s:[a,c,u]=d,hj(n,e,t,a,o,c,u)}o!==null&&r!==null&&cj(t,r,o)}function cj(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new ne(-301,!1);r.push(e[i],o)}}function lj(n){let e=null,t=!1;for(let s=0;s<n.length;s++){let a=n[s];if(s===0&&si(a)&&(e=a),a.findHostDirectiveDefs!==null){t=!0;break}}if(!t)return null;let r=null,i=null,o=null;for(let s of n)s.findHostDirectiveDefs!==null&&(r??=[],i??=new Map,o??=new Map,uj(s,r,o,i)),s===e&&(r??=[],r.push(s));return r!==null?(r.push(...e===null?n:n.slice(1)),[r,i,o]):null}function uj(n,e,t,r){let i=e.length;n.findHostDirectiveDefs(n,e,r),t.set(n,[i,e.length-1])}function dj(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function hj(n,e,t,r,i,o,s){let a=r.length,c=!1;for(let _=0;_<a;_++){let y=r[_];!c&&si(y)&&(c=!0,dj(n,t,_)),j0(up(t,e),n,y.type)}vj(t,n.data.length,a);for(let _=0;_<a;_++){let y=r[_];y.providersResolver&&y.providersResolver(y)}let u=!1,d=!1,p=hA(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let _=0;_<a;_++){let y=r[_];if(t.mergedAttrs=Cc(t.mergedAttrs,y.hostAttrs),pj(n,t,e,p,y),_j(p,y,i),s!==null&&s.has(y)){let[A,O]=s.get(y);t.directiveToIndex.set(y.type,[p,A+t.directiveStart,O+t.directiveStart])}else(o===null||!o.has(y))&&t.directiveToIndex.set(y.type,p);y.contentQueries!==null&&(t.flags|=4),(y.hostBindings!==null||y.hostAttrs!==null||y.hostVars!==0)&&(t.flags|=64);let v=y.type.prototype;!u&&(v.ngOnChanges||v.ngOnInit||v.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),u=!0),!d&&(v.ngOnChanges||v.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),d=!0),p++}fj(n,t,o)}function fj(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))bM(0,e,i,r),bM(1,e,i,r),EM(e,r,!1);else{let o=t.get(i);CM(0,e,o,r),CM(1,e,o,r),EM(e,r,!0)}}}function bM(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),kA(e,o)}}function CM(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),kA(e,s)}}function kA(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function EM(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=n;if(r===null||!t&&i===null||t&&o===null||iw(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let c=r[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}else if(typeof c=="number")break;if(!t&&i.hasOwnProperty(c)){let u=i[c];for(let d of u)if(d===e){s??=[],s.push(c,r[a+1]);break}}else if(t&&o.hasOwnProperty(c)){let u=o[c];for(let d=0;d<u.length;d+=2)if(u[d]===e){s??=[],s.push(u[d+1],r[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(s)}function pj(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=$s(i.type,!0)),s=new Qs(o,si(i),ie);n.blueprint[r]=s,t[r]=s,gj(n,e,r,hA(n,t,i.hostVars,Un),i)}function gj(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;mj(s)!=a&&s.push(a),s.push(t,r,o)}}function mj(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function _j(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;si(e)&&(t[""]=n)}}function vj(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function RA(n,e,t,r,i,o,s,a){let c=e.consts,u=bc(c,s),d=Lp(e,n,2,r,u);return o&&mw(e,t,d,bc(c,a),i),d.mergedAttrs=Cc(d.mergedAttrs,d.attrs),d.attrs!==null&&oy(d,d.attrs,!1),d.mergedAttrs!==null&&oy(d,d.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,d),d}function OA(n,e){qy(n,e),Ry(e)&&n.queries.elementEnd(e)}var mp=class extends Up{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=qs(e);return new Ic(t,this.ngModule)}};function yj(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],o={propName:t,templateName:e,isSignal:(r&Rp.SignalBased)!==0};return i&&(o.transform=i),o})}function wj(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function bj(n,e,t){let r=e instanceof hn?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new iy(t,r):t}function Cj(n){let e=n.get(Ec,null);if(e===null)throw new ne(407,!1);let t=n.get(aj,null),r=n.get(Zs,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r}}function Ej(n,e){let t=(n.selectors[0][0]||"div").toLowerCase();return cA(e,t,t==="svg"?lD:t==="math"?pU:null)}var Ic=class extends AA{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=yj(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=wj(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=Q6(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i){tt(22);let o=Re(null);try{let s=this.componentDef,a=r?["ng-version","19.2.15"]:Z6(this.componentDef.selectors[0]),c=ow(0,null,null,1,0,null,null,null,null,[a],null),u=bj(s,i||this.ngModule,e),d=Cj(u),p=d.rendererFactory.createRenderer(null,s),_=r?aB(p,r,s.encapsulation,u):Ej(s,p),y=sw(null,c,null,512|dA(s),null,null,d,p,u,null,tA(_,u,!0));y[Ln]=_,Hy(y);let v=null;try{let A=RA(Ln,c,y,"#host",()=>[this.componentDef],!0,0);_&&(uA(p,_,A),Pc(_,y)),Op(c,y,A),nw(c,A,y),OA(c,A),t!==void 0&&Ij(A,this.ngContentSelectors,t),v=ci(A.index,y),y[Vn]=v[Vn],dw(c,y,null)}catch(A){throw v!==null&&Y0(v),Y0(y),A}finally{tt(23),$y()}return new sy(this.componentType,y)}finally{Re(o)}}},sy=class extends oj{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t){super(),this._rootLView=t,this._tNode=dD(t[Ae],Ln),this.location=Ac(this._tNode,t),this.instance=ci(this._tNode.index,t)[Vn],this.hostView=this.changeDetectorRef=new ku(t,void 0,!1),this.componentType=e}setInput(e,t){let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,o=uw(r,i[Ae],i,e,t);this.previousInputValues.set(e,t);let s=ci(r.index,i);gw(s,1)}get injector(){return new Hs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function Ij(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var $o=(()=>{class n{static __NG_ELEMENT_ID__=Sj}return n})();function Sj(){let n=gn();return FA(n,Oe())}var Tj=$o,NA=class extends Tj{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Ac(this._hostTNode,this._hostLView)}get injector(){return new Hs(this._hostTNode,this._hostLView)}get parentInjector(){let e=Gy(this._hostTNode,this._hostLView);if(MD(e)){let t=cp(e,this._hostLView),r=ap(e),i=t[Ae].data[r+8];return new Hs(i,t)}else return new Hs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=IM(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-Kn}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=wM(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,vM(this._hostTNode,s)),a}createComponent(e,t,r,i,o){let s=e&&!uU(e),a;if(s)a=t;else{let v=t||{};a=v.index,r=v.injector,i=v.projectableNodes,o=v.environmentInjector||v.ngModuleRef}let c=s?e:new Ic(qs(e)),u=r||this.parentInjector;if(!o&&c.ngModule==null){let A=(s?u:this.parentInjector).get(hn,null);A&&(o=A)}let d=qs(c.componentType??{}),p=wM(this._lContainer,d?.id??null),_=p?.firstChild??null,y=c.create(u,i,_,o);return this.insertImpl(y.hostView,a,vM(this._hostTNode,p)),y}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(_U(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[fn],u=new NA(c,c[Lr],c[fn]);u.detach(u.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return QB(s,i,o,r),e.attachToViewContainerRef(),KM(C0(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=IM(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=ny(this._lContainer,t);r&&(ep(C0(this._lContainer),t),vA(r[Ae],r))}detach(e){let t=this._adjustIndex(e,-1),r=ny(this._lContainer,t);return r&&ep(C0(this._lContainer),t)!=null?new ku(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function IM(n){return n[op]}function C0(n){return n[op]||(n[op]=[])}function FA(n,e){let t,r=e[n.index];return Xi(r)?t=r:(t=MA(r,e,null,n),e[n.index]=t,aw(e,t)),Mj(t,e,n,r),new NA(t,n,e)}function xj(n,e){let t=n[kt],r=t.createComment(""),i=di(e,n),o=t.parentNode(i);return pp(t,o,r,t.nextSibling(i),!1),r}var Mj=Pj,Dj=()=>!1;function Aj(n,e,t){return Dj(n,e,t)}function Pj(n,e,t,r){if(n[Ws])return;let i;t.type&8?i=ai(r):i=xj(e,t),n[Ws]=i}var ay=class n{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},cy=class n{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let r=e.contentQueries!==null?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){let s=t.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new n(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)_w(e,t).matches!==null&&this.queries[t].setDirty()}},_p=class{flags;read;predicate;constructor(e,t,r=null){this.flags=t,this.read=r,typeof e=="string"?this.predicate=Uj(e):this.predicate=e}},ly=class n{queries;constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){let i=t!==null?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,t!==null?t.push(o):t=[o])}return t!==null?new n(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},uy=class n{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,t=-1){this.metadata=e,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,t,kj(t,o)),this.matchTNodeWithReadOption(e,t,Kf(t,e,o,!1,!1))}else r===Js?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Kf(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===mn||i===$o||i===Js&&t.type&4)this.addMatch(t.index,-2);else{let o=Kf(t,e,i,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function kj(n,e){let t=n.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1]}return null}function Rj(n,e){return n.type&11?Ac(n,e):n.type&4?Vp(n,e):null}function Oj(n,e,t,r){return t===-1?Rj(e,n):t===-2?Nj(n,e,r):Pu(n,n[Ae],t,e)}function Nj(n,e,t){if(t===mn)return Ac(e,n);if(t===Js)return Vp(e,n);if(t===$o)return FA(e,n)}function VA(n,e,t,r){let i=e[Yi].queries[r];if(i.matches===null){let o=n.data,s=t.matches,a=[];for(let c=0;s!==null&&c<s.length;c+=2){let u=s[c];if(u<0)a.push(null);else{let d=o[u];a.push(Oj(e,d,s[c+1],t.metadata.read))}}i.matches=a}return i.matches}function dy(n,e,t,r){let i=n.queries.getByIndex(t),o=i.matches;if(o!==null){let s=VA(n,e,i,t);for(let a=0;a<o.length;a+=2){let c=o[a];if(c>0)r.push(s[a/2]);else{let u=o[a+1],d=e[-c];for(let p=Kn;p<d.length;p++){let _=d[p];_[Gs]===_[fn]&&dy(_[Ae],_,u,r)}if(d[wc]!==null){let p=d[wc];for(let _=0;_<p.length;_++){let y=p[_];dy(y[Ae],y,u,r)}}}}}return r}function Fj(n,e){return n[Yi].queries[e].queryList}function LA(n,e,t){let r=new K0((t&4)===4);return wU(n,e,r,r.destroy),(e[Yi]??=new cy).queries.push(new ay(r))-1}function Vj(n,e,t){let r=Ft();return r.firstCreatePass&&(UA(r,new _p(n,e,t),-1),(e&2)===2&&(r.staticViewQueries=!0)),LA(r,Oe(),e)}function Lj(n,e,t,r){let i=Ft();if(i.firstCreatePass){let o=gn();UA(i,new _p(e,t,r),o.index),Bj(i,n),(t&2)===2&&(i.staticContentQueries=!0)}return LA(i,Oe(),t)}function Uj(n){return n.split(",").map(e=>e.trim())}function UA(n,e,t){n.queries===null&&(n.queries=new ly),n.queries.track(new uy(e,t))}function Bj(n,e){let t=n.contentQueries||(n.contentQueries=[]),r=t.length?t[t.length-1]:-1;e!==r&&t.push(n.queries.length-1,e)}function _w(n,e){return n.queries.getByIndex(e)}function jj(n,e){let t=n[Ae],r=_w(t,e);return r.crossesNgTemplate?dy(t,n,e,[]):VA(t,n,r,e)}var Sc=class{},vw=class{};var hy=class extends Sc{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new mp(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let o=ZM(e);this._bootstrapComponents=sA(o.bootstrap),this._r3Injector=VD(e,t,[{provide:Sc,useValue:this},{provide:Up,useValue:this.componentFactoryResolver},...r],Fn(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},fy=class extends vw{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new hy(this.moduleType,e,[])}};var vp=class extends Sc{injector;componentFactoryResolver=new mp(this);instance=null;constructor(e){super();let t=new Du([...e.providers,{provide:Sc,useValue:this},{provide:Up,useValue:this.componentFactoryResolver}],e.parent||Py(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Lu(n,e,t=null){return new vp({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var Hj=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=JM(!1,t.type),i=r.length>0?Lu([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=re({token:n,providedIn:"environment",factory:()=>new n(me(hn))})}return n})();function Tt(n){return Ou(()=>{let e=BA(n),t=ue(z({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===GD.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(Hj).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||li.Emulated,styles:n.styles||Nn,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&Rc("NgStandalone"),jA(t);let r=n.dependencies;return t.directiveDefs=SM(r,!1),t.pipeDefs=SM(r,!0),t.id=Wj(t),t})}function $j(n){return qs(n)||J5(n)}function zj(n){return n!==null}function to(n){return Ou(()=>({type:n.type,bootstrap:n.bootstrap||Nn,declarations:n.declarations||Nn,imports:n.imports||Nn,exports:n.exports||Nn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function qj(n,e){if(n==null)return zs;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a,c;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,c=i[3]||null):(o=i,s=i,a=Rp.None,c=null),t[o]=[r,a,c],e[o]=s}return t}function Gj(n){if(n==null)return zs;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function lt(n){return Ou(()=>{let e=BA(n);return jA(e),e})}function Bp(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function BA(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||zs,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||Nn,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:qj(n.inputs,e),outputs:Gj(n.outputs),debugInfo:null}}function jA(n){n.features?.forEach(e=>e(n))}function SM(n,e){if(!n)return null;let t=e?X5:$j;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(zj)}function Wj(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Kj(n){return Object.getPrototypeOf(n.prototype).constructor}function Yn(n){let e=Kj(n.type),t=!0,r=[n];for(;e;){let i;if(si(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new ne(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=E0(n.inputs),s.declaredInputs=E0(n.declaredInputs),s.outputs=E0(n.outputs);let a=i.hostBindings;a&&Xj(n,a);let c=i.viewQuery,u=i.contentQueries;if(c&&Zj(n,c),u&&Jj(n,u),Yj(n,i),A5(n.outputs,i.outputs),si(i)&&i.data.animation){let d=n.data;d.animation=(d.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===Yn&&(t=!1)}}e=Object.getPrototypeOf(e)}Qj(r)}function Yj(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t])}}function Qj(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Cc(i.hostAttrs,t=Cc(t,i.hostAttrs))}}function E0(n){return n===zs?{}:n===Nn?[]:n}function Zj(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function Jj(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function Xj(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function HA(n){return t8(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function e8(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function t8(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function yw(n,e,t){return n[e]=t}function n8(n,e){return n[e]}function ui(n,e,t){let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function ww(n,e,t,r){let i=ui(n,e,t);return ui(n,e+1,r)||i}function r8(n,e,t,r,i){let o=ww(n,e,t,r);return ui(n,e+2,i)||o}function i8(n,e,t,r,i,o,s,a,c){let u=e.consts,d=Lp(e,n,4,s||null,a||null);Ly()&&mw(e,t,d,bc(u,c),lw),d.mergedAttrs=Cc(d.mergedAttrs,d.attrs),qy(e,d);let p=d.tView=ow(2,d,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return e.queries!==null&&(e.queries.template(e,d),p.queries=e.queries.embeddedTView(d)),d}function o8(n,e,t,r,i,o,s,a,c,u){let d=t+Ln,p=e.firstCreatePass?i8(d,e,n,r,i,o,s,a,c):e.data[d];na(p,!1);let _=s8(e,n,p,t);Ap()&&Np(e,n,_,p),Pc(_,n);let y=MA(_,n,_,p);return n[d]=y,aw(n,y),Aj(y,p,n),Tp(p)&&Op(e,n,p),c!=null&&cw(n,p,u),p}function oe(n,e,t,r,i,o,s,a){let c=Oe(),u=Ft(),d=bc(u.consts,o);return o8(c,u,n,e,t,r,i,d,s,a),oe}var s8=a8;function a8(n,e,t,r){return Pp(!0),e[kt].createComment("")}var $A=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var zA=new J("");var c8=(()=>{class n{static \u0275prov=re({token:n,providedIn:"root",factory:()=>new py})}return n})(),py=class{queuedEffectCount=0;queues=new Map;schedule(e){this.enqueue(e)}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),this.queuedEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,t]of this.queues)e===null?this.flushQueue(t):e.run(()=>this.flushQueue(t))}flushQueue(e){for(let t of e)e.delete(t),this.queuedEffectCount--,t.run()}};function oa(n){return!!n&&typeof n.then=="function"}function qA(n){return!!n&&typeof n.subscribe=="function"}var GA=new J("");function bw(n){return Tn([{provide:GA,multi:!0,useValue:n}])}var WA=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=F(GA,{optional:!0})??[];injector=F(_t);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=pn(this.injector,i);if(oa(o))t.push(o);else if(qA(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),jp=new J("");function l8(){Yv(()=>{throw new ne(600,!1)})}function u8(n){return n.isBoundToModule}var d8=10;var Xs=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=F(a6);afterRenderManager=F(eA);zonelessEnabled=F(Ky);rootEffectScheduler=F(c8);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new Xe;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=F(ia).hasPendingTasks.pipe(le(t=>!t));constructor(){F(kc,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=F(hn);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=_t.NULL){tt(10);let o=t instanceof AA;if(!this._injector.get(WA).done){let y="";throw new ne(405,y)}let a;o?a=t:a=this._injector.get(Up).resolveComponentFactory(t),this.componentTypes.push(a.componentType);let c=u8(a)?void 0:this._injector.get(Sc),u=r||a.selector,d=a.create(i,[],u,c),p=d.location.nativeElement,_=d.injector.get(zA,null);return _?.registerApplication(p),d.onDestroy(()=>{this.detachView(d.hostView),Yf(this.components,d),_?.unregisterApplication(p)}),this._loadComponent(d),tt(11,d),d}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){tt(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(ew.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new ne(101,!1);let t=Re(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,Re(t),this.afterTick.next(),tt(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Ec,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<d8;)tt(14),this.synchronizeOnce(),tt(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let t=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)h8(r,i,t,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>xp(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;Yf(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(jp,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Yf(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new ne(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Yf(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function h8(n,e,t,r){if(!t&&!xp(n))return;IA(n,e,t&&!r?0:1)}function ae(n,e,t,r){let i=Oe(),o=Mp();if(ui(i,o,e)){let s=Ft(),a=zy();gB(a,i,n,e,t,r)}return ae}function f8(n,e,t,r){return ui(n,Mp(),t)?e+Wi(t)+r:Un}function p8(n,e,t,r,i,o){let s=vD(),a=ww(n,s,t,i);return Dp(2),a?e+Wi(t)+r+Wi(i)+o:Un}function g8(n,e,t,r,i,o,s,a){let c=vD(),u=r8(n,c,t,i,s);return Dp(3),u?e+Wi(t)+r+Wi(i)+o+Wi(s)+a:Un}function zf(n,e){return n<<17|e<<2}function ea(n){return n>>17&32767}function m8(n){return(n&2)==2}function _8(n,e){return n&131071|e<<17}function gy(n){return n|2}function Tc(n){return(n&131068)>>2}function I0(n,e){return n&-131069|e<<2}function v8(n){return(n&1)===1}function my(n){return n|1}function y8(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=ea(s),c=Tc(s);n[r]=t;let u=!1,d;if(Array.isArray(t)){let p=t;d=p[1],(d===null||Nu(p,d)>0)&&(u=!0)}else d=t;if(i)if(c!==0){let _=ea(n[a+1]);n[r+1]=zf(_,a),_!==0&&(n[_+1]=I0(n[_+1],r)),n[a+1]=_8(n[a+1],r)}else n[r+1]=zf(a,0),a!==0&&(n[a+1]=I0(n[a+1],r)),a=r;else n[r+1]=zf(c,0),a===0?a=r:n[c+1]=I0(n[c+1],r),c=r;u&&(n[r+1]=gy(n[r+1])),TM(n,d,r,!0),TM(n,d,r,!1),w8(e,d,n,r,o),s=zf(a,c),o?e.classBindings=s:e.styleBindings=s}function w8(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&Nu(o,e)>=0&&(t[r+1]=my(t[r+1]))}function TM(n,e,t,r){let i=n[t+1],o=e===null,s=r?ea(i):Tc(i),a=!1;for(;s!==0&&(a===!1||o);){let c=n[s],u=n[s+1];b8(c,e)&&(a=!0,n[s+1]=r?my(u):gy(u)),s=r?ea(u):Tc(u)}a&&(n[t+1]=r?gy(i):my(i))}function b8(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?Nu(n,e)>=0:!1}var Or={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function C8(n){return n.substring(Or.key,Or.keyEnd)}function E8(n){return I8(n),KA(n,YA(n,0,Or.textEnd))}function KA(n,e){let t=Or.textEnd;return t===e?-1:(e=Or.keyEnd=S8(n,Or.key=e,t),YA(n,e,t))}function I8(n){Or.key=0,Or.keyEnd=0,Or.value=0,Or.valueEnd=0,Or.textEnd=n.length}function YA(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function S8(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}function W(n,e,t){let r=Oe(),i=Mp();if(ui(r,i,e)){let o=Ft(),s=zy();gA(o,s,r,n,e,r[kt],t,!1)}return W}function _y(n,e,t,r,i){uw(e,n,t,i?"class":"style",r)}function Uu(n,e,t){return QA(n,e,t,!1),Uu}function _e(n,e){return QA(n,e,null,!0),_e}function ut(n){x8(R8,T8,n,!0)}function T8(n,e){for(let t=E8(e);t>=0;t=KA(e,t))Dy(n,C8(e),!0)}function QA(n,e,t,r){let i=Oe(),o=Ft(),s=Dp(2);if(o.firstUpdatePass&&JA(o,n,s,r),e!==Un&&ui(i,s,e)){let a=o.data[eo()];XA(o,a,i,i[kt],n,i[s+1]=N8(e,t),r,s)}}function x8(n,e,t,r){let i=Ft(),o=Dp(2);i.firstUpdatePass&&JA(i,null,o,r);let s=Oe();if(t!==Un&&ui(s,o,t)){let a=i.data[eo()];if(eP(a,r)&&!ZA(i,o)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(t=D0(c,t||"")),_y(i,a,s,t,r)}else O8(i,a,s,s[kt],s[o+1],s[o+1]=k8(n,e,t),r,o)}}function ZA(n,e){return e>=n.expandoStartIndex}function JA(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[eo()],s=ZA(n,t);eP(o,r)&&e===null&&!s&&(e=!1),e=M8(i,o,e,r),y8(i,o,e,t,s,r)}}function M8(n,e,t,r){let i=RU(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=S0(null,n,e,t,r),t=Ru(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=S0(i,n,e,t,r),o===null){let c=D8(n,e,r);c!==void 0&&Array.isArray(c)&&(c=S0(null,n,e,c[1],r),c=Ru(c,e.attrs,r),A8(n,e,r,c))}else o=P8(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function D8(n,e,t){let r=t?e.classBindings:e.styleBindings;if(Tc(r)!==0)return n[ea(r)]}function A8(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[ea(i)]=r}function P8(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=Ru(r,s,t)}return Ru(r,e.attrs,t)}function S0(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=Ru(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function Ru(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),Dy(n,s,t?!0:e[++o]))}return n===void 0?null:n}function k8(n,e,t){if(t==null||t==="")return Nn;let r=[],i=Vu(t);if(Array.isArray(i))for(let o=0;o<i.length;o++)n(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&n(r,o,i[o]);else typeof i=="string"&&e(r,i);return r}function R8(n,e,t){let r=String(e);r!==""&&!r.includes(" ")&&Dy(n,r,t)}function O8(n,e,t,r,i,o,s,a){i===Un&&(i=Nn);let c=0,u=0,d=0<i.length?i[0]:null,p=0<o.length?o[0]:null;for(;d!==null||p!==null;){let _=c<i.length?i[c+1]:void 0,y=u<o.length?o[u+1]:void 0,v=null,A;d===p?(c+=2,u+=2,_!==y&&(v=p,A=y)):p===null||d!==null&&d<p?(c+=2,v=d):(u+=2,v=p,A=y),v!==null&&XA(n,e,t,r,v,A,s,a),d=c<i.length?i[c]:null,p=u<o.length?o[u]:null}}function XA(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let c=n.data,u=c[a+1],d=v8(u)?xM(c,e,t,i,Tc(u),s):void 0;if(!yp(d)){yp(o)||m8(u)&&(o=xM(c,null,t,i,a,s));let p=uD(eo(),t);FB(r,s,p,i,o)}}function xM(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let c=n[i],u=Array.isArray(c),d=u?c[1]:c,p=d===null,_=t[i+1];_===Un&&(_=p?Nn:void 0);let y=p?g0(_,r):d===r?_:void 0;if(u&&!yp(y)&&(y=g0(c,r)),yp(y)&&(a=y,s))return a;let v=n[i+1];i=s?ea(v):Tc(v)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=g0(c,r))}return a}function yp(n){return n!==void 0}function N8(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=Fn(Vu(n)))),n}function eP(n,e){return(n.flags&(e?8:16))!==0}function h(n,e,t,r){let i=Oe(),o=Ft(),s=Ln+n,a=i[kt],c=o.firstCreatePass?RA(s,o,i,e,lw,Ly(),t,r):o.data[s],u=F8(o,i,c,a,e,n);i[s]=u;let d=Tp(c);return na(c,!0),uA(a,u,c),!mA(c)&&Ap()&&Np(o,i,u,c),(bU()===0||d)&&Pc(u,i),CU(),d&&(Op(o,i,c),nw(o,c,i)),r!==null&&cw(i,c),h}function g(){let n=gn();Uy()?mD():(n=n.parent,na(n,!1));let e=n;SU(e)&&TU(),EU();let t=Ft();return t.firstCreatePass&&OA(t,e),e.classesWithoutHost!=null&&BU(e)&&_y(t,e,Oe(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&jU(e)&&_y(t,e,Oe(),e.stylesWithoutHost,!1),g}function V(n,e,t,r){return h(n,e,t,r),g(),V}var F8=(n,e,t,r,i,o)=>(Pp(!0),cA(r,i,VU()));function V8(n,e,t,r,i){let o=e.consts,s=bc(o,r),a=Lp(e,n,8,"ng-container",s);s!==null&&oy(a,s,!0);let c=bc(o,i);return Ly()&&mw(e,t,a,c,lw),a.mergedAttrs=Cc(a.mergedAttrs,a.attrs),e.queries!==null&&e.queries.elementStart(e,a),a}function Cw(n,e,t){let r=Oe(),i=Ft(),o=n+Ln,s=i.firstCreatePass?V8(o,i,r,e,t):i.data[o];na(s,!0);let a=L8(i,r,s,n);return r[o]=a,Ap()&&Np(i,r,a,s),Pc(a,r),Tp(s)&&(Op(i,r,s),nw(i,s,r)),t!=null&&cw(r,s),Cw}function Ew(){let n=gn(),e=Ft();return Uy()?mD():(n=n.parent,na(n,!1)),e.firstCreatePass&&(qy(e,n),Ry(n)&&e.queries.elementEnd(n)),Ew}var L8=(n,e,t,r)=>(Pp(!0),eB(e[kt],""));function Ge(){return Oe()}var Us=void 0;function U8(n){let e=Math.floor(Math.abs(n)),t=n.toString().replace(/^[^.]*\.?/,"").length;return e===1&&t===0?1:5}var B8=["en",[["a","p"],["AM","PM"],Us],[["AM","PM"],Us,Us],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Us,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Us,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Us,"{1} 'at' {0}",Us],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",U8],T0={};function Qn(n){let e=j8(n),t=MM(e);if(t)return t;let r=e.split("-")[0];if(t=MM(r),t)return t;if(r==="en")return B8;throw new ne(701,!1)}function MM(n){return n in T0||(T0[n]=Bs.ng&&Bs.ng.common&&Bs.ng.common.locales&&Bs.ng.common.locales[n]),T0[n]}var xt=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(xt||{});function j8(n){return n.toLowerCase().replace(/_/g,"-")}var wp="en-US";var H8=wp;function $8(n){typeof n=="string"&&(H8=n.toLowerCase().replace(/_/g,"-"))}function DM(n,e,t){return function r(i){if(i===Function)return t;let o=Mc(n)?ci(n.index,e):e;gw(o,5);let s=e[Vn],a=AM(e,s,t,i),c=r.__ngNextListenerFn__;for(;c;)a=AM(e,s,c,i)&&a,c=c.__ngNextListenerFn__;return a}}function AM(n,e,t,r){let i=Re(null);try{return tt(6,e,t),t(r)!==!1}catch(o){return z8(n,o),!1}finally{tt(7,e,t),Re(i)}}function z8(n,e){let t=n[yc],r=t?t.get(Fr,null):null;r&&r.handleError(e)}function PM(n,e,t,r,i,o){let s=e[t],a=e[Ae],u=a.data[t].outputs[r],d=s[u],p=a.firstCreatePass?Vy(a):null,_=Fy(e),y=d.subscribe(o),v=_.length;_.push(o,y),p&&p.push(i,n.index,v,-(v+1))}function H(n,e,t,r){let i=Oe(),o=Ft(),s=gn();return tP(o,i,i[kt],s,n,e,r),H}function q8(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[rp],c=i[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function tP(n,e,t,r,i,o,s){let a=Tp(r),u=n.firstCreatePass?Vy(n):null,d=Fy(e),p=!0;if(r.type&3||s){let _=di(r,e),y=s?s(_):_,v=d.length,A=s?G=>s(ai(G[r.index])):r.index,O=null;if(!s&&a&&(O=q8(n,e,i,r.index)),O!==null){let G=O.__ngLastListenerFn__||O;G.__ngNextListenerFn__=o,O.__ngLastListenerFn__=o,p=!1}else{o=DM(r,e,o),M6(e,y,i,o);let G=t.listen(y,i,o);d.push(o,G),u&&u.push(i,A,v,v+1)}}else o=DM(r,e,o);if(p){let _=r.outputs?.[i],y=r.hostDirectiveOutputs?.[i];if(y&&y.length)for(let v=0;v<y.length;v+=2){let A=y[v],O=y[v+1];PM(r,e,A,O,i,o)}if(_&&_.length)for(let v of _)PM(r,e,v,i,i,o)}}function j(n=1){return NU(n)}function nP(n,e,t,r){Lj(n,e,t,r)}function rP(n,e,t){Vj(n,e,t)}function Hp(n){let e=Oe(),t=Ft(),r=yD();jy(r+1);let i=_w(t,r);if(n.dirty&&mU(e)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let o=jj(e,r);n.reset(o,u6),n.notifyOnChanges()}return!0}return!1}function $p(){return Fj(Oe(),yD())}function Br(n){let e=MU();return Oy(e,Ln+n)}function w(n,e=""){let t=Oe(),r=Ft(),i=n+Ln,o=r.firstCreatePass?Lp(r,i,1,e,null):r.data[i],s=G8(r,t,o,e,n);t[i]=s,Ap()&&Np(r,t,s,o),na(o,!1)}var G8=(n,e,t,r,i)=>(Pp(!0),J6(e[kt],r));function ce(n){return Be("",n,""),ce}function Be(n,e,t){let r=Oe(),i=f8(r,n,e,t);return i!==Un&&Sw(r,eo(),i),Be}function Bu(n,e,t,r,i){let o=Oe(),s=p8(o,n,e,t,r,i);return s!==Un&&Sw(o,eo(),s),Bu}function Iw(n,e,t,r,i,o,s){let a=Oe(),c=g8(a,n,e,t,r,i,o,s);return c!==Un&&Sw(a,eo(),c),Iw}function Sw(n,e,t){let r=uD(e,n);X6(n[kt],r,t)}function ye(n,e,t){zD(e)&&(e=e());let r=Oe(),i=Mp();if(ui(r,i,e)){let o=Ft(),s=zy();gA(o,s,r,n,e,r[kt],t,!1)}return ye}function Ee(n,e){let t=zD(n);return t&&n.set(e),t}function we(n,e){let t=Oe(),r=Ft(),i=gn();return tP(r,t,t[kt],i,n,e),we}function W8(n,e,t){let r=Ft();if(r.firstCreatePass){let i=si(n);vy(t,r.data,r.blueprint,i,!0),vy(e,r.data,r.blueprint,i,!1)}}function vy(n,e,t,r,i){if(n=Sn(n),Array.isArray(n))for(let o=0;o<n.length;o++)vy(n[o],e,t,r,i);else{let o=Ft(),s=Oe(),a=gn(),c=vc(n)?n:Sn(n.provide),u=tD(n),d=a.providerIndexes&1048575,p=a.directiveStart,_=a.providerIndexes>>20;if(vc(n)||!n.multi){let y=new Qs(u,i,ie),v=M0(c,e,i?d:d+_,p);v===-1?(j0(up(a,s),o,c),x0(o,n,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(y),s.push(y)):(t[v]=y,s[v]=y)}else{let y=M0(c,e,d+_,p),v=M0(c,e,d,d+_),A=y>=0&&t[y],O=v>=0&&t[v];if(i&&!O||!i&&!A){j0(up(a,s),o,c);let G=Q8(i?Y8:K8,t.length,i,r,u);!i&&O&&(t[v].providerFactory=G),x0(o,n,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(G),s.push(G)}else{let G=iP(t[i?v:y],u,!i&&r);x0(o,n,y>-1?y:v,G)}!i&&r&&O&&t[v].componentProviders++}}}function x0(n,e,t,r){let i=vc(e),o=iU(e);if(i||o){let c=(o?Sn(e.useClass):e).prototype.ngOnDestroy;if(c){let u=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let d=u.indexOf(t);d===-1?u.push(t,[r,c]):u[d+1].push(r,c)}else u.push(t,c)}}}function iP(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function M0(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function K8(n,e,t,r,i){return yy(this.multi,[])}function Y8(n,e,t,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,c=Pu(r,r[Ae],this.providerFactory.index,i);s=c.slice(0,a),yy(o,s);for(let u=a;u<c.length;u++)s.push(c[u])}else s=[],yy(o,s);return s}function yy(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function Q8(n,e,t,r,i){let o=new Qs(n,t,ie);return o.multi=[],o.index=e,o.componentProviders=0,iP(o,i,r&&!t),o}function zt(n,e=[]){return t=>{t.providersResolver=(r,i)=>W8(r,i?i(n):n,e)}}function oP(n,e,t){let r=By()+n,i=Oe();return i[r]===Un?yw(i,r,t?e.call(t):e()):n8(i,r)}function sP(n,e){let t=n[e];return t===Un?void 0:t}function Z8(n,e,t,r,i,o){let s=e+t;return ui(n,s,i)?yw(n,s+1,o?r.call(o,i):r(i)):sP(n,s+1)}function J8(n,e,t,r,i,o,s){let a=e+t;return ww(n,a,i,o)?yw(n,a+2,s?r.call(s,i,o):r(i,o)):sP(n,a+2)}function jr(n,e){let t=Ft(),r,i=n+Ln;t.firstCreatePass?(r=X8(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=$s(r.type,!0)),s,a=On(ie);try{let c=lp(!1),u=o();return lp(c),gU(t,Oe(),i,u),u}finally{On(a)}}function X8(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function aP(n,e,t){let r=n+Ln,i=Oe(),o=Oy(i,r);return cP(i,r)?Z8(i,By(),e,o.transform,t,o):o.transform(t)}function no(n,e,t,r){let i=n+Ln,o=Oe(),s=Oy(o,i);return cP(o,i)?J8(o,By(),e,s.transform,t,r,s):s.transform(t,r)}function cP(n,e){return n[Ae].data[e].pure}function hi(n,e){return Vp(n,e)}var ta=class{full;major;minor;patch;constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},lP=new ta("19.2.15"),wy=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},uP=(()=>{class n{compileModuleSync(t){return new fy(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=ZM(t),o=sA(i.declarations).reduce((s,a)=>{let c=qs(a);return c&&s.push(new Ic(c)),s},[]);return new wy(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var eH=(()=>{class n{zone=F(Ve);changeDetectionScheduler=F(Zs);applicationRef=F(Xs);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),tH=new J("",{factory:()=>!1});function dP({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new Ve(ue(z({},fP()),{scheduleInRootZone:t})),[{provide:Ve,useFactory:n},{provide:Mu,multi:!0,useFactory:()=>{let r=F(eH,{optional:!0});return()=>r.initialize()}},{provide:Mu,multi:!0,useFactory:()=>{let r=F(nH);return()=>{r.initialize()}}},e===!0?{provide:UD,useValue:!0}:[],{provide:BD,useValue:t??LD}]}function hP(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,r=dP({ngZoneFactory:()=>{let i=fP(n);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&Rc("NgZone_CoalesceEvent"),new Ve(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return Tn([{provide:tH,useValue:!0},{provide:Ky,useValue:!1},r])}function fP(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var nH=(()=>{class n{subscription=new It;initialized=!1;zone=F(Ve);pendingTasks=F(ia);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ve.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ve.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var rH=(()=>{class n{appRef=F(Xs);taskService=F(ia);ngZone=F(Ve);zonelessEnabled=F(Ky);tracing=F(kc,{optional:!0});disableScheduling=F(UD,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new It;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(hp):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(F(BD,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof G0||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?lM:jD;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(hp+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,lM(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function iH(){return typeof $localize<"u"&&$localize.locale||wp}var ju=new J("",{providedIn:"root",factory:()=>F(ju,Me.Optional|Me.SkipSelf)||iH()});var by=new J(""),oH=new J("");function Iu(n){return!n.moduleRef}function sH(n){let e=Iu(n)?n.r3Injector:n.moduleRef.injector,t=e.get(Ve);return t.run(()=>{Iu(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(Fr,null),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:o=>{r.handleError(o)}})}),Iu(n)){let o=()=>e.destroy(),s=n.platformInjector.get(by);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(by);s.add(o),n.moduleRef.onDestroy(()=>{Yf(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return cH(r,t,()=>{let o=e.get(WA);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(ju,wp);if($8(s||wp),!e.get(oH,!0))return Iu(n)?e.get(Xs):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(Iu(n)){let c=e.get(Xs);return n.rootComponent!==void 0&&c.bootstrap(n.rootComponent),c}else return aH(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function aH(n,e){let t=n.injector.get(Xs);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new ne(-403,!1);e.push(n)}function cH(n,e,t){try{let r=t();return oa(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}var Qf=null;function lH(n=[],e){return _t.create({name:e,providers:[{provide:Ip,useValue:"platform"},{provide:by,useValue:new Set([()=>Qf=null])},...n]})}function uH(n=[]){if(Qf)return Qf;let e=lH(n);return Qf=e,l8(),dH(e),e}function dH(n){let e=n.get(Jy,null);pn(n,()=>{e?.forEach(t=>t())})}function Tw(){return!1}var zo=(()=>{class n{static __NG_ELEMENT_ID__=hH}return n})();function hH(n){return fH(gn(),Oe(),(n&16)===16)}function fH(n,e,t){if(Mc(n)&&!t){let r=ci(n.index,e);return new ku(r,r)}else if(n.type&175){let r=e[oi];return new ku(r,e)}return null}var Cy=class{constructor(){}supports(e){return HA(e)}create(e){return new Ey(e)}},pH=(n,e)=>e,Ey=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||pH}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<kM(r,i,o)?t:r,a=kM(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let u=a-i,d=c-i;if(u!=d){for(let _=0;_<u;_++){let y=_<o.length?o[_]:o[_]=0,v=y+_;d<=v&&v<u&&(o[_]=y+1)}let p=s.previousIndex;o[p]=d-u}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!HA(e))throw new ne(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,e8(e,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new Iy(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new bp),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new bp),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Iy=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},Sy=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},bp=class{map=new Map;put(e){let t=e.trackById,r=this.map.get(t);r||(r=new Sy,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function kM(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function RM(){return new xw([new Cy])}var xw=(()=>{class n{factories;static \u0275prov=re({token:n,providedIn:"root",factory:RM});constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||RM()),deps:[[n,new W5,new bt]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new ne(901,!1)}}return n})();function pP(n){let{rootComponent:e,appProviders:t,platformProviders:r,platformRef:i}=n;tt(8);try{let o=i?.injector??uH(r),s=[dP({}),{provide:Zs,useExisting:rH},...t||[]],a=new vp({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return sH({r3Injector:a.injector,platformInjector:o,rootComponent:e})}catch(o){return Promise.reject(o)}finally{tt(9)}}function qo(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function fi(n){return Jv(n)}function Oc(n,e){return Kv(n,e?.equal)}var OM=class{[or];constructor(e){this[or]=e}destroy(){this[or].destroy()}};function gP(n){let e=qs(n);if(!e)return null;let t=new Ic(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var Ot=new J("");var vP=null;function ur(){return vP}function Mw(n){vP??=n}var Hu=class{},$u=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=re({token:n,factory:()=>F(yP),providedIn:"platform"})}return n})(),Dw=new J(""),yP=(()=>{class n extends $u{_location;_history;_doc=F(Ot);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ur().getBaseHref(this._doc)}onPopState(t){let r=ur().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=ur().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=re({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function zp(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function mP(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function Hr(n){return n&&n[0]!=="?"?`?${n}`:n}var $r=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=re({token:n,factory:()=>F(Gp),providedIn:"root"})}return n})(),qp=new J(""),Gp=(()=>{class n extends $r{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??F(Ot).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return zp(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+Hr(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Hr(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Hr(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(me($u),me(qp,8))};static \u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Go=(()=>{class n{_subject=new Xe;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=_H(mP(_P(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Hr(r))}normalize(t){return n.stripTrailingSlash(mH(this._basePath,_P(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Hr(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Hr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Hr;static joinWithSlash=zp;static stripTrailingSlash=mP;static \u0275fac=function(r){return new(r||n)(me($r))};static \u0275prov=re({token:n,factory:()=>gH(),providedIn:"root"})}return n})();function gH(){return new Go(me($r))}function mH(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function _P(n){return n.replace(/\/index.html$/,"")}function _H(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var Nw=(()=>{class n extends $r{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=zp(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Hr(o))||this._platformLocation.pathname;this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Hr(o))||this._platformLocation.pathname;this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(me($u),me(qp,8))};static \u0275prov=re({token:n,factory:n.\u0275fac})}return n})();var Fw=function(n){return n[n.Decimal=0]="Decimal",n[n.Percent=1]="Percent",n[n.Currency=2]="Currency",n[n.Scientific=3]="Scientific",n}(Fw||{});var _n=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(_n||{}),nt=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(nt||{}),Bn=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(Bn||{}),jn={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function IP(n){return Qn(n)[xt.LocaleId]}function SP(n,e,t){let r=Qn(n),i=[r[xt.DayPeriodsFormat],r[xt.DayPeriodsStandalone]],o=dr(i,e);return dr(o,t)}function TP(n,e,t){let r=Qn(n),i=[r[xt.DaysFormat],r[xt.DaysStandalone]],o=dr(i,e);return dr(o,t)}function xP(n,e,t){let r=Qn(n),i=[r[xt.MonthsFormat],r[xt.MonthsStandalone]],o=dr(i,e);return dr(o,t)}function MP(n,e){let r=Qn(n)[xt.Eras];return dr(r,e)}function zu(n,e){let t=Qn(n);return dr(t[xt.DateFormat],e)}function qu(n,e){let t=Qn(n);return dr(t[xt.TimeFormat],e)}function Gu(n,e){let r=Qn(n)[xt.DateTimeFormat];return dr(r,e)}function pi(n,e){let t=Qn(n),r=t[xt.NumberSymbols][e];if(typeof r>"u"){if(e===jn.CurrencyDecimal)return t[xt.NumberSymbols][jn.Decimal];if(e===jn.CurrencyGroup)return t[xt.NumberSymbols][jn.Group]}return r}function DP(n,e){return Qn(n)[xt.NumberFormats][e]}function AP(n){if(!n[xt.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[xt.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function PP(n){let e=Qn(n);return AP(e),(e[xt.ExtraData][2]||[]).map(r=>typeof r=="string"?Aw(r):[Aw(r[0]),Aw(r[1])])}function kP(n,e,t){let r=Qn(n);AP(r);let i=[r[xt.ExtraData][0],r[xt.ExtraData][1]],o=dr(i,e)||[];return dr(o,t)||[]}function dr(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function Aw(n){let[e,t]=n.split(":");return{hours:+e,minutes:+t}}var vH=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Wp={},yH=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function RP(n,e,t,r){let i=MH(n);e=ro(t,e)||e;let s=[],a;for(;e;)if(a=yH.exec(e),a){s=s.concat(a.slice(1));let d=s.pop();if(!d)break;e=d}else{s.push(e);break}let c=i.getTimezoneOffset();r&&(c=NP(r,c),i=xH(i,r));let u="";return s.forEach(d=>{let p=SH(d);u+=p?p(i,t,c):d==="''"?"'":d.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}function Jp(n,e,t){let r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function ro(n,e){let t=IP(n);if(Wp[t]??={},Wp[t][e])return Wp[t][e];let r="";switch(e){case"shortDate":r=zu(n,Bn.Short);break;case"mediumDate":r=zu(n,Bn.Medium);break;case"longDate":r=zu(n,Bn.Long);break;case"fullDate":r=zu(n,Bn.Full);break;case"shortTime":r=qu(n,Bn.Short);break;case"mediumTime":r=qu(n,Bn.Medium);break;case"longTime":r=qu(n,Bn.Long);break;case"fullTime":r=qu(n,Bn.Full);break;case"short":let i=ro(n,"shortTime"),o=ro(n,"shortDate");r=Kp(Gu(n,Bn.Short),[i,o]);break;case"medium":let s=ro(n,"mediumTime"),a=ro(n,"mediumDate");r=Kp(Gu(n,Bn.Medium),[s,a]);break;case"long":let c=ro(n,"longTime"),u=ro(n,"longDate");r=Kp(Gu(n,Bn.Long),[c,u]);break;case"full":let d=ro(n,"fullTime"),p=ro(n,"fullDate");r=Kp(Gu(n,Bn.Full),[d,p]);break}return r&&(Wp[t][e]=r),r}function Kp(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return e!=null&&r in e?e[r]:t})),n}function zr(n,e,t="-",r,i){let o="";(n<0||i&&n<=0)&&(i?n=-n+1:(n=-n,o=t));let s=String(n);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function wH(n,e){return zr(n,3).substring(0,e)}function Vt(n,e,t=0,r=!1,i=!1){return function(o,s){let a=bH(n,o);if((t>0||a>-t)&&(a+=t),n===3)a===0&&t===-12&&(a=12);else if(n===6)return wH(a,e);let c=pi(s,jn.MinusSign);return zr(a,e,c,r,i)}}function bH(n,e){switch(n){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate();case 3:return e.getHours();case 4:return e.getMinutes();case 5:return e.getSeconds();case 6:return e.getMilliseconds();case 7:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}function ht(n,e,t=_n.Format,r=!1){return function(i,o){return CH(i,o,n,e,t,r)}}function CH(n,e,t,r,i,o){switch(t){case 2:return xP(e,i,r)[n.getMonth()];case 1:return TP(e,i,r)[n.getDay()];case 0:let s=n.getHours(),a=n.getMinutes();if(o){let u=PP(e),d=kP(e,i,r),p=u.findIndex(_=>{if(Array.isArray(_)){let[y,v]=_,A=s>=y.hours&&a>=y.minutes,O=s<v.hours||s===v.hours&&a<v.minutes;if(y.hours<v.hours){if(A&&O)return!0}else if(A||O)return!0}else if(_.hours===s&&_.minutes===a)return!0;return!1});if(p!==-1)return d[p]}return SP(e,i,r)[s<12?0:1];case 3:return MP(e,r)[n.getFullYear()<=0?0:1];default:let c=t;throw new Error(`unexpected translation type ${c}`)}}function Yp(n){return function(e,t,r){let i=-1*r,o=pi(t,jn.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case 0:return(i>=0?"+":"")+zr(s,2,o)+zr(Math.abs(i%60),2,o);case 1:return"GMT"+(i>=0?"+":"")+zr(s,1,o);case 2:return"GMT"+(i>=0?"+":"")+zr(s,2,o)+":"+zr(Math.abs(i%60),2,o);case 3:return r===0?"Z":(i>=0?"+":"")+zr(s,2,o)+":"+zr(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${n}"`)}}}var EH=0,Zp=4;function IH(n){let e=Jp(n,EH,1).getDay();return Jp(n,0,1+(e<=Zp?Zp:Zp+7)-e)}function OP(n){let e=n.getDay(),t=e===0?-3:Zp-e;return Jp(n.getFullYear(),n.getMonth(),n.getDate()+t)}function Pw(n,e=!1){return function(t,r){let i;if(e){let o=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,s=t.getDate();i=1+Math.floor((s+o)/7)}else{let o=OP(t),s=IH(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return zr(i,n,pi(r,jn.MinusSign))}}function Qp(n,e=!1){return function(t,r){let o=OP(t).getFullYear();return zr(o,n,pi(r,jn.MinusSign),e)}}var kw={};function SH(n){if(kw[n])return kw[n];let e;switch(n){case"G":case"GG":case"GGG":e=ht(3,nt.Abbreviated);break;case"GGGG":e=ht(3,nt.Wide);break;case"GGGGG":e=ht(3,nt.Narrow);break;case"y":e=Vt(0,1,0,!1,!0);break;case"yy":e=Vt(0,2,0,!0,!0);break;case"yyy":e=Vt(0,3,0,!1,!0);break;case"yyyy":e=Vt(0,4,0,!1,!0);break;case"Y":e=Qp(1);break;case"YY":e=Qp(2,!0);break;case"YYY":e=Qp(3);break;case"YYYY":e=Qp(4);break;case"M":case"L":e=Vt(1,1,1);break;case"MM":case"LL":e=Vt(1,2,1);break;case"MMM":e=ht(2,nt.Abbreviated);break;case"MMMM":e=ht(2,nt.Wide);break;case"MMMMM":e=ht(2,nt.Narrow);break;case"LLL":e=ht(2,nt.Abbreviated,_n.Standalone);break;case"LLLL":e=ht(2,nt.Wide,_n.Standalone);break;case"LLLLL":e=ht(2,nt.Narrow,_n.Standalone);break;case"w":e=Pw(1);break;case"ww":e=Pw(2);break;case"W":e=Pw(1,!0);break;case"d":e=Vt(2,1);break;case"dd":e=Vt(2,2);break;case"c":case"cc":e=Vt(7,1);break;case"ccc":e=ht(1,nt.Abbreviated,_n.Standalone);break;case"cccc":e=ht(1,nt.Wide,_n.Standalone);break;case"ccccc":e=ht(1,nt.Narrow,_n.Standalone);break;case"cccccc":e=ht(1,nt.Short,_n.Standalone);break;case"E":case"EE":case"EEE":e=ht(1,nt.Abbreviated);break;case"EEEE":e=ht(1,nt.Wide);break;case"EEEEE":e=ht(1,nt.Narrow);break;case"EEEEEE":e=ht(1,nt.Short);break;case"a":case"aa":case"aaa":e=ht(0,nt.Abbreviated);break;case"aaaa":e=ht(0,nt.Wide);break;case"aaaaa":e=ht(0,nt.Narrow);break;case"b":case"bb":case"bbb":e=ht(0,nt.Abbreviated,_n.Standalone,!0);break;case"bbbb":e=ht(0,nt.Wide,_n.Standalone,!0);break;case"bbbbb":e=ht(0,nt.Narrow,_n.Standalone,!0);break;case"B":case"BB":case"BBB":e=ht(0,nt.Abbreviated,_n.Format,!0);break;case"BBBB":e=ht(0,nt.Wide,_n.Format,!0);break;case"BBBBB":e=ht(0,nt.Narrow,_n.Format,!0);break;case"h":e=Vt(3,1,-12);break;case"hh":e=Vt(3,2,-12);break;case"H":e=Vt(3,1);break;case"HH":e=Vt(3,2);break;case"m":e=Vt(4,1);break;case"mm":e=Vt(4,2);break;case"s":e=Vt(5,1);break;case"ss":e=Vt(5,2);break;case"S":e=Vt(6,1);break;case"SS":e=Vt(6,2);break;case"SSS":e=Vt(6,3);break;case"Z":case"ZZ":case"ZZZ":e=Yp(0);break;case"ZZZZZ":e=Yp(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Yp(1);break;case"OOOO":case"ZZZZ":case"zzzz":e=Yp(2);break;default:return null}return kw[n]=e,e}function NP(n,e){n=n.replace(/:/g,"");let t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function TH(n,e){return n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+e),n}function xH(n,e,t){let i=n.getTimezoneOffset(),o=NP(e,i);return TH(n,-1*(o-i))}function MH(n){if(wP(n))return n;if(typeof n=="number"&&!isNaN(n))return new Date(n);if(typeof n=="string"){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){let[i,o=1,s=1]=n.split("-").map(a=>+a);return Jp(i,o-1,s)}let t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(vH))return DH(r)}let e=new Date(n);if(!wP(e))throw new Error(`Unable to convert "${n}" into a date`);return e}function DH(n){let e=new Date(0),t=0,r=0,i=n[8]?e.setUTCFullYear:e.setFullYear,o=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));let s=Number(n[4]||0)-t,a=Number(n[5]||0)-r,c=Number(n[6]||0),u=Math.floor(parseFloat("0."+(n[7]||0))*1e3);return o.call(e,s,a,c,u),e}function wP(n){return n instanceof Date&&!isNaN(n.valueOf())}var AH=/^(\d+)?\.((\d+)(-(\d+))?)?$/,bP=22,Xp=".",Wu="0",PH=";",kH=",",Rw="#";function RH(n,e,t,r,i,o,s=!1){let a="",c=!1;if(!isFinite(n))a=pi(t,jn.Infinity);else{let u=FH(n);s&&(u=NH(u));let d=e.minInt,p=e.minFrac,_=e.maxFrac;if(o){let ee=o.match(AH);if(ee===null)throw new Error(`${o} is not a valid digit info`);let Z=ee[1],se=ee[3],De=ee[5];Z!=null&&(d=Ow(Z)),se!=null&&(p=Ow(se)),De!=null?_=Ow(De):se!=null&&p>_&&(_=p)}VH(u,p,_);let y=u.digits,v=u.integerLen,A=u.exponent,O=[];for(c=y.every(ee=>!ee);v<d;v++)y.unshift(0);for(;v<0;v++)y.unshift(0);v>0?O=y.splice(v,y.length):(O=y,y=[0]);let G=[];for(y.length>=e.lgSize&&G.unshift(y.splice(-e.lgSize,y.length).join(""));y.length>e.gSize;)G.unshift(y.splice(-e.gSize,y.length).join(""));y.length&&G.unshift(y.join("")),a=G.join(pi(t,r)),O.length&&(a+=pi(t,i)+O.join("")),A&&(a+=pi(t,jn.Exponential)+"+"+A)}return n<0&&!c?a=e.negPre+a+e.negSuf:a=e.posPre+a+e.posSuf,a}function FP(n,e,t){let r=DP(e,Fw.Decimal),i=OH(r,pi(e,jn.MinusSign));return RH(n,i,e,jn.Group,jn.Decimal,t)}function OH(n,e="-"){let t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(PH),i=r[0],o=r[1],s=i.indexOf(Xp)!==-1?i.split(Xp):[i.substring(0,i.lastIndexOf(Wu)+1),i.substring(i.lastIndexOf(Wu)+1)],a=s[0],c=s[1]||"";t.posPre=a.substring(0,a.indexOf(Rw));for(let d=0;d<c.length;d++){let p=c.charAt(d);p===Wu?t.minFrac=t.maxFrac=d+1:p===Rw?t.maxFrac=d+1:t.posSuf+=p}let u=a.split(kH);if(t.gSize=u[1]?u[1].length:0,t.lgSize=u[2]||u[1]?(u[2]||u[1]).length:0,o){let d=i.length-t.posPre.length-t.posSuf.length,p=o.indexOf(Rw);t.negPre=o.substring(0,p).replace(/'/g,""),t.negSuf=o.slice(p+d).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}function NH(n){if(n.digits[0]===0)return n;let e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(e===0?n.digits.push(0,0):e===1&&n.digits.push(0),n.integerLen+=2),n}function FH(n){let e=Math.abs(n)+"",t=0,r,i,o,s,a;for((i=e.indexOf(Xp))>-1&&(e=e.replace(Xp,"")),(o=e.search(/e/i))>0?(i<0&&(i=o),i+=+e.slice(o+1),e=e.substring(0,o)):i<0&&(i=e.length),o=0;e.charAt(o)===Wu;o++);if(o===(a=e.length))r=[0],i=1;else{for(a--;e.charAt(a)===Wu;)a--;for(i-=o,r=[],s=0;o<=a;o++,s++)r[s]=Number(e.charAt(o))}return i>bP&&(r=r.splice(0,bP-1),t=i-1,i=1),{digits:r,exponent:t,integerLen:i}}function VH(n,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let r=n.digits,i=r.length-n.integerLen,o=Math.min(Math.max(e,i),t),s=o+n.integerLen,a=r[s];if(s>0){r.splice(Math.max(n.integerLen,s));for(let p=s;p<r.length;p++)r[p]=0}else{i=Math.max(0,i),n.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let p=1;p<s;p++)r[p]=0}if(a>=5)if(s-1<0){for(let p=0;p>s;p--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let c=o!==0,u=e+n.integerLen,d=r.reduceRight(function(p,_,y,v){return _=_+p,v[y]=_<10?_:_-10,c&&(v[y]===0&&y>=u?v.pop():c=!1),_>=10?1:0},0);d&&(r.unshift(d),n.integerLen++)}function Ow(n){let e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}var eg=class{$implicit;ngForOf;index;count;constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},hr=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new eg(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),CP(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);CP(o,i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(ie($o),ie(Js),ie(xw))};static \u0275dir=lt({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function CP(n,e){n.context.$implicit=e.item}var qt=(()=>{class n{_viewContainer;_context=new tg;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){EP(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){EP(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(ie($o),ie(Js))};static \u0275dir=lt({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),tg=class{$implicit=null;ngIf=null};function EP(n,e){if(n&&!n.createEmbeddedView)throw new ne(2020,!1)}function VP(n,e){return new ne(2100,!1)}var LH="mediumDate",LP=new J(""),UP=new J(""),Kt=(()=>{class n{locale;defaultTimezone;defaultOptions;constructor(t,r,i){this.locale=t,this.defaultTimezone=r,this.defaultOptions=i}transform(t,r,i,o){if(t==null||t===""||t!==t)return null;try{let s=r??this.defaultOptions?.dateFormat??LH,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return RP(t,s,o||this.locale,a)}catch(s){throw VP(n,s.message)}}static \u0275fac=function(r){return new(r||n)(ie(ju,16),ie(LP,24),ie(UP,24))};static \u0275pipe=Bp({name:"date",type:n,pure:!0})}return n})();var Vw=(()=>{class n{_locale;constructor(t){this._locale=t}transform(t,r,i){if(!UH(t))return null;i||=this._locale;try{let o=BH(t);return FP(o,i,r)}catch(o){throw VP(n,o.message)}}static \u0275fac=function(r){return new(r||n)(ie(ju,16))};static \u0275pipe=Bp({name:"number",type:n,pure:!0})}return n})();function UH(n){return!(n==null||n===""||n!==n)}function BH(n){if(typeof n=="string"&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if(typeof n!="number")throw new Error(`${n} is not a number`);return n}var Mt=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=to({type:n});static \u0275inj=Zi({})}return n})();function Lw(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Uw="browser",BP="server";function ng(n){return n===BP}var Ku=class{};var jP=(()=>{class n{static \u0275prov=re({token:n,providedIn:"root",factory:()=>new Bw(F(Ot),window)})}return n})(),Bw=class{document;window;offset=()=>[0,0];constructor(e,t){this.document=e,this.window=t}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let t=jH(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function jH(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var og=new J(""),zw=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new ne(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(me(og),me(Ve))};static \u0275prov=re({token:n,factory:n.\u0275fac})}return n})(),Yu=class{_doc;constructor(e){this._doc=e}manager},rg="ng-app-id";function HP(n){for(let e of n)e.remove()}function $P(n,e){let t=e.createElement("style");return t.textContent=n,t}function HH(n,e,t,r){let i=n.head?.querySelectorAll(`style[${rg}="${e}"],link[${rg}="${e}"]`);if(i)for(let o of i)o.removeAttribute(rg),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function Hw(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var qw=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.isServer=ng(o),HH(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,$P);r?.forEach(i=>this.addUsage(i,this.external,Hw))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(HP(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])HP(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,$P(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,Hw(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(rg,this.appId),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(me(Ot),me(Zy),me(Xy,8),me(Ho))};static \u0275prov=re({token:n,factory:n.\u0275fac})}return n})(),jw={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Gw=/%COMP%/g;var qP="%COMP%",$H=`_nghost-${qP}`,zH=`_ngcontent-${qP}`,qH=!0,GH=new J("",{providedIn:"root",factory:()=>qH});function WH(n){return zH.replace(Gw,n)}function KH(n){return $H.replace(Gw,n)}function GP(n,e){return e.map(t=>t.replace(Gw,n))}var Ww=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,o,s,a,c,u=null,d=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=u,this.tracingService=d,this.platformIsServer=ng(a),this.defaultRenderer=new Qu(t,s,c,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===li.ShadowDom&&(r=ue(z({},r),{encapsulation:li.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof ig?i.applyToHost(t):i instanceof Zu&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,p=this.platformIsServer,_=this.tracingService;switch(r.encapsulation){case li.Emulated:o=new ig(c,u,r,this.appId,d,s,a,p,_);break;case li.ShadowDom:return new $w(c,u,t,r,s,a,this.nonce,p,_);default:o=new Zu(c,u,r,d,s,a,p,_);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(me(zw),me(qw),me(Zy),me(GH),me(Ot),me(Ho),me(Ve),me(Xy),me(kc,8))};static \u0275prov=re({token:n,factory:n.\u0275fac})}return n})(),Qu=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i,o){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(jw[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(zP(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(zP(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new ne(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=jw[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=jw[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Qi.DashCase|Qi.Important)?e.style.setProperty(t,r,i&Qi.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Qi.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=ur().getGlobalEventTarget(this.doc,e),!e))throw new ne(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function zP(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var $w=class extends Qu{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,i,o,s,a,c,u){super(e,o,s,c,u),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=i.styles;d=GP(i.id,d);for(let _ of d){let y=document.createElement("style");a&&y.setAttribute("nonce",a),y.textContent=_,this.shadowRoot.appendChild(y)}let p=i.getExternalStyles?.();if(p)for(let _ of p){let y=Hw(_,o);a&&y.setAttribute("nonce",a),this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Zu=class extends Qu{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,o,s,a,c,u){super(e,o,s,a,c),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let d=r.styles;this.styles=u?GP(u,d):d,this.styleUrls=r.getExternalStyles?.(u)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},ig=class extends Zu{contentAttr;hostAttr;constructor(e,t,r,i,o,s,a,c,u){let d=i+"-"+r.id;super(e,t,r,o,s,a,c,u,d),this.contentAttr=WH(d),this.hostAttr=KH(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var sg=class n extends Hu{supportsDOMEvents=!0;static makeCurrent(){Mw(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=YH();return t==null?null:QH(t)}resetBaseElement(){Ju=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Lw(document.cookie,e)}},Ju=null;function YH(){return Ju=Ju||document.head.querySelector("base"),Ju?Ju.getAttribute("href"):null}function QH(n){return new URL(n,document.baseURI).pathname}var ZH=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=re({token:n,factory:n.\u0275fac})}return n})(),KP=(()=>{class n extends Yu{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)(me(Ot))};static \u0275prov=re({token:n,factory:n.\u0275fac})}return n})(),WP=["alt","control","meta","shift"],JH={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},XH={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},YP=(()=>{class n extends Yu{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=n.parseEventName(r),a=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ur().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),WP.forEach(u=>{let d=r.indexOf(u);d>-1&&(r.splice(d,1),s+=u+".")}),s+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(t,r){let i=JH[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),WP.forEach(s=>{if(s!==i){let a=XH[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(me(Ot))};static \u0275prov=re({token:n,factory:n.\u0275fac})}return n})();function Kw(n,e,t){return pP(z({rootComponent:n,platformRef:t?.platformRef},e9(e)))}function e9(n){return{appProviders:[...o9,...n?.providers??[]],platformProviders:i9}}function t9(){sg.makeCurrent()}function n9(){return new Fr}function r9(){return ZD(document),document}var i9=[{provide:Ho,useValue:Uw},{provide:Jy,useValue:t9,multi:!0},{provide:Ot,useFactory:r9}];var o9=[{provide:Ip,useValue:"root"},{provide:Fr,useFactory:n9},{provide:og,useClass:KP,multi:!0,deps:[Ot]},{provide:og,useClass:YP,multi:!0,deps:[Ot]},Ww,qw,zw,{provide:Ec,useExisting:Ww},{provide:Ku,useClass:ZH},[]];var QP=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(me(Ot))};static \u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Te="primary",dd=Symbol("RouteTitle"),Xw=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function ca(n){return new Xw(n)}function ik(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function a9(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!mi(n[t],e[t]))return!1;return!0}function mi(n,e){let t=n?eb(n):void 0,r=e?eb(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!ok(n[i],e[i]))return!1;return!0}function eb(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function ok(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function sk(n){return n.length>0?n[n.length-1]:null}function Zo(n){return h0(n)?n:oa(n)?st(Promise.resolve(n)):pe(n)}var c9={exact:ck,subset:lk},ak={exact:l9,subset:u9,ignored:()=>!0};function ZP(n,e,t){return c9[t.paths](n.root,e.root,t.matrixParams)&&ak[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function l9(n,e){return mi(n,e)}function ck(n,e,t){if(!sa(n.segments,e.segments)||!lg(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!ck(n.children[r],e.children[r],t))return!1;return!0}function u9(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>ok(n[t],e[t]))}function lk(n,e,t){return uk(n,e,e.segments,t)}function uk(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!sa(i,t)||e.hasChildren()||!lg(i,t,r))}else if(n.segments.length===t.length){if(!sa(n.segments,t)||!lg(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!lk(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!sa(n.segments,i)||!lg(n.segments,i,r)||!n.children[Te]?!1:uk(n.children[Te],e,o,r)}}function lg(n,e,t){return e.every((r,i)=>ak[t](n[i].parameters,r.parameters))}var vi=class{root;queryParams;fragment;_queryParamMap;constructor(e=new Ke([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=ca(this.queryParams),this._queryParamMap}toString(){return f9.serialize(this)}},Ke=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ug(this)}},Wo=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=ca(this.parameters),this._parameterMap}toString(){return hk(this)}};function d9(n,e){return sa(n,e)&&n.every((t,r)=>mi(t.parameters,e[r].parameters))}function sa(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function h9(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===Te&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==Te&&(t=t.concat(e(i,r)))}),t}var la=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=re({token:n,factory:()=>new Ko,providedIn:"root"})}return n})(),Ko=class{parse(e){let t=new nb(e);return new vi(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Xu(e.root,!0)}`,r=m9(e.queryParams),i=typeof e.fragment=="string"?`#${p9(e.fragment)}`:"";return`${t}${r}${i}`}},f9=new Ko;function ug(n){return n.segments.map(e=>hk(e)).join("/")}function Xu(n,e){if(!n.hasChildren())return ug(n);if(e){let t=n.children[Te]?Xu(n.children[Te],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==Te&&r.push(`${i}:${Xu(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=h9(n,(r,i)=>i===Te?[Xu(n.children[Te],!1)]:[`${i}:${Xu(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[Te]!=null?`${ug(n)}/${t[0]}`:`${ug(n)}/(${t.join("//")})`}}function dk(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ag(n){return dk(n).replace(/%3B/gi,";")}function p9(n){return encodeURI(n)}function tb(n){return dk(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function dg(n){return decodeURIComponent(n)}function JP(n){return dg(n.replace(/\+/g,"%20"))}function hk(n){return`${tb(n.path)}${g9(n.parameters)}`}function g9(n){return Object.entries(n).map(([e,t])=>`;${tb(e)}=${tb(t)}`).join("")}function m9(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${ag(t)}=${ag(i)}`).join("&"):`${ag(t)}=${ag(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var _9=/^[^\/()?;#]+/;function Yw(n){let e=n.match(_9);return e?e[0]:""}var v9=/^[^\/()?;=#]+/;function y9(n){let e=n.match(v9);return e?e[0]:""}var w9=/^[^=?&#]+/;function b9(n){let e=n.match(w9);return e?e[0]:""}var C9=/^[^&#]+/;function E9(n){let e=n.match(C9);return e?e[0]:""}var nb=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ke([],{}):new Ke([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Te]=new Ke(e,t)),r}parseSegment(){let e=Yw(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new ne(4009,!1);return this.capture(e),new Wo(dg(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=y9(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=Yw(this.remaining);i&&(r=i,this.capture(r))}e[dg(t)]=dg(r)}parseQueryParam(e){let t=b9(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=E9(this.remaining);s&&(r=s,this.capture(r))}let i=JP(t),o=JP(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Yw(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new ne(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Te);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[Te]:new Ke([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new ne(4011,!1)}};function fk(n){return n.segments.length>0?new Ke([],{[Te]:n}):n}function pk(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=pk(i);if(r===Te&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new Ke(n.segments,e);return I9(t)}function I9(n){if(n.numberOfChildren===1&&n.children[Te]){let e=n.children[Te];return new Ke(n.segments.concat(e.segments),e.children)}return n}function Yo(n){return n instanceof vi}function gk(n,e,t=null,r=null){let i=mk(n);return _k(i,e,t,r)}function mk(n){let e;function t(o){let s={};for(let c of o.children){let u=t(c);s[c.outlet]=u}let a=new Ke(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=fk(r);return e??i}function _k(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return Qw(i,i,i,t,r);let o=S9(e);if(o.toRoot())return Qw(i,i,new Ke([],{}),t,r);let s=T9(o,i,n),a=s.processChildren?td(s.segmentGroup,s.index,o.commands):yk(s.segmentGroup,s.index,o.commands);return Qw(i,s.segmentGroup,a,t,r)}function fg(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function rd(n){return typeof n=="object"&&n!=null&&n.outlets}function Qw(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([c,u])=>{o[c]=Array.isArray(u)?u.map(d=>`${d}`):`${u}`});let s;n===e?s=t:s=vk(n,e,t);let a=fk(pk(s));return new vi(a,o,i)}function vk(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=vk(o,e,t)}),new Ke(n.segments,r)}var pg=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&fg(r[0]))throw new ne(4003,!1);let i=r.find(rd);if(i&&i!==sk(r))throw new ne(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function S9(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new pg(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new pg(t,e,r)}var Vc=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function T9(n,e,t){if(n.isAbsolute)return new Vc(e,!0,0);if(!t)return new Vc(e,!1,NaN);if(t.parent===null)return new Vc(t,!0,0);let r=fg(n.commands[0])?0:1,i=t.segments.length-1+r;return x9(t,i,n.numberOfDoubleDots)}function x9(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new ne(4005,!1);i=r.segments.length}return new Vc(r,!1,i-o)}function M9(n){return rd(n[0])?n[0].outlets:{[Te]:n}}function yk(n,e,t){if(n??=new Ke([],{}),n.segments.length===0&&n.hasChildren())return td(n,e,t);let r=D9(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new Ke(n.segments.slice(0,r.pathIndex),{});return o.children[Te]=new Ke(n.segments.slice(r.pathIndex),n.children),td(o,0,i)}else return r.match&&i.length===0?new Ke(n.segments,{}):r.match&&!n.hasChildren()?rb(n,e,t):r.match?td(n,0,i):rb(n,e,t)}function td(n,e,t){if(t.length===0)return new Ke(n.segments,{});{let r=M9(t),i={};if(Object.keys(r).some(o=>o!==Te)&&n.children[Te]&&n.numberOfChildren===1&&n.children[Te].segments.length===0){let o=td(n.children[Te],e,t);return new Ke(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=yk(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Ke(n.segments,i)}}function D9(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(rd(a))break;let c=`${a}`,u=r<t.length-1?t[r+1]:null;if(i>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!ek(c,u,s))return o;r+=2}else{if(!ek(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function rb(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(rd(o)){let c=A9(o.outlets);return new Ke(r,c)}if(i===0&&fg(t[0])){let c=n.segments[e];r.push(new Wo(c.path,XP(t[0]))),i++;continue}let s=rd(o)?o.outlets[Te]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&fg(a)?(r.push(new Wo(s,XP(a))),i+=2):(r.push(new Wo(s,{})),i++)}return new Ke(r,{})}function A9(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=rb(new Ke([],{}),0,r))}),e}function XP(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function ek(n,e,t){return n==t.path&&mi(e,t.parameters)}var hg="imperative",Gt=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(Gt||{}),Jn=class{id;url;constructor(e,t){this.id=e,this.url=t}},Qo=class extends Jn{type=Gt.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Mn=class extends Jn{urlAfterRedirects;type=Gt.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Hn=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(Hn||{}),Uc=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(Uc||{}),_i=class extends Jn{reason;code;type=Gt.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},yi=class extends Jn{reason;code;type=Gt.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},Bc=class extends Jn{error;target;type=Gt.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},id=class extends Jn{urlAfterRedirects;state;type=Gt.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},gg=class extends Jn{urlAfterRedirects;state;type=Gt.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},mg=class extends Jn{urlAfterRedirects;state;shouldActivate;type=Gt.GuardsCheckEnd;constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},_g=class extends Jn{urlAfterRedirects;state;type=Gt.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},vg=class extends Jn{urlAfterRedirects;state;type=Gt.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},yg=class{route;type=Gt.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},wg=class{route;type=Gt.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},bg=class{snapshot;type=Gt.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Cg=class{snapshot;type=Gt.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Eg=class{snapshot;type=Gt.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ig=class{snapshot;type=Gt.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},jc=class{routerEvent;position;anchor;type=Gt.Scroll;constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},od=class{},Hc=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function P9(n,e){return n.providers&&!n._injector&&(n._injector=Lu(n.providers,e,`Route: ${n.path}`)),n._injector??e}function qr(n){return n.outlet||Te}function k9(n,e){let t=n.filter(r=>qr(r)===e);return t.push(...n.filter(r=>qr(r)!==e)),t}function hd(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var Sg=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return hd(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new ua(this.rootInjector)}},ua=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Sg(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(me(hn))};static \u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Tg=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=ib(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=ib(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=ob(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return ob(e,this._root).map(t=>t.value)}};function ib(n,e){if(n===e.value)return e;for(let t of e.children){let r=ib(n,t);if(r)return r}return null}function ob(n,e){if(n===e.value)return[e];for(let t of e.children){let r=ob(n,t);if(r.length)return r.unshift(e),r}return[]}var Zn=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function Fc(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var sd=class extends Tg{snapshot;constructor(e,t){super(e),this.snapshot=t,fb(this,e)}toString(){return this.snapshot.toString()}};function wk(n){let e=R9(n),t=new rn([new Wo("",{})]),r=new rn({}),i=new rn({}),o=new rn({}),s=new rn(""),a=new wi(t,r,o,s,i,Te,n,e.root);return a.snapshot=e.root,new sd(new Zn(a,[]),e)}function R9(n){let e={},t={},r={},i="",o=new aa([],e,r,i,t,Te,n,null,{});return new ad("",new Zn(o,[]))}var wi=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(le(u=>u[dd]))??pe(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(le(e=>ca(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(le(e=>ca(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function xg(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:z(z({},e.params),n.params),data:z(z({},e.data),n.data),resolve:z(z(z(z({},n.data),e.data),i?.data),n._resolvedData)}:r={params:z({},n.params),data:z({},n.data),resolve:z(z({},n.data),n._resolvedData??{})},i&&Ck(i)&&(r.resolve[dd]=i.title),r}var aa=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[dd]}constructor(e,t,r,i,o,s,a,c,u){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=ca(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=ca(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},ad=class extends Tg{url;constructor(e,t){super(t),this.url=e,fb(this,t)}toString(){return bk(this._root)}};function fb(n,e){e.value._routerState=n,e.children.forEach(t=>fb(n,t))}function bk(n){let e=n.children.length>0?` { ${n.children.map(bk).join(", ")} } `:"";return`${n.value}${e}`}function Zw(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,mi(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),mi(e.params,t.params)||n.paramsSubject.next(t.params),a9(e.url,t.url)||n.urlSubject.next(t.url),mi(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function sb(n,e){let t=mi(n.params,e.params)&&d9(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||sb(n.parent,e.parent))}function Ck(n){return typeof n.title=="string"||n.title===null}var Ek=new J(""),fd=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Te;activateEvents=new St;deactivateEvents=new St;attachEvents=new St;detachEvents=new St;routerOutletData=ct(void 0);parentContexts=F(ua);location=F($o);changeDetector=F(zo);inputBinder=F(pd,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new ne(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new ne(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new ne(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new ne(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new ab(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=lt({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Ur]})}return n})(),ab=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===wi?this.route:e===ua?this.childContexts:e===Ek?this.outletData:this.parent.get(e,t)}},pd=new J(""),pb=(()=>{class n{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=Fo([r.queryParams,r.params,r.data]).pipe(sr(([o,s,a],c)=>(a=z(z(z({},o),s),a),c===0?pe(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let s=gP(r.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(t,i)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=re({token:n,factory:n.\u0275fac})}return n})(),gb=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Tt({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&V(0,"router-outlet")},dependencies:[fd],encapsulation:2})}return n})();function mb(n){let e=n.children&&n.children.map(mb),t=e?ue(z({},n),{children:e}):z({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Te&&(t.component=gb),t}function O9(n,e,t){let r=cd(n,e._root,t?t._root:void 0);return new sd(r,e)}function cd(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=N9(n,e,t);return new Zn(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>cd(n,a)),s}}let r=F9(e.value),i=e.children.map(o=>cd(n,o));return new Zn(r,i)}}function N9(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return cd(n,r,i);return cd(n,r)})}function F9(n){return new wi(new rn(n.url),new rn(n.params),new rn(n.queryParams),new rn(n.fragment),new rn(n.data),n.outlet,n.component,n)}var $c=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},Ik="ngNavigationCancelingError";function Mg(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=Yo(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=Sk(!1,Hn.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function Sk(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[Ik]=!0,t.cancellationCode=e,t}function V9(n){return Tk(n)&&Yo(n.url)}function Tk(n){return!!n&&n[Ik]}var L9=(n,e,t,r)=>le(i=>(new cb(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),cb=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Zw(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=Fc(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Fc(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Fc(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=Fc(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Ig(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Cg(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(Zw(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Zw(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},Dg=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Lc=class{component;route;constructor(e,t){this.component=e,this.route=t}};function U9(n,e,t){let r=n._root,i=e?e._root:null;return ed(r,i,t,[r.value])}function B9(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function qc(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!BM(n)?n:e.get(n):r}function ed(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Fc(e);return n.children.forEach(s=>{j9(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>nd(a,t.getContext(s),i)),i}function j9(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=H9(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Dg(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?ed(n,e,a?a.children:null,r,i):ed(n,e,t,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Lc(a.outlet.component,s))}else s&&nd(e,a,i),i.canActivateChecks.push(new Dg(r)),o.component?ed(n,null,a?a.children:null,r,i):ed(n,null,t,r,i);return i}function H9(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!sa(n.url,e.url);case"pathParamsOrQueryParamsChange":return!sa(n.url,e.url)||!mi(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!sb(n,e)||!mi(n.queryParams,e.queryParams);case"paramsChange":default:return!sb(n,e)}}function nd(n,e,t){let r=Fc(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?nd(s,e.children.getContext(o),t):nd(s,null,t):nd(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Lc(e.outlet.component,i)):t.canDeactivateChecks.push(new Lc(null,i)):t.canDeactivateChecks.push(new Lc(null,i))}function gd(n){return typeof n=="function"}function $9(n){return typeof n=="boolean"}function z9(n){return n&&gd(n.canLoad)}function q9(n){return n&&gd(n.canActivate)}function G9(n){return n&&gd(n.canActivateChild)}function W9(n){return n&&gd(n.canDeactivate)}function K9(n){return n&&gd(n.canMatch)}function xk(n){return n instanceof $i||n?.name==="EmptyError"}var cg=Symbol("INITIAL_VALUE");function zc(){return sr(n=>Fo(n.map(e=>e.pipe(qi(1),jf(cg)))).pipe(le(e=>{for(let t of e)if(t!==!0){if(t===cg)return cg;if(t===!1||Y9(t))return t}return!0}),dn(e=>e!==cg),qi(1)))}function Y9(n){return Yo(n)||n instanceof $c}function Q9(n,e){return Pt(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?pe(ue(z({},t),{guardsResult:!0})):Z9(s,r,i,n).pipe(Pt(a=>a&&$9(a)?J9(r,o,n,e):pe(a)),le(a=>ue(z({},t),{guardsResult:a})))})}function Z9(n,e,t,r){return st(n).pipe(Pt(i=>r$(i.component,i.route,t,e,r)),Gi(i=>i!==!0,!0))}function J9(n,e,t,r){return st(e).pipe(Lo(i=>uc(e$(i.route.parent,r),X9(i.route,r),n$(n,i.path,t),t$(n,i.route,t))),Gi(i=>i!==!0,!0))}function X9(n,e){return n!==null&&e&&e(new Eg(n)),pe(!0)}function e$(n,e){return n!==null&&e&&e(new bg(n)),pe(!0)}function t$(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return pe(!0);let i=r.map(o=>Lf(()=>{let s=hd(e)??t,a=qc(o,s),c=q9(a)?a.canActivate(e,n):pn(s,()=>a(e,n));return Zo(c).pipe(Gi())}));return pe(i).pipe(zc())}function n$(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>B9(s)).filter(s=>s!==null).map(s=>Lf(()=>{let a=s.guards.map(c=>{let u=hd(s.node)??t,d=qc(c,u),p=G9(d)?d.canActivateChild(r,n):pn(u,()=>d(r,n));return Zo(p).pipe(Gi())});return pe(a).pipe(zc())}));return pe(o).pipe(zc())}function r$(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return pe(!0);let s=o.map(a=>{let c=hd(e)??i,u=qc(a,c),d=W9(u)?u.canDeactivate(n,e,t,r):pn(c,()=>u(n,e,t,r));return Zo(d).pipe(Gi())});return pe(s).pipe(zc())}function i$(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return pe(!0);let o=i.map(s=>{let a=qc(s,n),c=z9(a)?a.canLoad(e,t):pn(n,()=>a(e,t));return Zo(c)});return pe(o).pipe(zc(),Mk(r))}function Mk(n){return yf(on(e=>{if(typeof e!="boolean")throw Mg(n,e)}),le(e=>e===!0))}function o$(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return pe(!0);let o=i.map(s=>{let a=qc(s,n),c=K9(a)?a.canMatch(e,t):pn(n,()=>a(e,t));return Zo(c)});return pe(o).pipe(zc(),Mk(r))}var ld=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},ud=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function Nc(n){return lc(new ld(n))}function s$(n){return lc(new ne(4e3,!1))}function a$(n){return lc(Sk(!1,Hn.GuardRejected))}var lb=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return pe(r);if(i.numberOfChildren>1||!i.children[Te])return s$(`${e.redirectTo}`);i=i.children[Te]}}applyRedirectCommands(e,t,r,i,o){if(typeof t!="string"){let a=t,{queryParams:c,fragment:u,routeConfig:d,url:p,outlet:_,params:y,data:v,title:A}=i,O=pn(o,()=>a({params:y,data:v,queryParams:c,fragment:u,routeConfig:d,url:p,outlet:_,title:A}));if(O instanceof vi)throw new ud(O);t=O}let s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t[0]==="/")throw new ud(s);return s}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new vi(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new Ke(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new ne(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},ub={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function c$(n,e,t,r,i){let o=Dk(n,e,t);return o.matched?(r=P9(e,r),o$(r,e,t,i).pipe(le(s=>s===!0?o:z({},ub)))):pe(o)}function Dk(n,e,t){if(e.path==="**")return l$(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?z({},ub):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||ik)(t,n,e);if(!i)return z({},ub);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?z(z({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function l$(n){return{matched:!0,parameters:n.length>0?sk(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function tk(n,e,t,r){return t.length>0&&h$(n,t,r)?{segmentGroup:new Ke(e,d$(r,new Ke(t,n.children))),slicedSegments:[]}:t.length===0&&f$(n,t,r)?{segmentGroup:new Ke(n.segments,u$(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Ke(n.segments,n.children),slicedSegments:t}}function u$(n,e,t,r){let i={};for(let o of t)if(Pg(n,e,o)&&!r[qr(o)]){let s=new Ke([],{});i[qr(o)]=s}return z(z({},r),i)}function d$(n,e){let t={};t[Te]=e;for(let r of n)if(r.path===""&&qr(r)!==Te){let i=new Ke([],{});t[qr(r)]=i}return t}function h$(n,e,t){return t.some(r=>Pg(n,e,r)&&qr(r)!==Te)}function f$(n,e,t){return t.some(r=>Pg(n,e,r))}function Pg(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function p$(n,e,t){return e.length===0&&!n.children[t]}var db=class{};function g$(n,e,t,r,i,o,s="emptyOnly"){return new hb(n,e,t,r,i,s,o).recognize()}var m$=31,hb=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new lb(this.urlSerializer,this.urlTree)}noMatchError(e){return new ne(4002,`'${e.segmentGroup}'`)}recognize(){let e=tk(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(le(({children:t,rootSnapshot:r})=>{let i=new Zn(r,t),o=new ad("",i),s=gk(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new aa([],Object.freeze({}),Object.freeze(z({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Te,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,Te,t).pipe(le(r=>({children:r,rootSnapshot:t})),zi(r=>{if(r instanceof ud)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof ld?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(le(s=>s instanceof Zn?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return st(o).pipe(Lo(s=>{let a=r.children[s],c=k9(t,s);return this.processSegmentGroup(e,c,a,s,i)}),Bf((s,a)=>(s.push(...a),s)),Uo(null),p0(),Pt(s=>{if(s===null)return Nc(r);let a=Ak(s);return _$(a),pe(a)}))}processSegment(e,t,r,i,o,s,a){return st(t).pipe(Lo(c=>this.processSegmentAgainstRoute(c._injector??e,t,c,r,i,o,s,a).pipe(zi(u=>{if(u instanceof ld)return pe(null);throw u}))),Gi(c=>!!c),zi(c=>{if(xk(c))return p$(r,i,o)?pe(new db):Nc(r);throw c}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,c){return qr(r)!==s&&(s===Te||!Pg(i,o,r))?Nc(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,c):Nc(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:c,parameters:u,consumedSegments:d,positionalParamSegments:p,remainingSegments:_}=Dk(t,i,o);if(!c)return Nc(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>m$&&(this.allowRedirects=!1));let y=new aa(o,u,Object.freeze(z({},this.urlTree.queryParams)),this.urlTree.fragment,nk(i),qr(i),i.component??i._loadedComponent??null,i,rk(i)),v=xg(y,a,this.paramsInheritanceStrategy);y.params=Object.freeze(v.params),y.data=Object.freeze(v.data);let A=this.applyRedirects.applyRedirectCommands(d,i.redirectTo,p,y,e);return this.applyRedirects.lineralizeSegments(i,A).pipe(Pt(O=>this.processSegment(e,r,t,O.concat(_),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=c$(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(sr(c=>c.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(sr(({routes:u})=>{let d=r._loadedInjector??e,{parameters:p,consumedSegments:_,remainingSegments:y}=c,v=new aa(_,p,Object.freeze(z({},this.urlTree.queryParams)),this.urlTree.fragment,nk(r),qr(r),r.component??r._loadedComponent??null,r,rk(r)),A=xg(v,s,this.paramsInheritanceStrategy);v.params=Object.freeze(A.params),v.data=Object.freeze(A.data);let{segmentGroup:O,slicedSegments:G}=tk(t,_,y,u);if(G.length===0&&O.hasChildren())return this.processChildren(d,u,O,v).pipe(le(Z=>new Zn(v,Z)));if(u.length===0&&G.length===0)return pe(new Zn(v,[]));let ee=qr(r)===o;return this.processSegment(d,u,O,G,ee?Te:o,!0,v).pipe(le(Z=>new Zn(v,Z instanceof Zn?[Z]:[])))}))):Nc(t)))}getChildConfig(e,t,r){return t.children?pe({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?pe({routes:t._loadedRoutes,injector:t._loadedInjector}):i$(e,t,r,this.urlSerializer).pipe(Pt(i=>i?this.configLoader.loadChildren(e,t).pipe(on(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):a$(t))):pe({routes:[],injector:e})}};function _$(n){n.sort((e,t)=>e.value.outlet===Te?-1:t.value.outlet===Te?1:e.value.outlet.localeCompare(t.value.outlet))}function v$(n){let e=n.value.routeConfig;return e&&e.path===""}function Ak(n){let e=[],t=new Set;for(let r of n){if(!v$(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=Ak(r.children);e.push(new Zn(r.value,i))}return e.filter(r=>!t.has(r))}function nk(n){return n.data||{}}function rk(n){return n.resolve||{}}function y$(n,e,t,r,i,o){return Pt(s=>g$(n,e,t,r,s.extractedUrl,i,o).pipe(le(({state:a,tree:c})=>ue(z({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function w$(n,e){return Pt(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return pe(t);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let u of Pk(c))s.add(u);let a=0;return st(s).pipe(Lo(c=>o.has(c)?b$(c,r,n,e):(c.data=xg(c,c.parent,n).resolve,pe(void 0))),on(()=>a++),dc(1),Pt(c=>a===s.size?pe(t):kn))})}function Pk(n){let e=n.children.map(t=>Pk(t)).flat();return[n,...e]}function b$(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!Ck(i)&&(o[dd]=i.title),C$(o,n,e,r).pipe(le(s=>(n._resolvedData=s,n.data=xg(n,n.parent,t).resolve,null)))}function C$(n,e,t,r){let i=eb(n);if(i.length===0)return pe({});let o={};return st(i).pipe(Pt(s=>E$(n[s],e,t,r).pipe(Gi(),on(a=>{if(a instanceof $c)throw Mg(new Ko,a);o[s]=a}))),dc(1),le(()=>o),zi(s=>xk(s)?kn:lc(s)))}function E$(n,e,t,r){let i=hd(e)??r,o=qc(n,i),s=o.resolve?o.resolve(e,t):pn(i,()=>o(e,t));return Zo(s)}function Jw(n){return sr(e=>{let t=n(e);return t?st(t).pipe(le(()=>e)):pe(e)})}var _b=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===Te);return r}getResolvedTitleForRoute(t){return t.data[dd]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=re({token:n,factory:()=>F(kk),providedIn:"root"})}return n})(),kk=(()=>{class n extends _b{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(me(QP))};static \u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),da=new J("",{providedIn:"root",factory:()=>({})}),ha=new J(""),kg=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=F(uP);loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return pe(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=Zo(t.loadComponent()).pipe(le(Ok),on(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),Eu(()=>{this.componentLoaders.delete(t)})),i=new oc(r,()=>new Xe).pipe(ic());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return pe({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=Rk(r,this.compiler,t,this.onLoadEndListener).pipe(Eu(()=>{this.childrenLoaders.delete(r)})),s=new oc(o,()=>new Xe).pipe(ic());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Rk(n,e,t,r){return Zo(n.loadChildren()).pipe(le(Ok),Pt(i=>i instanceof vw||Array.isArray(i)?pe(i):st(e.compileModuleAsync(i))),le(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(ha,[],{optional:!0,self:!0}).flat()),{routes:s.map(mb),injector:o}}))}function I$(n){return n&&typeof n=="object"&&"default"in n}function Ok(n){return I$(n)?n.default:n}var Rg=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=re({token:n,factory:()=>F(S$),providedIn:"root"})}return n})(),S$=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),vb=new J(""),yb=new J("");function Nk(n,e,t){let r=n.get(yb),i=n.get(Ot);return n.get(Ve).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(u=>setTimeout(u));let o,s=new Promise(u=>{o=u}),a=i.startViewTransition(()=>(o(),T$(n))),{onViewTransitionCreated:c}=r;return c&&pn(n,()=>c({transition:a,from:e,to:t})),s})}function T$(n){return new Promise(e=>{tw({read:()=>setTimeout(e)},{injector:n})})}var wb=new J(""),Og=(()=>{class n{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new Xe;transitionAbortSubject=new Xe;configLoader=F(kg);environmentInjector=F(hn);destroyRef=F(ra);urlSerializer=F(la);rootContexts=F(ua);location=F(Go);inputBindingEnabled=F(pd,{optional:!0})!==null;titleStrategy=F(_b);options=F(da,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=F(Rg);createViewTransition=F(vb,{optional:!0});navigationErrorHandler=F(wb,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>pe(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new yg(i)),r=i=>this.events.next(new wg(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(ue(z({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))}setupNavigations(t){return this.transitions=new rn(null),this.transitions.pipe(dn(r=>r!==null),sr(r=>{let i=!1,o=!1;return pe(r).pipe(sr(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Hn.SupersededByNewNavigation),kn;this.currentTransition=r,this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?ue(z({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let a=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),c=s.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!a&&c!=="reload"){let u="";return this.events.next(new yi(s.id,this.urlSerializer.serialize(s.rawUrl),u,Uc.IgnoredSameUrlNavigation)),s.resolve(!1),kn}if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return pe(s).pipe(sr(u=>(this.events.next(new Qo(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),u.id!==this.navigationId?kn:Promise.resolve(u))),y$(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),on(u=>{r.targetSnapshot=u.targetSnapshot,r.urlAfterRedirects=u.urlAfterRedirects,this.currentNavigation=ue(z({},this.currentNavigation),{finalUrl:u.urlAfterRedirects});let d=new id(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:u,extractedUrl:d,source:p,restoredState:_,extras:y}=s,v=new Qo(u,this.urlSerializer.serialize(d),p,_);this.events.next(v);let A=wk(this.rootComponentType).snapshot;return this.currentTransition=r=ue(z({},s),{targetSnapshot:A,urlAfterRedirects:d,extras:ue(z({},y),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=d,pe(r)}else{let u="";return this.events.next(new yi(s.id,this.urlSerializer.serialize(s.extractedUrl),u,Uc.IgnoredByUrlHandlingStrategy)),s.resolve(!1),kn}}),on(s=>{let a=new gg(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),le(s=>(this.currentTransition=r=ue(z({},s),{guards:U9(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),r)),Q9(this.environmentInjector,s=>this.events.next(s)),on(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw Mg(this.urlSerializer,s.guardsResult);let a=new mg(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),dn(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",Hn.GuardRejected),!1)),Jw(s=>{if(s.guards.canActivateChecks.length!==0)return pe(s).pipe(on(a=>{let c=new _g(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}),sr(a=>{let c=!1;return pe(a).pipe(w$(this.paramsInheritanceStrategy,this.environmentInjector),on({next:()=>c=!0,complete:()=>{c||this.cancelNavigationTransition(a,"",Hn.NoDataFromResolver)}}))}),on(a=>{let c=new vg(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}))}),Jw(s=>{let a=c=>{let u=[];c.routeConfig?.loadComponent&&!c.routeConfig._loadedComponent&&u.push(this.configLoader.loadComponent(c.routeConfig).pipe(on(d=>{c.component=d}),le(()=>{})));for(let d of c.children)u.push(...a(d));return u};return Fo(a(s.targetSnapshot.root)).pipe(Uo(null),qi(1))}),Jw(()=>this.afterPreactivation()),sr(()=>{let{currentSnapshot:s,targetSnapshot:a}=r,c=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return c?st(c).pipe(le(()=>r)):pe(r)}),le(s=>{let a=O9(t.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r=ue(z({},s),{targetRouterState:a}),this.currentNavigation.targetRouterState=a,r}),on(()=>{this.events.next(new od)}),L9(this.rootContexts,t.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),qi(1),on({next:s=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Mn(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),kr(this.transitionAbortSubject.pipe(on(s=>{throw s}))),Eu(()=>{!i&&!o&&this.cancelNavigationTransition(r,"",Hn.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),zi(s=>{if(this.destroyed)return r.resolve(!1),kn;if(o=!0,Tk(s))this.events.next(new _i(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),V9(s)?this.events.next(new Hc(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{let a=new Bc(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{let c=pn(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(c instanceof $c){let{message:u,cancellationCode:d}=Mg(this.urlSerializer,c);this.events.next(new _i(r.id,this.urlSerializer.serialize(r.extractedUrl),u,d)),this.events.next(new Hc(c.redirectTo,c.navigationBehaviorOptions))}else throw this.events.next(a),s}catch(c){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(c)}}return kn}))}))}cancelNavigationTransition(t,r,i){let o=new _i(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function x$(n){return n!==hg}var Fk=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=re({token:n,factory:()=>F(M$),providedIn:"root"})}return n})(),Ag=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},M$=(()=>{class n extends Ag{static \u0275fac=(()=>{let t;return function(i){return(t||(t=cr(n)))(i||n)}})();static \u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Vk=(()=>{class n{urlSerializer=F(la);options=F(da,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=F(Go);urlHandlingStrategy=F(Rg);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new vi;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=i??o;return s instanceof vi?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=wk(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=re({token:n,factory:()=>F(D$),providedIn:"root"})}return n})(),D$=(()=>{class n extends Vk{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof Qo?this.updateStateMemento():t instanceof yi?this.commitTransition(r):t instanceof id?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof od?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof _i&&(t.code===Hn.GuardRejected||t.code===Hn.NoDataFromResolver)?this.restoreHistory(r):t instanceof Bc?this.restoreHistory(r,!0):t instanceof Mn&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||o){let a=this.browserPageId,c=z(z({},s),this.generateNgRouterState(i,a));this.location.replaceState(t,"",c)}else{let a=z(z({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=cr(n)))(i||n)}})();static \u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Ng(n,e){n.events.pipe(dn(t=>t instanceof Mn||t instanceof _i||t instanceof Bc||t instanceof yi),le(t=>t instanceof Mn||t instanceof yi?0:(t instanceof _i?t.code===Hn.Redirect||t.code===Hn.SupersededByNewNavigation:!1)?2:1),dn(t=>t!==2),qi(1)).subscribe(()=>{e()})}var A$={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},P$={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Ye=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=F($A);stateManager=F(Vk);options=F(da,{optional:!0})||{};pendingTasks=F(ia);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=F(Og);urlSerializer=F(la);location=F(Go);urlHandlingStrategy=F(Rg);_events=new Xe;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=F(Fk);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=F(ha,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!F(pd,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new It;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof _i&&r.code!==Hn.Redirect&&r.code!==Hn.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Mn)this.navigated=!0;else if(r instanceof Hc){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=z({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||x$(i.source)},s);this.scheduleNavigation(a,hg,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}R$(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),hg,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let c=z({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(mb),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,u=c?this.currentUrlTree.fragment:s,d=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":d=z(z({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let p;try{let _=i?i.snapshot:this.routerState.snapshot.root;p=mk(_)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),p=this.currentUrlTree.root}return _k(p,t,d,u??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=Yo(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,hg,null,r)}navigate(t,r={skipLocationChange:!1}){return k$(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=z({},A$):r===!1?i=z({},P$):i=r,Yo(t))return ZP(this.currentUrlTree,t,i);let o=this.parseUrl(t);return ZP(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,u;s?(a=s.resolve,c=s.reject,u=s.promise):u=new Promise((p,_)=>{a=p,c=_});let d=this.pendingTasks.add();return Ng(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function k$(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new ne(4008,!1)}function R$(n){return!(n instanceof od)&&!(n instanceof Hc)}var fr=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Xe;constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a;let c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=t.events.subscribe(u=>{u instanceof Mn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Yo(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let r=this.href===null?null:iA(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:Yo(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||n)(ie(Ye),ie(wi),Wy("tabindex"),ie(lr),ie(mn),ie($r))};static \u0275dir=lt({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&H("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&ae("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",qo],skipLocationChange:[2,"skipLocationChange","skipLocationChange",qo],replaceUrl:[2,"replaceUrl","replaceUrl",qo],routerLink:"routerLink"},features:[Ur]})}return n})(),Cb=(()=>{class n{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new St;constructor(t,r,i,o,s){this.router=t,this.element=r,this.renderer=i,this.cdr=o,this.link=s,this.routerEventsSubscription=t.events.subscribe(a=>{a instanceof Mn&&this.update()})}ngAfterContentInit(){pe(this.links.changes,pe(null)).pipe(Vo()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let t=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=st(t).pipe(Vo()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){let r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let t=this.hasActiveLinks();this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.isActiveChange.emit(t))})}isLinkActive(t){let r=O$(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let o=i.urlTree;return o?t.isActive(o,r):!1}}hasActiveLinks(){let t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static \u0275fac=function(r){return new(r||n)(ie(Ye),ie(mn),ie(lr),ie(zo),ie(fr,8))};static \u0275dir=lt({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,o){if(r&1&&nP(o,fr,5),r&2){let s;Hp(s=$p())&&(i.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[Ur]})}return n})();function O$(n){return!!n.paths}var md=class{};var Lk=(()=>{class n{router;injector;preloadingStrategy;loader;subscription;constructor(t,r,i,o){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(dn(t=>t instanceof Mn),Lo(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=Lu(o.providers,t,`Route: ${o.path}`));let s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return st(i).pipe(Vo())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(t,r):i=pe(null);let o=i.pipe(Pt(s=>s===null?pe(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return st([o,s]).pipe(Vo())}else return o})}static \u0275fac=function(r){return new(r||n)(me(Ye),me(hn),me(md),me(kg))};static \u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Uk=new J(""),N$=(()=>{class n{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Qo?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Mn?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof yi&&t.code===Uc.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof jc&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new jc(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){PA()};static \u0275prov=re({token:n,factory:n.\u0275fac})}return n})();function Eb(n,...e){return Tn([{provide:ha,multi:!0,useValue:n},[],{provide:wi,useFactory:Bk,deps:[Ye]},{provide:jp,multi:!0,useFactory:jk},e.map(t=>t.\u0275providers)])}function Bk(n){return n.routerState.root}function _d(n,e){return{\u0275kind:n,\u0275providers:e}}function jk(){let n=F(_t);return e=>{let t=n.get(Xs);if(e!==t.components[0])return;let r=n.get(Ye),i=n.get(Hk);n.get(Ib)===1&&r.initialNavigation(),n.get(qk,null,Me.Optional)?.setUpPreloading(),n.get(Uk,null,Me.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var Hk=new J("",{factory:()=>new Xe}),Ib=new J("",{providedIn:"root",factory:()=>1});function $k(){let n=[{provide:Ib,useValue:0},bw(()=>{let e=F(_t);return e.get(Dw,Promise.resolve()).then(()=>new Promise(r=>{let i=e.get(Ye),o=e.get(Hk);Ng(i,()=>{r(!0)}),e.get(Og).afterPreactivation=()=>(r(!0),o.closed?pe(void 0):o),i.initialNavigation()}))})];return _d(2,n)}function zk(){let n=[bw(()=>{F(Ye).setUpLocationChangeListener()}),{provide:Ib,useValue:2}];return _d(3,n)}var qk=new J("");function Gk(n){return _d(0,[{provide:qk,useExisting:Lk},{provide:md,useExisting:n}])}function Wk(){return _d(8,[pb,{provide:pd,useExisting:pb}])}function Kk(n){Rc("NgRouterViewTransitions");let e=[{provide:vb,useValue:Nk},{provide:yb,useValue:z({skipNextTransition:!!n?.skipInitialTransition},n)}];return _d(9,e)}var Yk=[Go,{provide:la,useClass:Ko},Ye,ua,{provide:wi,useFactory:Bk,deps:[Ye]},kg,[]],Sb=(()=>{class n{constructor(){}static forRoot(t,r){return{ngModule:n,providers:[Yk,[],{provide:ha,multi:!0,useValue:t},[],r?.errorHandler?{provide:wb,useValue:r.errorHandler}:[],{provide:da,useValue:r||{}},r?.useHash?V$():L$(),F$(),r?.preloadingStrategy?Gk(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?U$(r):[],r?.bindToComponentInputs?Wk().\u0275providers:[],r?.enableViewTransitions?Kk().\u0275providers:[],B$()]}}static forChild(t){return{ngModule:n,providers:[{provide:ha,multi:!0,useValue:t}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=to({type:n});static \u0275inj=Zi({})}return n})();function F$(){return{provide:Uk,useFactory:()=>{let n=F(jP),e=F(Ve),t=F(da),r=F(Og),i=F(la);return t.scrollOffset&&n.setOffset(t.scrollOffset),new N$(i,r,n,e,t)}}}function V$(){return{provide:$r,useClass:Nw}}function L$(){return{provide:$r,useClass:Gp}}function U$(n){return[n.initialNavigation==="disabled"?zk().\u0275providers:[],n.initialNavigation==="enabledBlocking"?$k().\u0275providers:[]]}var bb=new J("");function B$(){return[{provide:bb,useFactory:jk},{provide:jp,multi:!0,useExisting:bb}]}var oR=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||n)(ie(lr),ie(mn))};static \u0275dir=lt({type:n})}return n})(),$g=(()=>{class n extends oR{static \u0275fac=(()=>{let t;return function(i){return(t||(t=cr(n)))(i||n)}})();static \u0275dir=lt({type:n,features:[Yn]})}return n})(),fa=new J(""),j$={provide:fa,useExisting:Vr(()=>pa),multi:!0},pa=(()=>{class n extends $g{writeValue(t){this.setProperty("checked",t)}static \u0275fac=(()=>{let t;return function(i){return(t||(t=cr(n)))(i||n)}})();static \u0275dir=lt({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){r&1&&H("change",function(s){return i.onChange(s.target.checked)})("blur",function(){return i.onTouched()})},standalone:!1,features:[zt([j$]),Yn]})}return n})(),H$={provide:fa,useExisting:Vr(()=>pr),multi:!0};function $$(){let n=ur()?ur().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var z$=new J(""),pr=(()=>{class n extends oR{_compositionMode;_composing=!1;constructor(t,r,i){super(t,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!$$())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||n)(ie(lr),ie(mn),ie(z$,8))};static \u0275dir=lt({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&H("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[zt([H$]),Yn]})}return n})();function q$(n){return n==null||G$(n)===0}function G$(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var Yc=new J(""),sR=new J("");function W$(n){return q$(n.value)?{required:!0}:null}function K$(n){return n.value===!0?null:{required:!0}}function Qk(n){return null}function aR(n){return n!=null}function cR(n){return oa(n)?st(n):n}function lR(n){let e={};return n.forEach(t=>{e=t!=null?z(z({},e),t):e}),Object.keys(e).length===0?null:e}function uR(n,e){return e.map(t=>t(n))}function Y$(n){return!n.validate}function dR(n){return n.map(e=>Y$(e)?e:t=>e.validate(t))}function Q$(n){if(!n)return null;let e=n.filter(aR);return e.length==0?null:function(t){return lR(uR(t,e))}}function Db(n){return n!=null?Q$(dR(n)):null}function Z$(n){if(!n)return null;let e=n.filter(aR);return e.length==0?null:function(t){let r=uR(t,e).map(cR);return f0(r).pipe(le(lR))}}function Ab(n){return n!=null?Z$(dR(n)):null}function Zk(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function J$(n){return n._rawValidators}function X$(n){return n._rawAsyncValidators}function Tb(n){return n?Array.isArray(n)?n:[n]:[]}function Vg(n,e){return Array.isArray(n)?n.includes(e):n===e}function Jk(n,e){let t=Tb(e);return Tb(n).forEach(i=>{Vg(t,i)||t.push(i)}),t}function Xk(n,e){return Tb(e).filter(t=>!Vg(n,t))}var Lg=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Db(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Ab(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},Kc=class extends Lg{name;get formDirective(){return null}get path(){return null}},Id=class extends Lg{_parent=null;name=null;valueAccessor=null},Ug=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},e7={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},vde=ue(z({},e7),{"[class.ng-submitted]":"isSubmitted"}),gr=(()=>{class n extends Ug{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(ie(Id,2))};static \u0275dir=lt({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&_e("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[Yn]})}return n})(),Xo=(()=>{class n extends Ug{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(ie(Kc,10))};static \u0275dir=lt({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&_e("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[Yn]})}return n})();var yd="VALID",Fg="INVALID",Gc="PENDING",wd="DISABLED",Jo=class{},Bg=class extends Jo{value;source;constructor(e,t){super(),this.value=e,this.source=t}},Cd=class extends Jo{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},Ed=class extends Jo{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},Wc=class extends Jo{status;source;constructor(e,t){super(),this.status=e,this.source=t}},xb=class extends Jo{source;constructor(e){super(),this.source=e}},Mb=class extends Jo{source;constructor(e){super(),this.source=e}};function hR(n){return(zg(n)?n.validators:n)||null}function t7(n){return Array.isArray(n)?Db(n):n||null}function fR(n,e){return(zg(e)?e.asyncValidators:n)||null}function n7(n){return Array.isArray(n)?Ab(n):n||null}function zg(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function r7(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new ne(1e3,"");if(!r[t])throw new ne(1001,"")}function i7(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new ne(1002,"")})}var jg=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return fi(this.statusReactive)}set status(e){fi(()=>this.statusReactive.set(e))}_status=Oc(()=>this.statusReactive());statusReactive=xn(void 0);get valid(){return this.status===yd}get invalid(){return this.status===Fg}get pending(){return this.status==Gc}get disabled(){return this.status===wd}get enabled(){return this.status!==wd}errors;get pristine(){return fi(this.pristineReactive)}set pristine(e){fi(()=>this.pristineReactive.set(e))}_pristine=Oc(()=>this.pristineReactive());pristineReactive=xn(!0);get dirty(){return!this.pristine}get touched(){return fi(this.touchedReactive)}set touched(e){fi(()=>this.touchedReactive.set(e))}_touched=Oc(()=>this.touchedReactive());touchedReactive=xn(!1);get untouched(){return!this.touched}_events=new Xe;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Jk(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Jk(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Xk(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Xk(e,this._rawAsyncValidators))}hasValidator(e){return Vg(this._rawValidators,e)}hasAsyncValidator(e){return Vg(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(ue(z({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Ed(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new Ed(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(ue(z({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Cd(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new Cd(!0,r))}markAsPending(e={}){this.status=Gc;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Wc(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(ue(z({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=wd,this.errors=null,this._forEachChild(i=>{i.disable(ue(z({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Bg(this.value,r)),this._events.next(new Wc(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ue(z({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=yd,this._forEachChild(r=>{r.enable(ue(z({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ue(z({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===yd||this.status===Gc)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Bg(this.value,t)),this._events.next(new Wc(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(ue(z({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?wd:yd}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=Gc,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let r=cR(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Wc(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new St,this.statusChanges=new St}_calculateStatus(){return this._allControlsDisabled()?wd:this.errors?Fg:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Gc)?Gc:this._anyControlsHaveStatus(Fg)?Fg:yd}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new Cd(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new Ed(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){zg(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=t7(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=n7(this._rawAsyncValidators)}},Hg=class extends jg{constructor(e,t,r){super(hR(t),fR(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){i7(this,!0,e),Object.keys(e).forEach(r=>{r7(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Pb=new J("",{providedIn:"root",factory:()=>kb}),kb="always";function o7(n,e){return[...e.path,n]}function pR(n,e,t=kb){gR(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),a7(n,e),l7(n,e),c7(n,e),s7(n,e)}function eR(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function s7(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function gR(n,e){let t=J$(n);e.validator!==null?n.setValidators(Zk(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=X$(n);e.asyncValidator!==null?n.setAsyncValidators(Zk(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();eR(e._rawValidators,i),eR(e._rawAsyncValidators,i)}function a7(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&mR(n,e)})}function c7(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&mR(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function mR(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function l7(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function u7(n,e){n==null,gR(n,e)}function d7(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function h7(n){return Object.getPrototypeOf(n.constructor)===$g}function f7(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function p7(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===pr?t=o:h7(o)?r=o:i=o}),i||r||t||null}var g7={provide:Kc,useExisting:Vr(()=>io)},bd=Promise.resolve(),io=(()=>{class n extends Kc{callSetDisabledState;get submitted(){return fi(this.submittedReactive)}_submitted=Oc(()=>this.submittedReactive());submittedReactive=xn(!1);_directives=new Set;form;ngSubmit=new St;options;constructor(t,r,i){super(),this.callSetDisabledState=i,this.form=new Hg({},Db(t),Ab(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){bd.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),pR(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){bd.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){bd.then(()=>{let r=this._findContainer(t.path),i=new Hg({});u7(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){bd.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){bd.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),f7(this.form,this._directives),this.ngSubmit.emit(t),this.form._events.next(new xb(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1),this.form._events.next(new Mb(this.form))}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static \u0275fac=function(r){return new(r||n)(ie(Yc,10),ie(sR,10),ie(Pb,8))};static \u0275dir=lt({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&H("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[zt([g7]),Yn]})}return n})();function tR(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function nR(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var m7=class extends jg{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,r){super(hR(t),fR(r,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),zg(t)&&(t.nonNullable||t.initialValueIsDefault)&&(nR(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){tR(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){tR(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){nR(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var _7={provide:Id,useExisting:Vr(()=>Xn)},rR=Promise.resolve(),Xn=(()=>{class n extends Id{_changeDetectorRef;callSetDisabledState;control=new m7;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new St;constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=p7(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),d7(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){pR(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){rR.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&qo(r);rR.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?o7(t,this._parent):[t]}static \u0275fac=function(r){return new(r||n)(ie(Kc,9),ie(Yc,10),ie(sR,10),ie(fa,10),ie(zo,8),ie(Pb,8))};static \u0275dir=lt({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[zt([_7]),Yn,Ur]})}return n})();var es=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=lt({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})();var v7={provide:fa,useExisting:Vr(()=>bi),multi:!0};function _R(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function y7(n){return n.split(":")[0]}var bi=(()=>{class n extends $g{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let r=this._getOptionId(t),i=_R(r,t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=y7(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=cr(n)))(i||n)}})();static \u0275dir=lt({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&H("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[zt([v7]),Yn]})}return n})(),ts=(()=>{class n{_element;_renderer;_select;id;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(_R(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||n)(ie(mn),ie(lr),ie(bi,9))};static \u0275dir=lt({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})(),w7={provide:fa,useExisting:Vr(()=>vR),multi:!0};function iR(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function b7(n){return n.split(":")[0]}var vR=(()=>{class n extends $g{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let r;if(Array.isArray(t)){let i=t.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let c=s[a],u=this._getOptionValue(c.value);i.push(u)}}else{let s=r.options;for(let a=0;a<s.length;a++){let c=s[a];if(c.selected){let u=this._getOptionValue(c.value);i.push(u)}}}this.value=i,t(i)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=b7(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=cr(n)))(i||n)}})();static \u0275dir=lt({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&H("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[zt([w7]),Yn]})}return n})(),ns=(()=>{class n{_element;_renderer;_select;id;_value;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(iR(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(iR(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||n)(ie(mn),ie(lr),ie(vR,9))};static \u0275dir=lt({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})();var C7=(()=>{class n{_validator=Qk;_onChange;_enabled;ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Qk,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static \u0275fac=function(r){return new(r||n)};static \u0275dir=lt({type:n,features:[Ur]})}return n})();var E7={provide:Yc,useExisting:Vr(()=>Ci),multi:!0},I7={provide:Yc,useExisting:Vr(()=>Rb),multi:!0},Ci=(()=>{class n extends C7{required;inputName="required";normalizeInput=qo;createValidator=t=>W$;enabled(t){return t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=cr(n)))(i||n)}})();static \u0275dir=lt({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&ae("required",i._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[zt([E7]),Yn]})}return n})(),Rb=(()=>{class n extends Ci{createValidator=t=>K$;static \u0275fac=(()=>{let t;return function(i){return(t||(t=cr(n)))(i||n)}})();static \u0275dir=lt({type:n,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&ae("required",i._enabled?"":null)},standalone:!1,features:[zt([I7]),Yn]})}return n})();var S7=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=to({type:n});static \u0275inj=Zi({})}return n})();var mr=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Pb,useValue:t.callSetDisabledState??kb}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=to({type:n});static \u0275inj=Zi({imports:[S7]})}return n})();var yR=()=>{};var Nb={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};var Q=function(n,e){if(!n)throw ga(e)},ga=function(n){return new Error("Firebase Database ("+Nb.SDK_VERSION+") INTERNAL ASSERT FAILED: "+n)};var CR=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},T7=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],a=n[t++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},Xc={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,a=s?n[i+1]:0,c=i+2<n.length,u=c?n[i+2]:0,d=o>>2,p=(o&3)<<4|a>>4,_=(a&15)<<2|u>>6,y=u&63;c||(y=64,s||(_=64)),r.push(t[d],t[p],t[_],t[y])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(CR(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):T7(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let u=i<n.length?t[n.charAt(i)]:64;++i;let p=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||u==null||p==null)throw new Fb;let _=o<<2|a>>4;if(r.push(_),u!==64){let y=a<<4&240|u>>2;if(r.push(y),p!==64){let v=u<<6&192|p;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},Fb=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},Lb=function(n){let e=CR(n);return Xc.encodeByteArray(e,!0)},Td=function(n){return Lb(n).replace(/\./g,"")},Zc=function(n){try{return Xc.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function ER(n){return IR(void 0,n)}function IR(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:let t=e;return new Date(t.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(let t in e)!e.hasOwnProperty(t)||!x7(t)||(n[t]=IR(n[t],e[t]));return n}function x7(n){return n!=="__proto__"}function Ub(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var M7=()=>Ub().__FIREBASE_DEFAULTS__,D7=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},A7=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&Zc(n[1]);return e&&JSON.parse(e)},Gg=()=>{try{return yR()||M7()||D7()||A7()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Bb=n=>{var e,t;return(t=(e=Gg())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},el=n=>{let e=Bb(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},jb=()=>{var n;return(n=Gg())===null||n===void 0?void 0:n.config},Hb=n=>{var e;return(e=Gg())===null||e===void 0?void 0:e[`_${n}`]};var Ei=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function er(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}function rs(n){return I(this,null,function*(){return(yield fetch(n,{credentials:"include"})).ok})}function tl(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Td(JSON.stringify(t)),Td(JSON.stringify(s)),""].join(".")}var Sd={};function P7(){let n={prod:[],emulator:[]};for(let e of Object.keys(Sd))Sd[e]?n.emulator.push(e):n.prod.push(e);return n}function k7(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}var wR=!1;function is(n,e){if(typeof window>"u"||typeof document>"u"||!er(window.location.host)||Sd[n]===e||Sd[n]||wR)return;Sd[n]=e;function t(_){return`__firebase__banner__${_}`}let r="__firebase__banner",o=P7().prod.length>0;function s(){let _=document.getElementById(r);_&&_.remove()}function a(_){_.style.display="flex",_.style.background="#7faaf0",_.style.position="fixed",_.style.bottom="5px",_.style.left="5px",_.style.padding=".5em",_.style.borderRadius="5px",_.style.alignItems="center"}function c(_,y){_.setAttribute("width","24"),_.setAttribute("id",y),_.setAttribute("height","24"),_.setAttribute("viewBox","0 0 24 24"),_.setAttribute("fill","none"),_.style.marginLeft="-6px"}function u(){let _=document.createElement("span");return _.style.cursor="pointer",_.style.marginLeft="16px",_.style.fontSize="24px",_.innerHTML=" &times;",_.onclick=()=>{wR=!0,s()},_}function d(_,y){_.setAttribute("id",y),_.innerText="Learn more",_.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",_.setAttribute("target","__blank"),_.style.paddingLeft="5px",_.style.textDecoration="underline"}function p(){let _=k7(r),y=t("text"),v=document.getElementById(y)||document.createElement("span"),A=t("learnmore"),O=document.getElementById(A)||document.createElement("a"),G=t("preprendIcon"),ee=document.getElementById(G)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(_.created){let Z=_.element;a(Z),d(O,A);let se=u();c(ee,G),Z.append(ee,v,O,se),document.body.appendChild(Z)}o?(v.innerText="Preview backend disconnected.",ee.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ee.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,v.innerText="Preview backend running in this workspace."),v.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function Yt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function xd(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Yt())}function R7(){var n;let e=(n=Gg())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function SR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function TR(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function Wg(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function xR(){let n=Yt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function Ii(){return Nb.NODE_CLIENT===!0||Nb.NODE_ADMIN===!0}function MR(){return!R7()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Md(){try{return typeof indexedDB=="object"}catch{return!1}}function DR(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var O7="FirebaseError",Dn=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=O7,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Gr.prototype.create)}},Gr=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?N7(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Dn(i,a,r)}};function N7(n,e){return n.replace(F7,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var F7=/\{\$([^}]+)}/g;function Jc(n){return JSON.parse(n)}function Qt(n){return JSON.stringify(n)}var AR=function(n){let e={},t={},r={},i="";try{let o=n.split(".");e=Jc(Zc(o[0])||""),t=Jc(Zc(o[1])||""),i=o[2],r=t.d||{},delete t.d}catch{}return{header:e,claims:t,data:r,signature:i}};var PR=function(n){let e=AR(n),t=e.claims;return!!t&&typeof t=="object"&&t.hasOwnProperty("iat")},kR=function(n){let e=AR(n).claims;return typeof e=="object"&&e.admin===!0};function Si(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function ma(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]}function Dd(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Ad(n,e,t){let r={};for(let i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=e.call(t,n[i],i,n));return r}function _r(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(bR(o)&&bR(s)){if(!_r(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function bR(n){return n!==null&&typeof n=="object"}function _a(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function nl(n){let e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function rl(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}var qg=class{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);let r=this.W_;if(typeof e=="string")for(let p=0;p<16;p++)r[p]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let p=0;p<16;p++)r[p]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let p=16;p<80;p++){let _=r[p-3]^r[p-8]^r[p-14]^r[p-16];r[p]=(_<<1|_>>>31)&4294967295}let i=this.chain_[0],o=this.chain_[1],s=this.chain_[2],a=this.chain_[3],c=this.chain_[4],u,d;for(let p=0;p<80;p++){p<40?p<20?(u=a^o&(s^a),d=1518500249):(u=o^s^a,d=1859775393):p<60?(u=o&s|a&(o|s),d=2400959708):(u=o^s^a,d=3395469782);let _=(i<<5|i>>>27)+u+c+d+r[p]&4294967295;c=a,a=s,s=(o<<30|o>>>2)&4294967295,o=i,i=_}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,t){if(e==null)return;t===void 0&&(t=e.length);let r=t-this.blockSize,i=0,o=this.buf_,s=this.inbuf_;for(;i<t;){if(s===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<t;)if(o[s]=e.charCodeAt(i),++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}else for(;i<t;)if(o[s]=e[i],++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}this.inbuf_=s,this.total_+=t}digest(){let e=[],t=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=t&255,t/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let o=24;o>=0;o-=8)e[r]=this.chain_[i]>>o&255,++r;return e}};function RR(n,e){let t=new Vb(n,e);return t.subscribe.bind(t)}var Vb=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");V7(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=Ob),i.error===void 0&&(i.error=Ob),i.complete===void 0&&(i.complete=Ob);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function V7(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Ob(){}function OR(n,e){return`${n} failed: ${e} argument `}var NR=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);if(i>=55296&&i<=56319){let o=i-55296;r++,Q(r<n.length,"Surrogate pair missing trail surrogate.");let s=n.charCodeAt(r)-56320;i=65536+(o<<10)+s}i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):i<65536?(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},Pd=function(n){let e=0;for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,t++):e+=3}return e};var Ede=4*60*60*1e3;function ft(n){return n&&n._delegate?n._delegate:n}var Wt=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var va="[DEFAULT]";var Kg=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new Ei;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(U7(e))try{this.getOrInitializeService({instanceIdentifier:va})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=va){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return I(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=va){return this.instances.has(e)}getOptions(e=va){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:L7(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=va){return this.component?this.component.multipleInstances?e:va:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function L7(n){return n===va?void 0:n}function U7(n){return n.instantiationMode==="EAGER"}var kd=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new Kg(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var B7=[],Pe=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(Pe||{}),j7={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},H7=Pe.INFO,$7={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},z7=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=$7[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},vr=class{constructor(e){this.name=e,this._logLevel=H7,this._logHandler=z7,this._userLogHandler=null,B7.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?j7[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}};var q7=(n,e)=>e.some(t=>n instanceof t),FR,VR;function G7(){return FR||(FR=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function W7(){return VR||(VR=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var LR=new WeakMap,zb=new WeakMap,UR=new WeakMap,$b=new WeakMap,Gb=new WeakMap;function K7(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(Ti(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&LR.set(t,n)}).catch(()=>{}),Gb.set(e,n),e}function Y7(n){if(zb.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});zb.set(n,e)}var qb={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return zb.get(n);if(e==="objectStoreNames")return n.objectStoreNames||UR.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ti(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function BR(n){qb=n(qb)}function Q7(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(Yg(this),e,...t);return UR.set(r,e.sort?e.sort():[e]),Ti(r)}:W7().includes(n)?function(...e){return n.apply(Yg(this),e),Ti(LR.get(this))}:function(...e){return Ti(n.apply(Yg(this),e))}}function Z7(n){return typeof n=="function"?Q7(n):(n instanceof IDBTransaction&&Y7(n),q7(n,G7())?new Proxy(n,qb):n)}function Ti(n){if(n instanceof IDBRequest)return K7(n);if($b.has(n))return $b.get(n);let e=Z7(n);return e!==n&&($b.set(n,e),Gb.set(e,n)),e}var Yg=n=>Gb.get(n);function HR(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),a=Ti(s);return r&&s.addEventListener("upgradeneeded",c=>{r(Ti(s.result),c.oldVersion,c.newVersion,Ti(s.transaction),c)}),t&&s.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}var J7=["get","getKey","getAll","getAllKeys","count"],X7=["put","add","delete","clear"],Wb=new Map;function jR(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Wb.get(e))return Wb.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=X7.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||J7.includes(t)))return;let o=function(s,...a){return I(this,null,function*(){let c=this.transaction(s,i?"readwrite":"readonly"),u=c.store;return r&&(u=u.index(a.shift())),(yield Promise.all([u[t](...a),i&&c.done]))[0]})};return Wb.set(e,o),o}BR(n=>ue(z({},n),{get:(e,t,r)=>jR(e,t)||n.get(e,t,r),has:(e,t)=>!!jR(e,t)||n.has(e,t)}));var Yb=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(ez(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function ez(n){let e=n.getComponent();return e?.type==="VERSION"}var Qb="@firebase/app",$R="0.13.2";var oo=new vr("@firebase/app"),tz="@firebase/app-compat",nz="@firebase/analytics-compat",rz="@firebase/analytics",iz="@firebase/app-check-compat",oz="@firebase/app-check",sz="@firebase/auth",az="@firebase/auth-compat",cz="@firebase/database",lz="@firebase/data-connect",uz="@firebase/database-compat",dz="@firebase/functions",hz="@firebase/functions-compat",fz="@firebase/installations",pz="@firebase/installations-compat",gz="@firebase/messaging",mz="@firebase/messaging-compat",_z="@firebase/performance",vz="@firebase/performance-compat",yz="@firebase/remote-config",wz="@firebase/remote-config-compat",bz="@firebase/storage",Cz="@firebase/storage-compat",Ez="@firebase/firestore",Iz="@firebase/ai",Sz="@firebase/firestore-compat",Tz="firebase",xz="11.10.0";var Zb="[DEFAULT]",Mz={[Qb]:"fire-core",[tz]:"fire-core-compat",[rz]:"fire-analytics",[nz]:"fire-analytics-compat",[oz]:"fire-app-check",[iz]:"fire-app-check-compat",[sz]:"fire-auth",[az]:"fire-auth-compat",[cz]:"fire-rtdb",[lz]:"fire-data-connect",[uz]:"fire-rtdb-compat",[dz]:"fire-fn",[hz]:"fire-fn-compat",[fz]:"fire-iid",[pz]:"fire-iid-compat",[gz]:"fire-fcm",[mz]:"fire-fcm-compat",[_z]:"fire-perf",[vz]:"fire-perf-compat",[yz]:"fire-rc",[wz]:"fire-rc-compat",[bz]:"fire-gcs",[Cz]:"fire-gcs-compat",[Ez]:"fire-fst",[Sz]:"fire-fst-compat",[Iz]:"fire-vertex","fire-js":"fire-js",[Tz]:"fire-js-all"};var Rd=new Map,Dz=new Map,Jb=new Map;function zR(n,e){try{n.container.addComponent(e)}catch(t){oo.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function An(n){let e=n.name;if(Jb.has(e))return oo.debug(`There were multiple attempts to register component ${e}.`),!1;Jb.set(e,n);for(let t of Rd.values())zR(t,n);for(let t of Dz.values())zR(t,n);return!0}function xi(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Zt(n){return n==null?!1:n.settings!==void 0}var Az={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},os=new Gr("app","Firebase",Az);var Xb=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Wt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw os.create("app-deleted",{appName:this._name})}};var yr=xz;function nC(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Zb,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw os.create("bad-app-name",{appName:String(i)});if(t||(t=jb()),!t)throw os.create("no-options");let o=Rd.get(i);if(o){if(_r(t,o.options)&&_r(r,o.config))return o;throw os.create("duplicate-app",{appName:i})}let s=new kd(i);for(let c of Jb.values())s.addComponent(c);let a=new Xb(t,r,s);return Rd.set(i,a),a}function Wr(n=Zb){let e=Rd.get(n);if(!e&&n===Zb&&jb())return nC();if(!e)throw os.create("no-app",{appName:n});return e}function Qg(){return Array.from(Rd.values())}function We(n,e,t){var r;let i=(r=Mz[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),oo.warn(a.join(" "));return}An(new Wt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var Pz="firebase-heartbeat-database",kz=1,Od="firebase-heartbeat-store",Kb=null;function KR(){return Kb||(Kb=HR(Pz,kz,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Od)}catch(t){console.warn(t)}}}}).catch(n=>{throw os.create("idb-open",{originalErrorMessage:n.message})})),Kb}function Rz(n){return I(this,null,function*(){try{let t=(yield KR()).transaction(Od),r=yield t.objectStore(Od).get(YR(n));return yield t.done,r}catch(e){if(e instanceof Dn)oo.warn(e.message);else{let t=os.create("idb-get",{originalErrorMessage:e?.message});oo.warn(t.message)}}})}function qR(n,e){return I(this,null,function*(){try{let r=(yield KR()).transaction(Od,"readwrite");yield r.objectStore(Od).put(e,YR(n)),yield r.done}catch(t){if(t instanceof Dn)oo.warn(t.message);else{let r=os.create("idb-set",{originalErrorMessage:t?.message});oo.warn(r.message)}}})}function YR(n){return`${n.name}!${n.options.appId}`}var Oz=1024,Nz=30,eC=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new tC(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return I(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=GR();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>Nz){let s=Vz(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){oo.warn(r)}})}getHeartbeatsHeader(){return I(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=GR(),{heartbeatsToSend:r,unsentEntries:i}=Fz(this._heartbeatsCache.heartbeats),o=Td(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return oo.warn(t),""}})}};function GR(){return new Date().toISOString().substring(0,10)}function Fz(n,e=Oz){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),WR(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),WR(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var tC=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return I(this,null,function*(){return Md()?DR().then(()=>!0).catch(()=>!1):!1})}read(){return I(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield Rz(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return I(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return qR(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return I(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return qR(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function WR(n){return Td(JSON.stringify({version:2,heartbeats:n})).length}function Vz(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function Lz(n){An(new Wt("platform-logger",e=>new Yb(e),"PRIVATE")),An(new Wt("heartbeat",e=>new eC(e),"PRIVATE")),We(Qb,$R,n),We(Qb,$R,"esm2017"),We("fire-js","")}Lz("");var Uz="firebase",Bz="11.10.0";We(Uz,Bz,"app");function rC(n){n===void 0&&(ky(rC),n=F(_t));let e=n.get(kp);return t=>new xe(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let a=t.subscribe({next:c=>{r.next(c),s()},complete:()=>{r.complete(),s()},error:c=>{r.error(c),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var wr=new ta("ANGULARFIRE2_VERSION");function so(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var Mi=(n,e)=>{let t=e?[e]:Qg(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},il=function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n}(il||{}),QR=Tw()&&typeof Zone<"u"?il.WARN:il.SILENT;var Zg=class{zone;delegate;constructor(e,t=u0){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,t,r)}},br=(()=>{class n{outsideAngular;insideAngular;constructor(){let t=F(Ve);this.outsideAngular=t.runOutsideAngular(()=>new Zg(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=t.run(()=>new Zg(typeof Zone>"u"?void 0:Zone.current,l0))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ZR=!1;function jz(n,e){!ZR&&(QR>il.SILENT||Tw())&&(ZR=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),QR>=e&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function Hz(n){let e=F(Ve,{optional:!0});return e?e.runOutsideAngular(()=>n()):n()}function ya(n){let e=F(Ve,{optional:!0});return e?e.run(()=>n()):n()}var $z=(n,e,t)=>(...r)=>(e&&setTimeout(e,0),pn(t,()=>ya(()=>n.apply(void 0,r)))),rt=(n,e,t)=>(t||=e?il.WARN:il.VERBOSE,function(){let r,i=arguments,o,s,a;try{o=F(br),s=F(kp),a=F(hn)}catch{return jz(n,t),n.apply(this,i)}for(let u=0;u<arguments.length;u++)typeof i[u]=="function"&&(e&&(r||=ya(()=>s.add())),i[u]=$z(i[u],r,a));let c=Hz(()=>n.apply(this,i));return e?c instanceof xe?c.pipe(No(o.outsideAngular),Oo(o.insideAngular),rC(a)):c instanceof Promise?ya(()=>new Promise((u,d)=>{s.run(()=>c).then(p=>pn(a,()=>ya(()=>u(p))),p=>pn(a,()=>ya(()=>d(p))))})):typeof c=="function"&&r?function(){return setTimeout(r,0),c.apply(this,arguments)}:ya(()=>c):c instanceof xe?c.pipe(No(o.outsideAngular),Oo(o.insideAngular)):ya(()=>c)});var tr=class{constructor(e){return e}},Kr=class{constructor(){return Qg()}};function zz(n){return n&&n.length===1?n[0]:new tr(Wr())}var iC=new J("angularfire2._apps"),qz={provide:tr,useFactory:zz,deps:[[new bt,iC]]},Gz={provide:Kr,deps:[[new bt,iC]]};function Wz(n){return(e,t)=>{let r=t.get(Ho);We("angularfire",wr.full,"core"),We("angularfire",wr.full,"app"),We("angular",lP.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new tr(i)}}function JR(n,...e){return Tn([qz,Gz,{provide:iC,useFactory:Wz(n),multi:!0,deps:[Ve,_t,br,...e]}])}var XR=rt(nC,!0);var Kz=new Map,Yz={activated:!1,tokenObservers:[]},Qz={initialized:!1,enabled:!1};function Yr(n){return Kz.get(n)||Object.assign({},Yz)}function rO(){return Qz}var Zz="https://content-firebaseappcheck.googleapis.com/v1";var Jz="exchangeDebugToken",eO={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},Dhe=24*60*60*1e3;var aC=class{constructor(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return I(this,null,function*(){this.stop();try{this.pending=new Ei,this.pending.promise.catch(t=>{}),yield Xz(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new Ei,this.pending.promise.catch(t=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function Xz(n){return new Promise(e=>{setTimeout(e,n)})}var eq={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},ss=new Gr("appCheck","AppCheck",eq);function iO(n){if(!Yr(n).activated)throw ss.create("use-before-activation",{appName:n.name})}function oO(r,i){return I(this,arguments,function*({url:n,body:e},t){let o={"Content-Type":"application/json"},s=t.getImmediate({optional:!0});if(s){let y=yield s.getHeartbeatsHeader();y&&(o["X-Firebase-Client"]=y)}let a={method:"POST",body:JSON.stringify(e),headers:o},c;try{c=yield fetch(n,a)}catch(y){throw ss.create("fetch-network-error",{originalErrorMessage:y?.message})}if(c.status!==200)throw ss.create("fetch-status-error",{httpStatus:c.status});let u;try{u=yield c.json()}catch(y){throw ss.create("fetch-parse-error",{originalErrorMessage:y?.message})}let d=u.ttl.match(/^([\d.]+)(s)$/);if(!d||!d[2]||isNaN(Number(d[1])))throw ss.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${u.ttl}`});let p=Number(d[1])*1e3,_=Date.now();return{token:u.token,expireTimeMillis:_+p,issuedAtTimeMillis:_}})}function sO(n,e){let{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${Zz}/projects/${t}/apps/${r}:${Jz}?key=${i}`,body:{debug_token:e}}}var tq="firebase-app-check-database",nq=1,cC="firebase-app-check-store";var Jg=null;function rq(){return Jg||(Jg=new Promise((n,e)=>{try{let t=indexedDB.open(tq,nq);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(ss.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},t.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(cC,{keyPath:"compositeKey"})}}}catch(t){e(ss.create("storage-open",{originalErrorMessage:t?.message}))}}),Jg)}function iq(n,e){return oq(sq(n),e)}function oq(n,e){return I(this,null,function*(){let r=(yield rq()).transaction(cC,"readwrite"),o=r.objectStore(cC).put({compositeKey:n,value:e});return new Promise((s,a)=>{o.onsuccess=c=>{s()},r.onerror=c=>{var u;a(ss.create("storage-set",{originalErrorMessage:(u=c.target.error)===null||u===void 0?void 0:u.message}))}})})}function sq(n){return`${n.options.appId}-${n.name}`}var Nd=new vr("@firebase/app-check");function oC(n,e){return Md()?iq(n,e).catch(t=>{Nd.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function aO(){return rO().enabled}function cO(){return I(this,null,function*(){let n=rO();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var aq={error:"UNKNOWN_ERROR"};function cq(n){return Xc.encodeString(JSON.stringify(n),!1)}function lC(n,e=!1,t=!1){return I(this,null,function*(){let r=n.app;iO(r);let i=Yr(r),o=i.token,s;if(o&&!Fd(o)&&(i.token=void 0,o=void 0),!o){let u=yield i.cachedTokenPromise;u&&(Fd(u)?o=u:yield oC(r,void 0))}if(!e&&o&&Fd(o))return{token:o.token};let a=!1;if(aO())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=oO(sO(r,yield cO()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let u=yield i.exchangeTokenPromise;return yield oC(r,u),i.token=u,{token:u.token}}catch(u){return u.code==="appCheck/throttled"||u.code==="appCheck/initial-throttle"?Nd.warn(u.message):t&&Nd.error(u),sC(u)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=yield Yr(r).exchangeTokenPromise}catch(u){u.code==="appCheck/throttled"||u.code==="appCheck/initial-throttle"?Nd.warn(u.message):t&&Nd.error(u),s=u}let c;return o?s?Fd(o)?c={token:o.token,internalError:s}:c=sC(s):(c={token:o.token},i.token=o,yield oC(r,o)):c=sC(s),a&&hq(r,c),c})}function lq(n){return I(this,null,function*(){let e=n.app;iO(e);let{provider:t}=Yr(e);if(aO()){let r=yield cO(),{token:i}=yield oO(sO(e,r),n.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield t.getToken();return{token:r}}})}function uq(n,e,t,r){let{app:i}=n,o=Yr(i),s={next:t,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&Fd(o.token)){let a=o.token;Promise.resolve().then(()=>{t({token:a.token}),tO(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>tO(n))}function lO(n,e){let t=Yr(n),r=t.tokenObservers.filter(i=>i.next!==e);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function tO(n){let{app:e}=n,t=Yr(e),r=t.tokenRefresher;r||(r=dq(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function dq(n){let{app:e}=n;return new aC(()=>I(null,null,function*(){let t=Yr(e),r;if(t.token?r=yield lC(n,!0):r=yield lC(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let t=Yr(e);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,i=t.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},eO.RETRIAL_MIN_WAIT,eO.RETRIAL_MAX_WAIT)}function hq(n,e){let t=Yr(n).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function Fd(n){return n.expireTimeMillis-Date.now()>0}function sC(n){return{token:cq(aq),error:n}}var uC=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=Yr(this.app);for(let t of e)lO(this.app,t.next);return Promise.resolve()}};function fq(n,e){return new uC(n,e)}function pq(n){return{getToken:e=>lC(n,e),getLimitedUseToken:()=>lq(n),addTokenListener:e=>uq(n,"INTERNAL",e),removeTokenListener:e=>lO(n.app,e)}}var gq="@firebase/app-check",mq="0.10.1";var _q="app-check",nO="app-check-internal";function vq(){An(new Wt(_q,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return fq(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(nO).initialize()})),An(new Wt(nO,n=>{let e=n.getProvider("app-check").getImmediate();return pq(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),We(gq,mq)}vq();var yq="app-check";var Di=class{constructor(){return Mi(yq)}};var wq=["localhost","0.0.0.0","127.0.0.1"],Hhe=typeof window<"u"&&wq.includes(window.location.hostname);function SO(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var TO=SO,xO=new Gr("auth","Firebase",SO());var im=new vr("@firebase/auth");function bq(n,...e){im.logLevel<=Pe.WARN&&im.warn(`Auth (${yr}): ${n}`,...e)}function em(n,...e){im.logLevel<=Pe.ERROR&&im.error(`Auth (${yr}): ${n}`,...e)}function Pi(n,...e){throw OC(n,...e)}function wa(n,...e){return OC(n,...e)}function MO(n,e,t){let r=Object.assign(Object.assign({},TO()),{[e]:t});return new Gr("auth","Firebase",r).create(e,{appName:n.name})}function lo(n){return MO(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function OC(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return xO.create(n,...e)}function de(n,e,...t){if(!n)throw OC(e,...t)}function ao(n){let e="INTERNAL ASSERTION FAILED: "+n;throw em(e),new Error(e)}function ls(n,e){n||ao(e)}function pC(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function Cq(){return uO()==="http:"||uO()==="https:"}function uO(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function Eq(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Cq()||TR()||"connection"in navigator)?navigator.onLine:!0}function Iq(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var ba=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,ls(t>e,"Short delay should be less than long delay!"),this.isMobile=xd()||Wg()}get(){return Eq()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function NC(n,e){ls(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var om=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ao("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ao("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ao("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var Sq={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var Tq=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],xq=new ba(3e4,6e4);function uo(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function ho(o,s,a,c){return I(this,arguments,function*(n,e,t,r,i={}){return DO(n,i,()=>I(null,null,function*(){let u={},d={};r&&(e==="GET"?d=r:u={body:JSON.stringify(r)});let p=_a(Object.assign({key:n.config.apiKey},d)).slice(1),_=yield n._getAdditionalHeaders();_["Content-Type"]="application/json",n.languageCode&&(_["X-Firebase-Locale"]=n.languageCode);let y=Object.assign({method:e,headers:_},u);return SR()||(y.referrerPolicy="no-referrer"),n.emulatorConfig&&er(n.emulatorConfig.host)&&(y.credentials="include"),om.fetch()(yield AO(n,n.config.apiHost,t,p),y)}))})}function DO(n,e,t){return I(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},Sq),e);try{let i=new gC(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Xg(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Xg(n,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw Xg(n,"email-already-in-use",s);if(c==="USER_DISABLED")throw Xg(n,"user-disabled",s);let d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw MO(n,d,u);Pi(n,d)}}catch(i){if(i instanceof Dn)throw i;Pi(n,"network-request-failed",{message:String(i)})}})}function qd(o,s,a,c){return I(this,arguments,function*(n,e,t,r,i={}){let u=yield ho(n,e,t,r,i);return"mfaPendingCredential"in u&&Pi(n,"multi-factor-auth-required",{_serverResponse:u}),u})}function AO(n,e,t,r){return I(this,null,function*(){let i=`${e}${t}?${r}`,o=n,s=o.config.emulator?NC(n.config,i):`${n.config.apiScheme}://${i}`;return Tq.includes(t)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}function Mq(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var gC=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(wa(this.auth,"network-request-failed")),xq.get())})}};function Xg(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=wa(n,e,r);return i.customData._tokenResponse=t,i}function dO(n){return n!==void 0&&n.enterprise!==void 0}var mC=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Mq(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};function Dq(n,e){return I(this,null,function*(){return ho(n,"GET","/v2/recaptchaConfig",uo(n,e))})}function Aq(n,e){return I(this,null,function*(){return ho(n,"POST","/v1/accounts:delete",e)})}function sm(n,e){return I(this,null,function*(){return ho(n,"POST","/v1/accounts:lookup",e)})}function Ld(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function FC(n,e=!1){return I(this,null,function*(){let t=ft(n),r=yield t.getIdToken(e),i=VC(r);de(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Ld(dC(i.auth_time)),issuedAtTime:Ld(dC(i.iat)),expirationTime:Ld(dC(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function dC(n){return Number(n)*1e3}function VC(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return em("JWT malformed, contained fewer than 3 sections"),null;try{let i=Zc(t);return i?JSON.parse(i):(em("Failed to decode base64 JWT payload"),null)}catch(i){return em("Caught error parsing JWT payload as JSON",i?.toString()),null}}function hO(n){let e=VC(n);return de(e,"internal-error"),de(typeof e.exp<"u","internal-error"),de(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Bd(n,e,t=!1){return I(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof Dn&&Pq(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function Pq({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var _C=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>I(this,null,function*(){yield this.iteration()}),t)}iteration(){return I(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var jd=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ld(this.lastLoginAt),this.creationTime=Ld(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function am(n){return I(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield Bd(n,sm(t,{idToken:r}));de(i?.users.length,t,"internal-error");let o=i.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?PO(o.providerUserInfo):[],a=kq(n.providerData,s),c=n.isAnonymous,u=!(n.email&&o.passwordHash)&&!a?.length,d=c?u:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new jd(o.createdAt,o.lastLoginAt),isAnonymous:d};Object.assign(n,p)})}function LC(n){return I(this,null,function*(){let e=ft(n);yield am(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function kq(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function PO(n){return n.map(e=>{var{providerId:t}=e,r=d0(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function Rq(n,e){return I(this,null,function*(){let t=yield DO(n,{},()=>I(null,null,function*(){let r=_a({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=yield AO(n,i,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let c={method:"POST",headers:a,body:r};return n.emulatorConfig&&er(n.emulatorConfig.host)&&(c.credentials="include"),om.fetch()(s,c)}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function Oq(n,e){return I(this,null,function*(){return ho(n,"POST","/v2/accounts:revokeToken",uo(n,e))})}var Ud=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){de(e.idToken,"internal-error"),de(typeof e.idToken<"u","internal-error"),de(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):hO(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){de(e.length!==0,"internal-error");let t=hO(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return I(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(de(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return I(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield Rq(e,t);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(de(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(de(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(de(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return ao("not implemented")}};function as(n,e){de(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var cs=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=d0(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new _C(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new jd(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return I(this,null,function*(){let t=yield Bd(this,this.stsTokenManager.getToken(this.auth,e));return de(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return FC(this,e)}reload(){return LC(this)}_assign(e){this!==e&&(de(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){de(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return I(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield am(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return I(this,null,function*(){if(Zt(this.auth.app))return Promise.reject(lo(this.auth));let e=yield this.getIdToken();return yield Bd(this,Aq(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,c,u,d;let p=(r=t.displayName)!==null&&r!==void 0?r:void 0,_=(i=t.email)!==null&&i!==void 0?i:void 0,y=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,v=(s=t.photoURL)!==null&&s!==void 0?s:void 0,A=(a=t.tenantId)!==null&&a!==void 0?a:void 0,O=(c=t._redirectEventId)!==null&&c!==void 0?c:void 0,G=(u=t.createdAt)!==null&&u!==void 0?u:void 0,ee=(d=t.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:Z,emailVerified:se,isAnonymous:De,providerData:fe,stsTokenManager:P}=t;de(Z&&P,e,"internal-error");let S=Ud.fromJSON(this.name,P);de(typeof Z=="string",e,"internal-error"),as(p,e.name),as(_,e.name),de(typeof se=="boolean",e,"internal-error"),de(typeof De=="boolean",e,"internal-error"),as(y,e.name),as(v,e.name),as(A,e.name),as(O,e.name),as(G,e.name),as(ee,e.name);let M=new n({uid:Z,auth:e,email:_,emailVerified:se,displayName:p,isAnonymous:De,photoURL:v,phoneNumber:y,tenantId:A,stsTokenManager:S,createdAt:G,lastLoginAt:ee});return fe&&Array.isArray(fe)&&(M.providerData=fe.map(D=>Object.assign({},D))),O&&(M._redirectEventId=O),M}static _fromIdTokenResponse(e,t,r=!1){return I(this,null,function*(){let i=new Ud;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield am(o),o})}static _fromGetAccountInfoResponse(e,t,r){return I(this,null,function*(){let i=t.users[0];de(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?PO(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new Ud;a.updateFromIdToken(r);let c=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new jd(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(c,u),c})}};var fO=new Map;function co(n){ls(n instanceof Function,"Expected a class definition");let e=fO.get(n);return e?(ls(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,fO.set(n,e),e)}var Nq=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return I(this,null,function*(){return!0})}_set(t,r){return I(this,null,function*(){this.storage[t]=r})}_get(t){return I(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return I(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),vC=Nq;function tm(n,e,t){return`firebase:${n}:${e}:${t}`}var cm=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=tm(this.userKey,i.apiKey,o),this.fullPersistenceKey=tm("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return I(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=yield sm(this.auth,{idToken:e}).catch(()=>{});return t?cs._fromGetAccountInfoResponse(this.auth,t,e):null}return cs._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return I(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return I(this,null,function*(){if(!t.length)return new n(co(vC),e,r);let i=(yield Promise.all(t.map(u=>I(null,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),o=i[0]||co(vC),s=tm(r,e.config.apiKey,e.name),a=null;for(let u of t)try{let d=yield u._get(s);if(d){let p;if(typeof d=="string"){let _=yield sm(e,{idToken:d}).catch(()=>{});if(!_)break;p=yield cs._fromGetAccountInfoResponse(e,_,d)}else p=cs._fromJSON(e,d);u!==o&&(a=p),o=u;break}}catch{}let c=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new n(o,e,r):(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(u=>I(null,null,function*(){if(u!==o)try{yield u._remove(s)}catch{}}))),new n(o,e,r))})}};function pO(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(NO(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(kO(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(VO(e))return"Blackberry";if(LO(e))return"Webos";if(RO(e))return"Safari";if((e.includes("chrome/")||OO(e))&&!e.includes("edge/"))return"Chrome";if(FO(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function kO(n=Yt()){return/firefox\//i.test(n)}function RO(n=Yt()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function OO(n=Yt()){return/crios\//i.test(n)}function NO(n=Yt()){return/iemobile/i.test(n)}function FO(n=Yt()){return/android/i.test(n)}function VO(n=Yt()){return/blackberry/i.test(n)}function LO(n=Yt()){return/webos/i.test(n)}function UC(n=Yt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function Fq(n=Yt()){var e;return UC(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Vq(){return xR()&&document.documentMode===10}function UO(n=Yt()){return UC(n)||FO(n)||LO(n)||VO(n)||/windows phone/i.test(n)||NO(n)}function BO(n,e=[]){let t;switch(n){case"Browser":t=pO(Yt());break;case"Worker":t=`${pO(Yt())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${yr}/${r}`}var yC=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,a)=>{try{let c=e(o);s(c)}catch(c){a(c)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return I(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function Lq(t){return I(this,arguments,function*(n,e={}){return ho(n,"GET","/v2/passwordPolicy",uo(n,e))})}var Uq=6,wC=class{constructor(e){var t,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:Uq,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(t=c.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var bC=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new lm(this),this.idTokenSubscription=new lm(this),this.beforeStateQueue=new yC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=xO,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=co(t)),this._initializationPromise=this.queue(()=>I(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield cm.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return I(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return I(this,null,function*(){try{let t=yield sm(this,{idToken:e}),r=yield cs._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return I(this,null,function*(){var t;if(Zt(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!s||s===a)&&c?.user&&(i=c.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return de(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return I(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return I(this,null,function*(){try{yield am(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=Iq()}_delete(){return I(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return I(this,null,function*(){if(Zt(this.app))return Promise.reject(lo(this));let t=e?ft(e):null;return t&&de(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return I(this,null,function*(){if(!this._deleted)return e&&de(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>I(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return I(this,null,function*(){return Zt(this.app)?Promise.reject(lo(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Zt(this.app)?Promise.reject(lo(this)):this.queue(()=>I(this,null,function*(){yield this.assertedPersistence.setPersistence(co(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return I(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return I(this,null,function*(){let e=yield Lq(this),t=new wC(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Gr("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return I(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield Oq(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return I(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return I(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&co(e)||this._popupRedirectResolver;de(t,this,"argument-error"),this.redirectPersistenceManager=yield cm.create(this,[co(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return I(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>I(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return I(this,null,function*(){if(e===this.currentUser)return this.queue(()=>I(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(de(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let c=e.addObserver(t,r,i);return()=>{s=!0,c()}}else{let c=e.addObserver(t);return()=>{s=!0,c()}}}directlySetCurrentUser(e){return I(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return de(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=BO(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return I(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return I(this,null,function*(){var e;if(Zt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&bq(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function us(n){return ft(n)}var lm=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=RR(t=>this.observer=t)}get next(){return de(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var _m={loadJS(){return I(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Bq(n){_m=n}function jO(n){return _m.loadJS(n)}function jq(){return _m.recaptchaEnterpriseScript}function Hq(){return _m.gapiScript}function HO(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var CC=class{constructor(){this.enterprise=new EC}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}},EC=class{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}};var $q="recaptcha-enterprise",$O="NO_RECAPTCHA",IC=class{constructor(e){this.type=$q,this.auth=us(e)}verify(e="verify",t=!1){return I(this,null,function*(){function r(o){return I(this,null,function*(){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>I(null,null,function*(){Dq(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let u=new mC(c);return o.tenantId==null?o._agentRecaptchaConfig=u:o._tenantRecaptchaConfigs[o.tenantId]=u,s(u.siteKey)}}).catch(c=>{a(c)})}))})}function i(o,s,a){let c=window.grecaptcha;dO(c)?c.enterprise.ready(()=>{c.enterprise.execute(o,{action:e}).then(u=>{s(u)}).catch(()=>{s($O)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new CC().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(a=>{if(!t&&dO(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let c=jq();c.length!==0&&(c+=a),jO(c).then(()=>{i(a,o,s)}).catch(u=>{s(u)})}}).catch(a=>{s(a)})})})}};function Vd(n,e,t,r=!1,i=!1){return I(this,null,function*(){let o=new IC(n),s;if(i)s=$O;else try{s=yield o.verify(t)}catch{s=yield o.verify(t,!0)}let a=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){let c=a.phoneEnrollmentInfo.phoneNumber,u=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:u,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){let c=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a})}function um(n,e,t,r,i){return I(this,null,function*(){var o,s;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let a=yield Vd(n,e,t,t==="getOobCode");return r(n,a)}else return r(n,e).catch(a=>I(null,null,function*(){if(a.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let c=yield Vd(n,e,t,t==="getOobCode");return r(n,c)}else return Promise.reject(a)}));else if(i==="PHONE_PROVIDER")if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("PHONE_PROVIDER")){let a=yield Vd(n,e,t);return r(n,a).catch(c=>I(null,null,function*(){var u;if(((u=n._getRecaptchaConfig())===null||u===void 0?void 0:u.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(c.code==="auth/missing-recaptcha-token"||c.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);let d=yield Vd(n,e,t,!1,!0);return r(n,d)}return Promise.reject(c)}))}else{let a=yield Vd(n,e,t,!1,!0);return r(n,a)}else return Promise.reject(i+" provider is not supported.")})}function BC(n,e){let t=xi(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),o=t.getOptions();if(_r(o,e??{}))return i;Pi(i,"already-initialized")}return t.initialize({options:e})}function zq(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(co);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function jC(n,e,t){let r=us(n);de(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,o=zO(e),{host:s,port:a}=qq(e),c=a===null?"":`:${a}`,u={url:`${o}//${s}${c}/`},d=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){de(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),de(_r(u,r.config.emulator)&&_r(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,er(s)?(rs(`${o}//${s}${c}`),is("Auth",!0)):i||Gq()}function zO(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function qq(n){let e=zO(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:gO(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:gO(s)}}}function gO(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function Gq(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var Hd=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ao("not implemented")}_getIdTokenResponse(e){return ao("not implemented")}_linkToIdToken(e,t){return ao("not implemented")}_getReauthenticationResolver(e){return ao("not implemented")}};function Wq(n,e){return I(this,null,function*(){return ho(n,"POST","/v1/accounts:signUp",e)})}function Kq(n,e){return I(this,null,function*(){return qd(n,"POST","/v1/accounts:signInWithPassword",uo(n,e))})}function Yq(n,e){return I(this,null,function*(){return ho(n,"POST","/v1/accounts:sendOobCode",uo(n,e))})}function Qq(n,e){return I(this,null,function*(){return Yq(n,e)})}function Zq(n,e){return I(this,null,function*(){return qd(n,"POST","/v1/accounts:signInWithEmailLink",uo(n,e))})}function Jq(n,e){return I(this,null,function*(){return qd(n,"POST","/v1/accounts:signInWithEmailLink",uo(n,e))})}var $d=class n extends Hd{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new n(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new n(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){return I(this,null,function*(){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return um(e,t,"signInWithPassword",Kq,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return Zq(e,{email:this._email,oobCode:this._password});default:Pi(e,"internal-error")}})}_linkToIdToken(e,t){return I(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return um(e,r,"signUpPassword",Wq,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return Jq(e,{idToken:t,email:this._email,oobCode:this._password});default:Pi(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function hC(n,e){return I(this,null,function*(){return qd(n,"POST","/v1/accounts:signInWithIdp",uo(n,e))})}function Xq(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function eG(n){let e=nl(rl(n)).link,t=e?nl(rl(e)).deep_link_id:null,r=nl(rl(n)).deep_link_id;return(r?nl(rl(r)).link:null)||r||t||e||n}var dm=class n{constructor(e){var t,r,i,o,s,a;let c=nl(rl(e)),u=(t=c.apiKey)!==null&&t!==void 0?t:null,d=(r=c.oobCode)!==null&&r!==void 0?r:null,p=Xq((i=c.mode)!==null&&i!==void 0?i:null);de(u&&d&&p,"argument-error"),this.apiKey=u,this.operation=p,this.code=d,this.continueUrl=(o=c.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=c.lang)!==null&&s!==void 0?s:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let t=eG(e);try{return new n(t)}catch{return null}}};var qO=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return $d._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){let i=dm.parseLink(r);return de(i,"argument-error"),$d._fromEmailAndCode(t,i.code,i.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),hm=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var SC=class extends hm{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function tG(n,e){return I(this,null,function*(){return qd(n,"POST","/v1/accounts:signUp",uo(n,e))})}var ol=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return I(this,null,function*(){let o=yield cs._fromIdTokenResponse(e,r,i),s=mO(r);return new n({user:o,providerId:s,_tokenResponse:r,operationType:t})})}static _forOperation(e,t,r){return I(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=mO(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})})}};function mO(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var TC=class n extends Dn{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function GO(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?TC._fromErrorAndOperation(n,o,e,r):o})}function nG(n,e,t=!1){return I(this,null,function*(){let r=yield Bd(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return ol._forOperation(n,"link",r)})}function rG(n,e,t=!1){return I(this,null,function*(){let{auth:r}=n;if(Zt(r.app))return Promise.reject(lo(r));let i="reauthenticate";try{let o=yield Bd(n,GO(r,i,e,n),t);de(o.idToken,r,"internal-error");let s=VC(o.idToken);de(s,r,"internal-error");let{sub:a}=s;return de(n.uid===a,r,"user-mismatch"),ol._forOperation(n,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&Pi(r,"user-mismatch"),o}})}function WO(n,e,t=!1){return I(this,null,function*(){if(Zt(n.app))return Promise.reject(lo(n));let r="signIn",i=yield GO(n,r,e),o=yield ol._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(o.user)),o})}function HC(n,e){return I(this,null,function*(){return WO(us(n),e)})}function iG(n,e,t){var r;de(((r=t.url)===null||r===void 0?void 0:r.length)>0,n,"invalid-continue-uri"),de(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),de(typeof t.linkDomain>"u"||t.linkDomain.length>0,n,"invalid-hosting-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.linkDomain=t.linkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(de(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(de(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}function KO(n){return I(this,null,function*(){let e=us(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function $C(n,e,t){return I(this,null,function*(){let r=us(n),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};t&&iG(r,i,t),yield um(r,i,"getOobCode",Qq,"EMAIL_PASSWORD_PROVIDER")})}function zC(n,e,t){return I(this,null,function*(){if(Zt(n.app))return Promise.reject(lo(n));let r=us(n),s=yield um(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",tG,"EMAIL_PASSWORD_PROVIDER").catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&KO(n),c}),a=yield ol._fromIdTokenResponse(r,"signIn",s);return yield r._updateCurrentUser(a.user),a})}function qC(n,e,t){return Zt(n.app)?Promise.reject(lo(n)):HC(ft(n),qO.credential(e,t)).catch(r=>I(null,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&KO(n),r}))}function Gd(n,e,t,r){return ft(n).onIdTokenChanged(e,t,r)}function GC(n,e,t){return ft(n).beforeAuthStateChanged(e,t)}function vm(n,e,t,r){return ft(n).onAuthStateChanged(e,t,r)}var fm="__sak";var pm=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(fm,"1"),this.storage.removeItem(fm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var oG=1e3,sG=10,aG=(()=>{class n extends pm{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=UO(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&t(r,o,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((a,c,u)=>{this.notifyListeners(a,u)});return}let i=t.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);Vq()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,sG):o()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},oG)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,r){return I(this,null,function*(){yield ko(n.prototype,this,"_set").call(this,t,r),this.localCache[t]=JSON.stringify(r)})}_get(t){return I(this,null,function*(){let r=yield ko(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(r),r})}_remove(t){return I(this,null,function*(){yield ko(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),YO=aG;var cG=(()=>{class n extends pm{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),WC=cG;function lG(n){return Promise.all(n.map(e=>I(null,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var uG=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(o=>o.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){return I(this,null,function*(){let r=t,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let c=Array.from(a).map(d=>I(this,null,function*(){return d(r.origin,s)})),u=yield lG(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:u})})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function QO(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var xC=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){return I(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,c)=>{let u=QO("",20);i.port1.start();let d=setTimeout(()=>{c(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let _=p;if(_.data.eventId===u)switch(_.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(_.data.response);break;default:clearTimeout(d),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:t},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function Ai(){return window}function dG(n){Ai().location.href=n}function ZO(){return typeof Ai().WorkerGlobalScope<"u"&&typeof Ai().importScripts=="function"}function hG(){return I(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function fG(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function pG(){return ZO()?self:null}var JO="firebaseLocalStorageDb",gG=1,gm="firebaseLocalStorage",XO="fbase_key",Ca=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function ym(n,e){return n.transaction([gm],e?"readwrite":"readonly").objectStore(gm)}function mG(){let n=indexedDB.deleteDatabase(JO);return new Ca(n).toPromise()}function MC(){let n=indexedDB.open(JO,gG);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(gm,{keyPath:XO})}catch(i){t(i)}}),n.addEventListener("success",()=>I(null,null,function*(){let r=n.result;r.objectStoreNames.contains(gm)?e(r):(r.close(),yield mG(),e(yield MC()))}))})}function _O(n,e,t){return I(this,null,function*(){let r=ym(n,!0).put({[XO]:e,value:t});return new Ca(r).toPromise()})}function _G(n,e){return I(this,null,function*(){let t=ym(n,!1).get(e),r=yield new Ca(t).toPromise();return r===void 0?null:r.value})}function vO(n,e){let t=ym(n,!0).delete(e);return new Ca(t).toPromise()}var vG=800,yG=3,wG=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return I(this,null,function*(){return this.db?this.db:(this.db=yield MC(),this.db)})}_withRetries(t){return I(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield t(i)}catch(i){if(r++>yG)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return I(this,null,function*(){return ZO()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return I(this,null,function*(){this.receiver=uG._getInstance(pG()),this.receiver._subscribe("keyChanged",(t,r)=>I(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(t,r)=>I(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return I(this,null,function*(){var t,r;if(this.activeServiceWorker=yield hG(),!this.activeServiceWorker)return;this.sender=new xC(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return I(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||fG()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return I(this,null,function*(){try{if(!indexedDB)return!1;let t=yield MC();return yield _O(t,fm,"1"),yield vO(t,fm),!0}catch{}return!1})}_withPendingWrite(t){return I(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,r){return I(this,null,function*(){return this._withPendingWrite(()=>I(this,null,function*(){return yield this._withRetries(i=>_O(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)}))})}_get(t){return I(this,null,function*(){let r=yield this._withRetries(i=>_G(i,t));return this.localCache[t]=r,r})}_remove(t){return I(this,null,function*(){return this._withPendingWrite(()=>I(this,null,function*(){return yield this._withRetries(r=>vO(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return I(this,null,function*(){let t=yield this._withRetries(o=>{let s=ym(o,!1).getAll();return new Ca(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:o,value:s}of t)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>I(this,null,function*(){return this._poll()}),vG)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),eN=wG;var Qhe=HO("rcb"),Zhe=new ba(3e4,6e4);function bG(n,e){return e?co(e):(de(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var zd=class extends Hd{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return hC(e,this._buildIdpRequest())}_linkToIdToken(e,t){return hC(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return hC(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function CG(n){return WO(n.auth,new zd(n),n.bypassAuthState)}function EG(n){let{auth:e,user:t}=n;return de(t,e,"internal-error"),rG(t,new zd(n),n.bypassAuthState)}function IG(n){return I(this,null,function*(){let{auth:e,user:t}=n;return de(t,e,"internal-error"),nG(t,new zd(n),n.bypassAuthState)})}var DC=class{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>I(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return I(this,null,function*(){let{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let c={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(u){this.reject(u)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return CG;case"linkViaPopup":case"linkViaRedirect":return IG;case"reauthViaPopup":case"reauthViaRedirect":return EG;default:Pi(this.auth,"internal-error")}}resolve(e){ls(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ls(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var Jhe=new ba(2e3,1e4);var SG="pendingRedirect",nm=new Map,AC=class n extends DC{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){return I(this,null,function*(){let e=nm.get(this.auth._key());if(!e){try{let r=(yield TG(this.resolver,this.auth))?yield ko(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}nm.set(this.auth._key(),e)}return this.bypassAuthState||nm.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return I(this,null,function*(){if(e.type==="signInViaRedirect")return ko(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,ko(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return I(this,null,function*(){})}cleanUp(){}};function TG(n,e){return I(this,null,function*(){let t=DG(e),r=MG(n);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(t))==="true";return yield r._remove(t),i})}function xG(n,e){nm.set(n._key(),e)}function MG(n){return co(n._redirectPersistence)}function DG(n){return tm(SG,n.config.apiKey,n.name)}function AG(n,e,t=!1){return I(this,null,function*(){if(Zt(n.app))return Promise.reject(lo(n));let r=us(n),i=bG(r,e),s=yield new AC(r,i,t).execute();return s&&!t&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var PG=10*60*1e3,PC=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!kG(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!tN(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(wa(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=PG&&this.cachedEventUids.clear(),this.cachedEventUids.has(yO(e))}saveEventToCache(e){this.cachedEventUids.add(yO(e)),this.lastProcessedEventTime=Date.now()}};function yO(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function tN({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function kG(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return tN(n);default:return!1}}function RG(t){return I(this,arguments,function*(n,e={}){return ho(n,"GET","/v1/projects",e)})}var OG=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,NG=/^https?/;function FG(n){return I(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield RG(n);for(let t of e)try{if(VG(t))return}catch{}Pi(n,"unauthorized-domain")})}function VG(n){let e=pC(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let s=new URL(n);return s.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===r}if(!NG.test(t))return!1;if(OG.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var LG=new ba(3e4,6e4);function wO(){let n=Ai().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function UG(n){return new Promise((e,t)=>{var r,i,o;function s(){wO(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{wO(),t(wa(n,"network-request-failed"))},timeout:LG.get()})}if(!((i=(r=Ai().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Ai().gapi)===null||o===void 0)&&o.load)s();else{let a=HO("iframefcb");return Ai()[a]=()=>{gapi.load?s():t(wa(n,"network-request-failed"))},jO(`${Hq()}?onload=${a}`).catch(c=>t(c))}}).catch(e=>{throw rm=null,e})}var rm=null;function BG(n){return rm=rm||UG(n),rm}var jG=new ba(5e3,15e3),HG="__/auth/iframe",$G="emulator/auth/iframe",zG={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},qG=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function GG(n){let e=n.config;de(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?NC(e,$G):`https://${n.config.authDomain}/${HG}`,r={apiKey:e.apiKey,appName:n.name,v:yr},i=qG.get(n.config.apiHost);i&&(r.eid=i);let o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${_a(r).slice(1)}`}function WG(n){return I(this,null,function*(){let e=yield BG(n),t=Ai().gapi;return de(t,n,"internal-error"),e.open({where:document.body,url:GG(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:zG,dontclear:!0},r=>new Promise((i,o)=>I(null,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=wa(n,"network-request-failed"),a=Ai().setTimeout(()=>{o(s)},jG.get());function c(){Ai().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{o(s)})})))})}var KG={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},YG=500,QG=600,ZG="_blank",JG="http://localhost",mm=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function XG(n,e,t,r=YG,i=QG){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",c=Object.assign(Object.assign({},KG),{width:r.toString(),height:i.toString(),top:o,left:s}),u=Yt().toLowerCase();t&&(a=OO(u)?ZG:t),kO(u)&&(e=e||JG,c.scrollbars="yes");let d=Object.entries(c).reduce((_,[y,v])=>`${_}${y}=${v},`,"");if(Fq(u)&&a!=="_self")return eW(e||"",a),new mm(null);let p=window.open(e||"",a,d);de(p,n,"popup-blocked");try{p.focus()}catch{}return new mm(p)}function eW(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var tW="__/auth/handler",nW="emulator/auth/handler",rW=encodeURIComponent("fac");function bO(n,e,t,r,i,o){return I(this,null,function*(){de(n.config.authDomain,n,"auth-domain-config-required"),de(n.config.apiKey,n,"invalid-api-key");let s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:yr,eventId:i};if(e instanceof hm){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",Dd(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[d,p]of Object.entries(o||{}))s[d]=p}if(e instanceof SC){let d=e.getScopes().filter(p=>p!=="");d.length>0&&(s.scopes=d.join(","))}n.tenantId&&(s.tid=n.tenantId);let a=s;for(let d of Object.keys(a))a[d]===void 0&&delete a[d];let c=yield n._getAppCheckToken(),u=c?`#${rW}=${encodeURIComponent(c)}`:"";return`${iW(n)}?${_a(a).slice(1)}${u}`})}function iW({config:n}){return n.emulator?NC(n,nW):`https://${n.authDomain}/${tW}`}var fC="webStorageSupport",kC=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=WC,this._completeRedirectFn=AG,this._overrideRedirectResult=xG}_openPopup(e,t,r,i){return I(this,null,function*(){var o;ls((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield bO(e,t,r,pC(),i);return XG(e,s,QO())})}_openRedirect(e,t,r,i){return I(this,null,function*(){yield this._originValidation(e);let o=yield bO(e,t,r,pC(),i);return dG(o),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(ls(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){return I(this,null,function*(){let t=yield WG(e),r=new PC(e);return t.register("authEvent",i=>(de(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(fC,{type:fC},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[fC];s!==void 0&&t(!!s),Pi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=FG(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return UO()||RO()||UC()}},nN=kC;var CO="@firebase/auth",EO="1.10.8";var RC=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return I(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){de(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function oW(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function sW(n){An(new Wt("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;de(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:BO(n)},u=new bC(r,i,o,c);return zq(u,t),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),An(new Wt("auth-internal",e=>{let t=us(e.getProvider("auth").getImmediate());return(r=>new RC(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),We(CO,EO,oW(n)),We(CO,EO,"esm2017")}var aW=5*60,cW=Hb("authIdTokenMaxAge")||aW,IO=null,lW=n=>e=>I(null,null,function*(){let t=e&&(yield e.getIdTokenResult()),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>cW)return;let i=t?.token;IO!==i&&(IO=i,yield fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function KC(n=Wr()){let e=xi(n,"auth");if(e.isInitialized())return e.getImmediate();let t=BC(n,{popupRedirectResolver:nN,persistence:[eN,YO,WC]}),r=Hb("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=lW(o.toString());GC(t,s,()=>s(t.currentUser)),Gd(t,a=>s(a))}}let i=Bb("auth");return i&&jC(t,`http://${i}`),t}function uW(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}Bq({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=wa("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",uW().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});sW("Browser");function iN(n){return new xe(function(e){var t=vm(n,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:t}})}function oN(n){return new xe(function(e){var t=Gd(n,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:t}})}var sN="auth",Pn=class{constructor(e){return e}},fo=class{constructor(){return Mi(sN)}};var YC=new J("angularfire2.auth-instances");function ZW(n,e){let t=so(sN,n,e);return t&&new Pn(t)}function JW(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Pn(r)}}var XW={provide:fo,deps:[[new bt,YC]]},eK={provide:Pn,useFactory:ZW,deps:[[new bt,YC],tr]};function aN(n,...e){return We("angularfire",wr.full,"auth"),Tn([eK,XW,{provide:YC,useFactory:JW(n),multi:!0,deps:[Ve,_t,br,Kr,[new bt,Di],...e]}])}var cN=rt(iN,!0);var lN=rt(oN,!0);var uN=rt(zC,!0,2);var dN=rt(KC,!0);var QC=rt($C,!0,2);var hN=rt(qC,!0,2);function tK(n,e){n&1&&($(),V(0,"path",42))}function nK(n,e){n&1&&($(),V(0,"path",43))}function rK(n,e){if(n&1&&(h(0,"div",44),w(1),g()),n&2){let t=j();C(),Be(" ",t.errorMessage," ")}}var wm=class n{constructor(e,t){this.router=e;this.auth=t}email="";password="";rememberMe=!1;showPassword=!1;attempted=!1;errorMessage=null;togglePassword(){this.showPassword=!this.showPassword}onLogin(){return I(this,null,function*(){if(this.attempted=!0,this.errorMessage=null,!this.email||!this.password){this.errorMessage="Por favor, preencha o e-mail e a senha.";return}try{let e=yield hN(this.auth,this.email,this.password);console.log("Login bem-sucedido!",e.user),this.router.navigate(["/home"])}catch(e){switch(console.error("Erro no login:",e),e.code){case"auth/user-not-found":case"auth/wrong-password":this.errorMessage="E-mail ou senha inv\xE1lidos.";break;case"auth/invalid-email":this.errorMessage="Formato de e-mail inv\xE1lido.";break;case"auth/user-disabled":this.errorMessage="Esta conta foi desativada.";break;default:this.errorMessage="Ocorreu um erro inesperado. Tente novamente.";break}}})}static \u0275fac=function(t){return new(t||n)(ie(Ye),ie(Pn))};static \u0275cmp=Tt({type:n,selectors:[["app-login"]],decls:61,vars:18,consts:[["role","main",1,"login-wrapper"],[1,"login-container"],[1,"login-header"],[1,"logo-section"],["src","assets/logo.png","alt","Logo da empresa",1,"logo-image"],[1,"welcome-content"],[1,"welcome-title"],[1,"welcome-subtitle"],[1,"login-main"],["novalidate","",1,"login-form",3,"ngSubmit"],[1,"form-fieldset"],[1,"sr-only"],[1,"form-group"],["for","email",1,"form-label"],["aria-label","campo obrigat\xF3rio",1,"required-indicator"],[1,"input-wrapper"],["type","email","id","email","name","email","placeholder","Digite seu e-mail","autocomplete","email","aria-describedby","email-error","required","",1,"form-input",3,"ngModelChange","ngModel"],["aria-hidden","true",1,"input-icon"],["width","20","height","20","viewBox","0 0 24 24","fill","currentColor"],["d","M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"],["id","email-error",1,"error-message"],["for","password",1,"form-label"],["id","password","name","password","placeholder","Digite sua senha","autocomplete","current-password","aria-describedby","password-error","required","",1,"form-input",3,"ngModelChange","type","ngModel"],["type","button","tabindex","0",1,"password-toggle",3,"click"],["d","M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z",4,"ngIf"],["d","M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z",4,"ngIf"],["id","password-error",1,"error-message"],[1,"form-options"],[1,"checkbox-wrapper"],["type","checkbox","name","rememberMe",1,"checkbox-input",3,"ngModelChange","ngModel"],["aria-hidden","true",1,"checkbox-custom"],[1,"checkbox-label"],["routerLink","/esqueci-senha","tabindex","0",1,"forgot-link"],["class","error-message visible firebase-error",4,"ngIf"],["type","submit",1,"login-button",3,"disabled"],[1,"button-content"],["width","20","height","20","viewBox","0 0 24 24","fill","currentColor",1,"button-icon"],["d","M10,17V14H3V10H10V7L15,12L10,17M10,2H19A2,2 0 0,1 21,4V20A2,2 0 0,1 19,22H10A2,2 0 0,1 8,20V18H10V20H19V4H10V6H8V4A2,2 0 0,1 10,2Z"],["id","login-button-help",1,"sr-only"],[1,"login-footer"],[1,"signup-text"],["routerLink","/cadastro","tabindex","0",1,"signup-link"],["d","M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"],["d","M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"],[1,"error-message","visible","firebase-error"]],template:function(t,r){t&1&&(h(0,"div",0)(1,"div",1)(2,"header",2)(3,"div",3),V(4,"img",4),g(),h(5,"div",5)(6,"h1",6),w(7,"Bem-vindo de volta"),g(),h(8,"p",7),w(9,"Fa\xE7a login para acessar o sistema de gest\xE3o"),g()()(),h(10,"main",8)(11,"form",9),H("ngSubmit",function(){return r.onLogin()}),h(12,"fieldset",10)(13,"legend",11),w(14,"Dados de acesso"),g(),h(15,"div",12)(16,"label",13),w(17," E-mail "),h(18,"span",14),w(19,"*"),g()(),h(20,"div",15)(21,"input",16),we("ngModelChange",function(o){return Ee(r.email,o)||(r.email=o),o}),g(),h(22,"div",17),$(),h(23,"svg",18),V(24,"path",19),g()()(),Y(),h(25,"div",20),w(26," Por favor, digite um e-mail v\xE1lido "),g()(),h(27,"div",12)(28,"label",21),w(29," Senha "),h(30,"span",14),w(31,"*"),g()(),h(32,"div",15)(33,"input",22),we("ngModelChange",function(o){return Ee(r.password,o)||(r.password=o),o}),g(),h(34,"button",23),H("click",function(){return r.togglePassword()}),$(),h(35,"svg",18),oe(36,tK,1,0,"path",24)(37,nK,1,0,"path",25),g()()(),Y(),h(38,"div",26),w(39," Por favor, digite sua senha "),g()(),h(40,"div",27)(41,"label",28)(42,"input",29),we("ngModelChange",function(o){return Ee(r.rememberMe,o)||(r.rememberMe=o),o}),g(),V(43,"span",30),h(44,"span",31),w(45,"Lembrar de mim"),g()(),h(46,"a",32),w(47,"Esqueceu a senha?"),g()(),oe(48,rK,2,1,"div",33),h(49,"button",34)(50,"span",35),$(),h(51,"svg",36),V(52,"path",37),g(),w(53," Entrar no Sistema "),g()(),Y(),h(54,"div",38),w(55," Preencha e-mail e senha para habilitar o bot\xE3o de login "),g()()(),h(56,"footer",39)(57,"p",40),w(58," N\xE3o tem uma conta? "),h(59,"a",41),w(60," Cadastre-se gratuitamente "),g()()()()()()),t&2&&(C(21),_e("error",!r.email&&r.attempted),ye("ngModel",r.email),C(4),_e("visible",!r.email&&r.attempted),C(8),_e("error",!r.password&&r.attempted),W("type",r.showPassword?"text":"password"),ye("ngModel",r.password),C(),ae("aria-label",r.showPassword?"Ocultar senha":"Mostrar senha"),C(2),W("ngIf",!r.showPassword),C(),W("ngIf",r.showPassword),C(),_e("visible",!r.password&&r.attempted),C(4),ye("ngModel",r.rememberMe),C(6),W("ngIf",r.errorMessage),C(),W("disabled",!r.email||!r.password),ae("aria-describedby",!r.email||!r.password?"login-button-help":null))},dependencies:[mr,es,pr,pa,gr,Xo,Ci,Xn,io,Mt,qt,fr],styles:['@charset "UTF-8";.login-wrapper[_ngcontent-%COMP%]{min-height:100vh;background:linear-gradient(135deg,var(--color-background-dark) 0%,var(--color-background-medium) 100%);display:flex;align-items:flex-start;justify-content:center;padding:20px;position:relative;overflow-y:auto}.login-wrapper[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:radial-gradient(circle at 30% 20%,rgba(29,161,242,.1) 0%,transparent 50%);pointer-events:none}.login-container[_ngcontent-%COMP%]{background-color:var(--color-background-light);border:1px solid var(--color-border);border-radius:12px;box-shadow:0 8px 25px #00000026;width:100%;max-width:420px;overflow:hidden;position:relative;z-index:1;margin:20px 0}.login-header[_ngcontent-%COMP%]{padding:40px 32px 32px;text-align:center;border-bottom:1px solid var(--color-border);background:linear-gradient(180deg,var(--color-background-light) 0%,var(--color-background-medium) 100%)}.logo-section[_ngcontent-%COMP%]{margin-bottom:24px}.logo-section[_ngcontent-%COMP%]   .logo-image[_ngcontent-%COMP%]{display:block;max-width:200px;width:100%;height:auto;margin:0 auto}.logo-section[_ngcontent-%COMP%]   .logo-placeholder[_ngcontent-%COMP%]{background:linear-gradient(45deg,var(--color-accent-blue),#1a91da);color:#fff;padding:16px 32px;border-radius:12px;font-weight:700;font-size:20px;letter-spacing:3px;font-family:Arial Black,sans-serif;text-shadow:0 2px 4px rgba(0,0,0,.3);display:inline-block;transition:all .3s ease}.logo-section[_ngcontent-%COMP%]   .logo-placeholder[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #00000026}.welcome-content[_ngcontent-%COMP%]   .welcome-title[_ngcontent-%COMP%]{color:var(--color-text-primary);font-size:28px;font-weight:700;margin:0 0 8px;line-height:1.2}.welcome-content[_ngcontent-%COMP%]   .welcome-subtitle[_ngcontent-%COMP%]{color:var(--color-text-secondary);font-size:16px;margin:0;line-height:1.4}.login-main[_ngcontent-%COMP%]{padding:32px}.form-fieldset[_ngcontent-%COMP%]{border:none;margin:0;padding:0}.form-group[_ngcontent-%COMP%]{margin-bottom:24px}.form-group[_ngcontent-%COMP%]:last-of-type{margin-bottom:32px}.form-label[_ngcontent-%COMP%]{display:block;color:var(--color-text-primary);font-size:14px;font-weight:600;margin-bottom:8px;line-height:1.4}.form-label[_ngcontent-%COMP%]   .required-indicator[_ngcontent-%COMP%]{color:#ff4757;margin-left:4px}.input-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.form-input[_ngcontent-%COMP%]{width:100%;padding:16px 48px 16px 16px;background-color:var(--color-background-dark);border:2px solid var(--color-border);border-radius:8px;color:var(--color-text-primary);font-size:16px;line-height:1.4;transition:all .3s ease}.form-input[_ngcontent-%COMP%]::placeholder{color:var(--color-text-secondary);opacity:.8}.form-input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--color-accent-blue);box-shadow:0 0 0 3px #1da1f21a;background-color:var(--color-background-medium)}.form-input.error[_ngcontent-%COMP%]{border-color:#ff4757;box-shadow:0 0 0 3px #ff47571a}.form-input[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.input-icon[_ngcontent-%COMP%]{position:absolute;right:16px;color:var(--color-text-secondary);pointer-events:none;transition:all .3s ease}.form-input[_ngcontent-%COMP%]:focus + .input-icon[_ngcontent-%COMP%]{color:var(--color-accent-blue)}.password-toggle[_ngcontent-%COMP%]{position:absolute;right:16px;background:none;border:none;color:var(--color-text-secondary);cursor:pointer;padding:4px;border-radius:4px;transition:all .3s ease}.password-toggle[_ngcontent-%COMP%]:hover, .password-toggle[_ngcontent-%COMP%]:focus{color:var(--color-text-primary);background-color:var(--color-background-medium);outline:2px solid var(--color-accent-blue);outline-offset:2px}.error-message[_ngcontent-%COMP%]{color:#ff4757;font-size:12px;margin-top:6px;opacity:0;transform:translateY(-4px);transition:all .3s ease}.error-message.visible[_ngcontent-%COMP%]{opacity:1;transform:translateY(0)}.form-options[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:32px;flex-wrap:wrap;gap:16px}.checkbox-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;cursor:pointer;-webkit-user-select:none;user-select:none}.checkbox-wrapper[_ngcontent-%COMP%]   .checkbox-input[_ngcontent-%COMP%]{position:absolute;opacity:0}.checkbox-wrapper[_ngcontent-%COMP%]   .checkbox-input[_ngcontent-%COMP%]:checked + .checkbox-custom[_ngcontent-%COMP%]{background-color:var(--color-accent-blue);border-color:var(--color-accent-blue)}.checkbox-wrapper[_ngcontent-%COMP%]   .checkbox-input[_ngcontent-%COMP%]:checked + .checkbox-custom[_ngcontent-%COMP%]:after{opacity:1;transform:scale(1)}.checkbox-wrapper[_ngcontent-%COMP%]   .checkbox-input[_ngcontent-%COMP%]:focus + .checkbox-custom[_ngcontent-%COMP%]{outline:2px solid var(--color-accent-blue);outline-offset:2px}.checkbox-wrapper[_ngcontent-%COMP%]   .checkbox-custom[_ngcontent-%COMP%]{width:18px;height:18px;border:2px solid var(--color-border);border-radius:4px;margin-right:10px;position:relative;transition:all .3s ease;display:flex;align-items:center;justify-content:center;flex-shrink:0}.checkbox-wrapper[_ngcontent-%COMP%]   .checkbox-custom[_ngcontent-%COMP%]:after{content:"\\2713";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%) scale(0);color:#fff;font-size:11px;font-weight:700;opacity:0;transition:all .3s ease;line-height:1}.checkbox-wrapper[_ngcontent-%COMP%]   .checkbox-label[_ngcontent-%COMP%]{color:var(--color-text-secondary);font-size:14px;line-height:1.4}.forgot-link[_ngcontent-%COMP%]{color:var(--color-accent-blue);text-decoration:none;font-size:14px;font-weight:500;transition:all .3s ease}.forgot-link[_ngcontent-%COMP%]:hover, .forgot-link[_ngcontent-%COMP%]:focus{text-decoration:underline;outline:2px solid var(--color-accent-blue);outline-offset:2px;border-radius:4px;padding:2px 4px}.login-button[_ngcontent-%COMP%]{width:100%;padding:16px 24px;background:linear-gradient(135deg,var(--color-accent-blue) 0%,#1a91da 100%);color:#fff;border:none;border-radius:8px;font-size:16px;font-weight:600;cursor:pointer;transition:all .3s ease;position:relative;overflow:hidden}.login-button[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.2),transparent);transition:left .5s}.login-button[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 8px 25px #00000026}.login-button[_ngcontent-%COMP%]:hover:not(:disabled):before{left:100%}.login-button[_ngcontent-%COMP%]:focus{outline:3px solid rgba(29,161,242,.3);outline-offset:2px}.login-button[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(0)}.login-button[_ngcontent-%COMP%]:disabled{background:var(--color-text-secondary);cursor:not-allowed;transform:none}.login-button[_ngcontent-%COMP%]:disabled:before{display:none}.button-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:8px}.button-icon[_ngcontent-%COMP%]{transition:all .3s ease}.login-button[_ngcontent-%COMP%]:hover:not(:disabled)   .button-icon[_ngcontent-%COMP%]{transform:translate(2px)}.login-footer[_ngcontent-%COMP%]{padding-top:24px;border-top:1px solid var(--color-border);text-align:center}.signup-text[_ngcontent-%COMP%]{color:var(--color-text-secondary);font-size:14px;margin:0;line-height:1.4}.signup-link[_ngcontent-%COMP%]{color:var(--color-accent-blue);text-decoration:none;font-weight:600;transition:all .3s ease}.signup-link[_ngcontent-%COMP%]:hover, .signup-link[_ngcontent-%COMP%]:focus{text-decoration:underline;outline:2px solid var(--color-accent-blue);outline-offset:2px;border-radius:4px;padding:2px 4px}.sr-only[_ngcontent-%COMP%]{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}@media (max-width: 768px){.login-wrapper[_ngcontent-%COMP%]{padding:16px}.logo-section[_ngcontent-%COMP%]   .logo-image[_ngcontent-%COMP%]{max-width:160px}.login-container[_ngcontent-%COMP%]{max-width:100%}.login-header[_ngcontent-%COMP%]{padding:32px 24px 24px}.login-main[_ngcontent-%COMP%]{padding:24px}.welcome-title[_ngcontent-%COMP%]{font-size:24px}.welcome-subtitle[_ngcontent-%COMP%]{font-size:14px}.form-options[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:12px}}@media (max-width: 480px){.login-wrapper[_ngcontent-%COMP%]{padding:12px}.login-header[_ngcontent-%COMP%]{padding:24px 20px 20px}.login-main[_ngcontent-%COMP%]{padding:20px}.welcome-title[_ngcontent-%COMP%]{font-size:22px}.form-input[_ngcontent-%COMP%]{padding:14px 44px 14px 14px;font-size:16px}.login-button[_ngcontent-%COMP%]{padding:14px 20px}}@media (prefers-contrast: high){.form-input[_ngcontent-%COMP%]{border-width:3px}.login-button[_ngcontent-%COMP%]{border:2px solid var(--color-text-primary)}}@media (prefers-reduced-motion: reduce){*[_ngcontent-%COMP%]{animation-duration:.01ms!important;animation-iteration-count:1!important;transition-duration:.01ms!important}}.error-message.firebase-error[_ngcontent-%COMP%]{margin-top:16px;margin-bottom:0;text-align:center;font-size:14px;font-weight:700;padding:8px 12px;border-radius:6px;background-color:#ff47571a;border:1px solid #ff4757}']})};var fN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},pN={};var go,JC;(function(){var n;function e(P,S){function M(){}M.prototype=S.prototype,P.D=S.prototype,P.prototype=new M,P.prototype.constructor=P,P.C=function(D,T,R){for(var x=Array(arguments.length-2),sn=2;sn<arguments.length;sn++)x[sn-2]=arguments[sn];return S.prototype[T].apply(D,x)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(P,S,M){M||(M=0);var D=Array(16);if(typeof S=="string")for(var T=0;16>T;++T)D[T]=S.charCodeAt(M++)|S.charCodeAt(M++)<<8|S.charCodeAt(M++)<<16|S.charCodeAt(M++)<<24;else for(T=0;16>T;++T)D[T]=S[M++]|S[M++]<<8|S[M++]<<16|S[M++]<<24;S=P.g[0],M=P.g[1],T=P.g[2];var R=P.g[3],x=S+(R^M&(T^R))+D[0]+3614090360&4294967295;S=M+(x<<7&4294967295|x>>>25),x=R+(T^S&(M^T))+D[1]+3905402710&4294967295,R=S+(x<<12&4294967295|x>>>20),x=T+(M^R&(S^M))+D[2]+606105819&4294967295,T=R+(x<<17&4294967295|x>>>15),x=M+(S^T&(R^S))+D[3]+3250441966&4294967295,M=T+(x<<22&4294967295|x>>>10),x=S+(R^M&(T^R))+D[4]+4118548399&4294967295,S=M+(x<<7&4294967295|x>>>25),x=R+(T^S&(M^T))+D[5]+1200080426&4294967295,R=S+(x<<12&4294967295|x>>>20),x=T+(M^R&(S^M))+D[6]+2821735955&4294967295,T=R+(x<<17&4294967295|x>>>15),x=M+(S^T&(R^S))+D[7]+4249261313&4294967295,M=T+(x<<22&4294967295|x>>>10),x=S+(R^M&(T^R))+D[8]+1770035416&4294967295,S=M+(x<<7&4294967295|x>>>25),x=R+(T^S&(M^T))+D[9]+2336552879&4294967295,R=S+(x<<12&4294967295|x>>>20),x=T+(M^R&(S^M))+D[10]+4294925233&4294967295,T=R+(x<<17&4294967295|x>>>15),x=M+(S^T&(R^S))+D[11]+2304563134&4294967295,M=T+(x<<22&4294967295|x>>>10),x=S+(R^M&(T^R))+D[12]+1804603682&4294967295,S=M+(x<<7&4294967295|x>>>25),x=R+(T^S&(M^T))+D[13]+4254626195&4294967295,R=S+(x<<12&4294967295|x>>>20),x=T+(M^R&(S^M))+D[14]+2792965006&4294967295,T=R+(x<<17&4294967295|x>>>15),x=M+(S^T&(R^S))+D[15]+1236535329&4294967295,M=T+(x<<22&4294967295|x>>>10),x=S+(T^R&(M^T))+D[1]+4129170786&4294967295,S=M+(x<<5&4294967295|x>>>27),x=R+(M^T&(S^M))+D[6]+3225465664&4294967295,R=S+(x<<9&4294967295|x>>>23),x=T+(S^M&(R^S))+D[11]+643717713&4294967295,T=R+(x<<14&4294967295|x>>>18),x=M+(R^S&(T^R))+D[0]+3921069994&4294967295,M=T+(x<<20&4294967295|x>>>12),x=S+(T^R&(M^T))+D[5]+3593408605&4294967295,S=M+(x<<5&4294967295|x>>>27),x=R+(M^T&(S^M))+D[10]+38016083&4294967295,R=S+(x<<9&4294967295|x>>>23),x=T+(S^M&(R^S))+D[15]+3634488961&4294967295,T=R+(x<<14&4294967295|x>>>18),x=M+(R^S&(T^R))+D[4]+3889429448&4294967295,M=T+(x<<20&4294967295|x>>>12),x=S+(T^R&(M^T))+D[9]+568446438&4294967295,S=M+(x<<5&4294967295|x>>>27),x=R+(M^T&(S^M))+D[14]+3275163606&4294967295,R=S+(x<<9&4294967295|x>>>23),x=T+(S^M&(R^S))+D[3]+4107603335&4294967295,T=R+(x<<14&4294967295|x>>>18),x=M+(R^S&(T^R))+D[8]+1163531501&4294967295,M=T+(x<<20&4294967295|x>>>12),x=S+(T^R&(M^T))+D[13]+2850285829&4294967295,S=M+(x<<5&4294967295|x>>>27),x=R+(M^T&(S^M))+D[2]+4243563512&4294967295,R=S+(x<<9&4294967295|x>>>23),x=T+(S^M&(R^S))+D[7]+1735328473&4294967295,T=R+(x<<14&4294967295|x>>>18),x=M+(R^S&(T^R))+D[12]+2368359562&4294967295,M=T+(x<<20&4294967295|x>>>12),x=S+(M^T^R)+D[5]+4294588738&4294967295,S=M+(x<<4&4294967295|x>>>28),x=R+(S^M^T)+D[8]+2272392833&4294967295,R=S+(x<<11&4294967295|x>>>21),x=T+(R^S^M)+D[11]+1839030562&4294967295,T=R+(x<<16&4294967295|x>>>16),x=M+(T^R^S)+D[14]+4259657740&4294967295,M=T+(x<<23&4294967295|x>>>9),x=S+(M^T^R)+D[1]+2763975236&4294967295,S=M+(x<<4&4294967295|x>>>28),x=R+(S^M^T)+D[4]+1272893353&4294967295,R=S+(x<<11&4294967295|x>>>21),x=T+(R^S^M)+D[7]+4139469664&4294967295,T=R+(x<<16&4294967295|x>>>16),x=M+(T^R^S)+D[10]+3200236656&4294967295,M=T+(x<<23&4294967295|x>>>9),x=S+(M^T^R)+D[13]+681279174&4294967295,S=M+(x<<4&4294967295|x>>>28),x=R+(S^M^T)+D[0]+3936430074&4294967295,R=S+(x<<11&4294967295|x>>>21),x=T+(R^S^M)+D[3]+3572445317&4294967295,T=R+(x<<16&4294967295|x>>>16),x=M+(T^R^S)+D[6]+76029189&4294967295,M=T+(x<<23&4294967295|x>>>9),x=S+(M^T^R)+D[9]+3654602809&4294967295,S=M+(x<<4&4294967295|x>>>28),x=R+(S^M^T)+D[12]+3873151461&4294967295,R=S+(x<<11&4294967295|x>>>21),x=T+(R^S^M)+D[15]+530742520&4294967295,T=R+(x<<16&4294967295|x>>>16),x=M+(T^R^S)+D[2]+3299628645&4294967295,M=T+(x<<23&4294967295|x>>>9),x=S+(T^(M|~R))+D[0]+4096336452&4294967295,S=M+(x<<6&4294967295|x>>>26),x=R+(M^(S|~T))+D[7]+1126891415&4294967295,R=S+(x<<10&4294967295|x>>>22),x=T+(S^(R|~M))+D[14]+2878612391&4294967295,T=R+(x<<15&4294967295|x>>>17),x=M+(R^(T|~S))+D[5]+4237533241&4294967295,M=T+(x<<21&4294967295|x>>>11),x=S+(T^(M|~R))+D[12]+1700485571&4294967295,S=M+(x<<6&4294967295|x>>>26),x=R+(M^(S|~T))+D[3]+2399980690&4294967295,R=S+(x<<10&4294967295|x>>>22),x=T+(S^(R|~M))+D[10]+4293915773&4294967295,T=R+(x<<15&4294967295|x>>>17),x=M+(R^(T|~S))+D[1]+2240044497&4294967295,M=T+(x<<21&4294967295|x>>>11),x=S+(T^(M|~R))+D[8]+1873313359&4294967295,S=M+(x<<6&4294967295|x>>>26),x=R+(M^(S|~T))+D[15]+4264355552&4294967295,R=S+(x<<10&4294967295|x>>>22),x=T+(S^(R|~M))+D[6]+2734768916&4294967295,T=R+(x<<15&4294967295|x>>>17),x=M+(R^(T|~S))+D[13]+1309151649&4294967295,M=T+(x<<21&4294967295|x>>>11),x=S+(T^(M|~R))+D[4]+4149444226&4294967295,S=M+(x<<6&4294967295|x>>>26),x=R+(M^(S|~T))+D[11]+3174756917&4294967295,R=S+(x<<10&4294967295|x>>>22),x=T+(S^(R|~M))+D[2]+718787259&4294967295,T=R+(x<<15&4294967295|x>>>17),x=M+(R^(T|~S))+D[9]+3951481745&4294967295,P.g[0]=P.g[0]+S&4294967295,P.g[1]=P.g[1]+(T+(x<<21&4294967295|x>>>11))&4294967295,P.g[2]=P.g[2]+T&4294967295,P.g[3]=P.g[3]+R&4294967295}r.prototype.u=function(P,S){S===void 0&&(S=P.length);for(var M=S-this.blockSize,D=this.B,T=this.h,R=0;R<S;){if(T==0)for(;R<=M;)i(this,P,R),R+=this.blockSize;if(typeof P=="string"){for(;R<S;)if(D[T++]=P.charCodeAt(R++),T==this.blockSize){i(this,D),T=0;break}}else for(;R<S;)if(D[T++]=P[R++],T==this.blockSize){i(this,D),T=0;break}}this.h=T,this.o+=S},r.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var S=1;S<P.length-8;++S)P[S]=0;var M=8*this.o;for(S=P.length-8;S<P.length;++S)P[S]=M&255,M/=256;for(this.u(P),P=Array(16),S=M=0;4>S;++S)for(var D=0;32>D;D+=8)P[M++]=this.g[S]>>>D&255;return P};function o(P,S){var M=a;return Object.prototype.hasOwnProperty.call(M,P)?M[P]:M[P]=S(P)}function s(P,S){this.h=S;for(var M=[],D=!0,T=P.length-1;0<=T;T--){var R=P[T]|0;D&&R==S||(M[T]=R,D=!1)}this.g=M}var a={};function c(P){return-128<=P&&128>P?o(P,function(S){return new s([S|0],0>S?-1:0)}):new s([P|0],0>P?-1:0)}function u(P){if(isNaN(P)||!isFinite(P))return p;if(0>P)return O(u(-P));for(var S=[],M=1,D=0;P>=M;D++)S[D]=P/M|0,M*=4294967296;return new s(S,0)}function d(P,S){if(P.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(P.charAt(0)=="-")return O(d(P.substring(1),S));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var M=u(Math.pow(S,8)),D=p,T=0;T<P.length;T+=8){var R=Math.min(8,P.length-T),x=parseInt(P.substring(T,T+R),S);8>R?(R=u(Math.pow(S,R)),D=D.j(R).add(u(x))):(D=D.j(M),D=D.add(u(x)))}return D}var p=c(0),_=c(1),y=c(16777216);n=s.prototype,n.m=function(){if(A(this))return-O(this).m();for(var P=0,S=1,M=0;M<this.g.length;M++){var D=this.i(M);P+=(0<=D?D:4294967296+D)*S,S*=4294967296}return P},n.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(v(this))return"0";if(A(this))return"-"+O(this).toString(P);for(var S=u(Math.pow(P,6)),M=this,D="";;){var T=se(M,S).g;M=G(M,T.j(S));var R=((0<M.g.length?M.g[0]:M.h)>>>0).toString(P);if(M=T,v(M))return R+D;for(;6>R.length;)R="0"+R;D=R+D}},n.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function v(P){if(P.h!=0)return!1;for(var S=0;S<P.g.length;S++)if(P.g[S]!=0)return!1;return!0}function A(P){return P.h==-1}n.l=function(P){return P=G(this,P),A(P)?-1:v(P)?0:1};function O(P){for(var S=P.g.length,M=[],D=0;D<S;D++)M[D]=~P.g[D];return new s(M,~P.h).add(_)}n.abs=function(){return A(this)?O(this):this},n.add=function(P){for(var S=Math.max(this.g.length,P.g.length),M=[],D=0,T=0;T<=S;T++){var R=D+(this.i(T)&65535)+(P.i(T)&65535),x=(R>>>16)+(this.i(T)>>>16)+(P.i(T)>>>16);D=x>>>16,R&=65535,x&=65535,M[T]=x<<16|R}return new s(M,M[M.length-1]&-2147483648?-1:0)};function G(P,S){return P.add(O(S))}n.j=function(P){if(v(this)||v(P))return p;if(A(this))return A(P)?O(this).j(O(P)):O(O(this).j(P));if(A(P))return O(this.j(O(P)));if(0>this.l(y)&&0>P.l(y))return u(this.m()*P.m());for(var S=this.g.length+P.g.length,M=[],D=0;D<2*S;D++)M[D]=0;for(D=0;D<this.g.length;D++)for(var T=0;T<P.g.length;T++){var R=this.i(D)>>>16,x=this.i(D)&65535,sn=P.i(T)>>>16,zn=P.i(T)&65535;M[2*D+2*T]+=x*zn,ee(M,2*D+2*T),M[2*D+2*T+1]+=R*zn,ee(M,2*D+2*T+1),M[2*D+2*T+1]+=x*sn,ee(M,2*D+2*T+1),M[2*D+2*T+2]+=R*sn,ee(M,2*D+2*T+2)}for(D=0;D<S;D++)M[D]=M[2*D+1]<<16|M[2*D];for(D=S;D<2*S;D++)M[D]=0;return new s(M,0)};function ee(P,S){for(;(P[S]&65535)!=P[S];)P[S+1]+=P[S]>>>16,P[S]&=65535,S++}function Z(P,S){this.g=P,this.h=S}function se(P,S){if(v(S))throw Error("division by zero");if(v(P))return new Z(p,p);if(A(P))return S=se(O(P),S),new Z(O(S.g),O(S.h));if(A(S))return S=se(P,O(S)),new Z(O(S.g),S.h);if(30<P.g.length){if(A(P)||A(S))throw Error("slowDivide_ only works with positive integers.");for(var M=_,D=S;0>=D.l(P);)M=De(M),D=De(D);var T=fe(M,1),R=fe(D,1);for(D=fe(D,2),M=fe(M,2);!v(D);){var x=R.add(D);0>=x.l(P)&&(T=T.add(M),R=x),D=fe(D,1),M=fe(M,1)}return S=G(P,T.j(S)),new Z(T,S)}for(T=p;0<=P.l(S);){for(M=Math.max(1,Math.floor(P.m()/S.m())),D=Math.ceil(Math.log(M)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),R=u(M),x=R.j(S);A(x)||0<x.l(P);)M-=D,R=u(M),x=R.j(S);v(R)&&(R=_),T=T.add(R),P=G(P,x)}return new Z(T,P)}n.A=function(P){return se(this,P).h},n.and=function(P){for(var S=Math.max(this.g.length,P.g.length),M=[],D=0;D<S;D++)M[D]=this.i(D)&P.i(D);return new s(M,this.h&P.h)},n.or=function(P){for(var S=Math.max(this.g.length,P.g.length),M=[],D=0;D<S;D++)M[D]=this.i(D)|P.i(D);return new s(M,this.h|P.h)},n.xor=function(P){for(var S=Math.max(this.g.length,P.g.length),M=[],D=0;D<S;D++)M[D]=this.i(D)^P.i(D);return new s(M,this.h^P.h)};function De(P){for(var S=P.g.length+1,M=[],D=0;D<S;D++)M[D]=P.i(D)<<1|P.i(D-1)>>>31;return new s(M,P.h)}function fe(P,S){var M=S>>5;S%=32;for(var D=P.g.length-M,T=[],R=0;R<D;R++)T[R]=0<S?P.i(R+M)>>>S|P.i(R+M+1)<<32-S:P.i(R+M);return new s(T,P.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,JC=pN.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=d,go=pN.Integer=s}).apply(typeof fN<"u"?fN:typeof self<"u"?self:typeof window<"u"?window:{});var bm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},mo={};var XC,iK,sl,e1,Wd,Cm,t1,n1,r1;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,f,m){return l==Array.prototype||l==Object.prototype||(l[f]=m.value),l};function t(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof bm=="object"&&bm];for(var f=0;f<l.length;++f){var m=l[f];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var r=t(this);function i(l,f){if(f)e:{var m=r;l=l.split(".");for(var b=0;b<l.length-1;b++){var k=l[b];if(!(k in m))break e;m=m[k]}l=l[l.length-1],b=m[l],f=f(b),f!=b&&f!=null&&e(m,l,{configurable:!0,writable:!0,value:f})}}function o(l,f){l instanceof String&&(l+="");var m=0,b=!1,k={next:function(){if(!b&&m<l.length){var N=m++;return{value:f(N,l[N]),done:!1}}return b=!0,{done:!0,value:void 0}}};return k[Symbol.iterator]=function(){return k},k}i("Array.prototype.values",function(l){return l||function(){return o(this,function(f,m){return m})}});var s=s||{},a=this||self;function c(l){var f=typeof l;return f=f!="object"?f:l?Array.isArray(l)?"array":f:"null",f=="array"||f=="object"&&typeof l.length=="number"}function u(l){var f=typeof l;return f=="object"&&l!=null||f=="function"}function d(l,f,m){return l.call.apply(l.bind,arguments)}function p(l,f,m){if(!l)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var k=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(k,b),l.apply(f,k)}}return function(){return l.apply(f,arguments)}}function _(l,f,m){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:p,_.apply(null,arguments)}function y(l,f){var m=Array.prototype.slice.call(arguments,1);return function(){var b=m.slice();return b.push.apply(b,arguments),l.apply(this,b)}}function v(l,f){function m(){}m.prototype=f.prototype,l.aa=f.prototype,l.prototype=new m,l.prototype.constructor=l,l.Qb=function(b,k,N){for(var K=Array(arguments.length-2),ot=2;ot<arguments.length;ot++)K[ot-2]=arguments[ot];return f.prototype[k].apply(b,K)}}function A(l){let f=l.length;if(0<f){let m=Array(f);for(let b=0;b<f;b++)m[b]=l[b];return m}return[]}function O(l,f){for(let m=1;m<arguments.length;m++){let b=arguments[m];if(c(b)){let k=l.length||0,N=b.length||0;l.length=k+N;for(let K=0;K<N;K++)l[k+K]=b[K]}else l.push(b)}}class G{constructor(f,m){this.i=f,this.j=m,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function ee(l){return/^[\s\xa0]*$/.test(l)}function Z(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function se(l){return se[" "](l),l}se[" "]=function(){};var De=Z().indexOf("Gecko")!=-1&&!(Z().toLowerCase().indexOf("webkit")!=-1&&Z().indexOf("Edge")==-1)&&!(Z().indexOf("Trident")!=-1||Z().indexOf("MSIE")!=-1)&&Z().indexOf("Edge")==-1;function fe(l,f,m){for(let b in l)f.call(m,l[b],b,l)}function P(l,f){for(let m in l)f.call(void 0,l[m],m,l)}function S(l){let f={};for(let m in l)f[m]=l[m];return f}let M="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(l,f){let m,b;for(let k=1;k<arguments.length;k++){b=arguments[k];for(m in b)l[m]=b[m];for(let N=0;N<M.length;N++)m=M[N],Object.prototype.hasOwnProperty.call(b,m)&&(l[m]=b[m])}}function T(l){var f=1;l=l.split(":");let m=[];for(;0<f&&l.length;)m.push(l.shift()),f--;return l.length&&m.push(l.join(":")),m}function R(l){a.setTimeout(()=>{throw l},0)}function x(){var l=Je;let f=null;return l.g&&(f=l.g,l.g=l.g.next,l.g||(l.h=null),f.next=null),f}class sn{constructor(){this.h=this.g=null}add(f,m){let b=zn.get();b.set(f,m),this.h?this.h.next=b:this.g=b,this.h=b}}var zn=new G(()=>new tu,l=>l.reset());class tu{constructor(){this.next=this.g=this.h=null}set(f,m){this.h=f,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let an,ri=!1,Je=new sn,wt=()=>{let l=a.Promise.resolve(void 0);an=()=>{l.then(Dr)}};var Dr=()=>{for(var l;l=x();){try{l.h.call(l.g)}catch(m){R(m)}var f=zn;f.j(l),100>f.h&&(f.h++,l.next=f.g,f.g=l)}ri=!1};function qn(){this.s=this.s,this.C=this.C}qn.prototype.s=!1,qn.prototype.ma=function(){this.s||(this.s=!0,this.N())},qn.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function At(l,f){this.type=l,this.g=this.target=f,this.defaultPrevented=!1}At.prototype.h=function(){this.defaultPrevented=!0};var Ms=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,f=Object.defineProperty({},"passive",{get:function(){l=!0}});try{let m=()=>{};a.addEventListener("test",m,f),a.removeEventListener("test",m,f)}catch{}return l}();function Ds(l,f){if(At.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var m=this.type=l.type,b=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=f,f=l.relatedTarget){if(De){e:{try{se(f.nodeName);var k=!0;break e}catch{}k=!1}k||(f=null)}}else m=="mouseover"?f=l.fromElement:m=="mouseout"&&(f=l.toElement);this.relatedTarget=f,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:cv[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Ds.aa.h.call(this)}}v(Ds,At);var cv={2:"touch",3:"pen",4:"mouse"};Ds.prototype.h=function(){Ds.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var As="closure_listenable_"+(1e6*Math.random()|0),lv=0;function uv(l,f,m,b,k){this.listener=l,this.proxy=null,this.src=f,this.type=m,this.capture=!!b,this.ha=k,this.key=++lv,this.da=this.fa=!1}function Ka(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function qh(l){this.src=l,this.g={},this.h=0}qh.prototype.add=function(l,f,m,b,k){var N=l.toString();l=this.g[N],l||(l=this.g[N]=[],this.h++);var K=hv(l,f,b,k);return-1<K?(f=l[K],m||(f.fa=!1)):(f=new uv(f,this.src,N,!!b,k),f.fa=m,l.push(f)),f};function dv(l,f){var m=f.type;if(m in l.g){var b=l.g[m],k=Array.prototype.indexOf.call(b,f,void 0),N;(N=0<=k)&&Array.prototype.splice.call(b,k,1),N&&(Ka(f),l.g[m].length==0&&(delete l.g[m],l.h--))}}function hv(l,f,m,b){for(var k=0;k<l.length;++k){var N=l[k];if(!N.da&&N.listener==f&&N.capture==!!m&&N.ha==b)return k}return-1}var fv="closure_lm_"+(1e6*Math.random()|0),pv={};function gT(l,f,m,b,k){if(b&&b.once)return _T(l,f,m,b,k);if(Array.isArray(f)){for(var N=0;N<f.length;N++)gT(l,f[N],m,b,k);return null}return m=vv(m),l&&l[As]?l.K(f,m,u(b)?!!b.capture:!!b,k):mT(l,f,m,!1,b,k)}function mT(l,f,m,b,k,N){if(!f)throw Error("Invalid event type");var K=u(k)?!!k.capture:!!k,ot=mv(l);if(ot||(l[fv]=ot=new qh(l)),m=ot.add(f,m,b,K,N),m.proxy)return m;if(b=g3(),m.proxy=b,b.src=l,b.listener=m,l.addEventListener)Ms||(k=K),k===void 0&&(k=!1),l.addEventListener(f.toString(),b,k);else if(l.attachEvent)l.attachEvent(yT(f.toString()),b);else if(l.addListener&&l.removeListener)l.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return m}function g3(){function l(m){return f.call(l.src,l.listener,m)}let f=m3;return l}function _T(l,f,m,b,k){if(Array.isArray(f)){for(var N=0;N<f.length;N++)_T(l,f[N],m,b,k);return null}return m=vv(m),l&&l[As]?l.L(f,m,u(b)?!!b.capture:!!b,k):mT(l,f,m,!0,b,k)}function vT(l,f,m,b,k){if(Array.isArray(f))for(var N=0;N<f.length;N++)vT(l,f[N],m,b,k);else b=u(b)?!!b.capture:!!b,m=vv(m),l&&l[As]?(l=l.i,f=String(f).toString(),f in l.g&&(N=l.g[f],m=hv(N,m,b,k),-1<m&&(Ka(N[m]),Array.prototype.splice.call(N,m,1),N.length==0&&(delete l.g[f],l.h--)))):l&&(l=mv(l))&&(f=l.g[f.toString()],l=-1,f&&(l=hv(f,m,b,k)),(m=-1<l?f[l]:null)&&gv(m))}function gv(l){if(typeof l!="number"&&l&&!l.da){var f=l.src;if(f&&f[As])dv(f.i,l);else{var m=l.type,b=l.proxy;f.removeEventListener?f.removeEventListener(m,b,l.capture):f.detachEvent?f.detachEvent(yT(m),b):f.addListener&&f.removeListener&&f.removeListener(b),(m=mv(f))?(dv(m,l),m.h==0&&(m.src=null,f[fv]=null)):Ka(l)}}}function yT(l){return l in pv?pv[l]:pv[l]="on"+l}function m3(l,f){if(l.da)l=!0;else{f=new Ds(f,this);var m=l.listener,b=l.ha||l.src;l.fa&&gv(l),l=m.call(b,f)}return l}function mv(l){return l=l[fv],l instanceof qh?l:null}var _v="__closure_events_fn_"+(1e9*Math.random()>>>0);function vv(l){return typeof l=="function"?l:(l[_v]||(l[_v]=function(f){return l.handleEvent(f)}),l[_v])}function cn(){qn.call(this),this.i=new qh(this),this.M=this,this.F=null}v(cn,qn),cn.prototype[As]=!0,cn.prototype.removeEventListener=function(l,f,m,b){vT(this,l,f,m,b)};function En(l,f){var m,b=l.F;if(b)for(m=[];b;b=b.F)m.push(b);if(l=l.M,b=f.type||f,typeof f=="string")f=new At(f,l);else if(f instanceof At)f.target=f.target||l;else{var k=f;f=new At(b,l),D(f,k)}if(k=!0,m)for(var N=m.length-1;0<=N;N--){var K=f.g=m[N];k=Gh(K,b,!0,f)&&k}if(K=f.g=l,k=Gh(K,b,!0,f)&&k,k=Gh(K,b,!1,f)&&k,m)for(N=0;N<m.length;N++)K=f.g=m[N],k=Gh(K,b,!1,f)&&k}cn.prototype.N=function(){if(cn.aa.N.call(this),this.i){var l=this.i,f;for(f in l.g){for(var m=l.g[f],b=0;b<m.length;b++)Ka(m[b]);delete l.g[f],l.h--}}this.F=null},cn.prototype.K=function(l,f,m,b){return this.i.add(String(l),f,!1,m,b)},cn.prototype.L=function(l,f,m,b){return this.i.add(String(l),f,!0,m,b)};function Gh(l,f,m,b){if(f=l.i.g[String(f)],!f)return!0;f=f.concat();for(var k=!0,N=0;N<f.length;++N){var K=f[N];if(K&&!K.da&&K.capture==m){var ot=K.listener,nn=K.ha||K.src;K.fa&&dv(l.i,K),k=ot.call(nn,b)!==!1&&k}}return k&&!b.defaultPrevented}function wT(l,f,m){if(typeof l=="function")m&&(l=_(l,m));else if(l&&typeof l.handleEvent=="function")l=_(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:a.setTimeout(l,f||0)}function bT(l){l.g=wT(()=>{l.g=null,l.i&&(l.i=!1,bT(l))},l.l);let f=l.h;l.h=null,l.m.apply(null,f)}class _3 extends qn{constructor(f,m){super(),this.m=f,this.l=m,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:bT(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function nu(l){qn.call(this),this.h=l,this.g={}}v(nu,qn);var CT=[];function ET(l){fe(l.g,function(f,m){this.g.hasOwnProperty(m)&&gv(f)},l),l.g={}}nu.prototype.N=function(){nu.aa.N.call(this),ET(this)},nu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var yv=a.JSON.stringify,v3=a.JSON.parse,y3=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function wv(){}wv.prototype.h=null;function IT(l){return l.h||(l.h=l.i())}function ST(){}var ru={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function bv(){At.call(this,"d")}v(bv,At);function Cv(){At.call(this,"c")}v(Cv,At);var Ps={},TT=null;function Wh(){return TT=TT||new cn}Ps.La="serverreachability";function xT(l){At.call(this,Ps.La,l)}v(xT,At);function iu(l){let f=Wh();En(f,new xT(f))}Ps.STAT_EVENT="statevent";function MT(l,f){At.call(this,Ps.STAT_EVENT,l),this.stat=f}v(MT,At);function In(l){let f=Wh();En(f,new MT(f,l))}Ps.Ma="timingevent";function DT(l,f){At.call(this,Ps.Ma,l),this.size=f}v(DT,At);function ou(l,f){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},f)}function su(){this.g=!0}su.prototype.xa=function(){this.g=!1};function w3(l,f,m,b,k,N){l.info(function(){if(l.g)if(N)for(var K="",ot=N.split("&"),nn=0;nn<ot.length;nn++){var qe=ot[nn].split("=");if(1<qe.length){var ln=qe[0];qe=qe[1];var un=ln.split("_");K=2<=un.length&&un[1]=="type"?K+(ln+"="+qe+"&"):K+(ln+"=redacted&")}}else K=null;else K=N;return"XMLHTTP REQ ("+b+") [attempt "+k+"]: "+f+`
`+m+`
`+K})}function b3(l,f,m,b,k,N,K){l.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+k+"]: "+f+`
`+m+`
`+N+" "+K})}function Ya(l,f,m,b){l.info(function(){return"XMLHTTP TEXT ("+f+"): "+E3(l,m)+(b?" "+b:"")})}function C3(l,f){l.info(function(){return"TIMEOUT: "+f})}su.prototype.info=function(){};function E3(l,f){if(!l.g)return f;if(!f)return null;try{var m=JSON.parse(f);if(m){for(l=0;l<m.length;l++)if(Array.isArray(m[l])){var b=m[l];if(!(2>b.length)){var k=b[1];if(Array.isArray(k)&&!(1>k.length)){var N=k[0];if(N!="noop"&&N!="stop"&&N!="close")for(var K=1;K<k.length;K++)k[K]=""}}}}return yv(m)}catch{return f}}var Kh={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},AT={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ev;function Yh(){}v(Yh,wv),Yh.prototype.g=function(){return new XMLHttpRequest},Yh.prototype.i=function(){return{}},Ev=new Yh;function Do(l,f,m,b){this.j=l,this.i=f,this.l=m,this.R=b||1,this.U=new nu(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new PT}function PT(){this.i=null,this.g="",this.h=!1}var kT={},Iv={};function Sv(l,f,m){l.L=1,l.v=Xh(Bi(f)),l.m=m,l.P=!0,RT(l,null)}function RT(l,f){l.F=Date.now(),Qh(l),l.A=Bi(l.v);var m=l.A,b=l.R;Array.isArray(b)||(b=[String(b)]),WT(m.i,"t",b),l.C=0,m=l.j.J,l.h=new PT,l.g=dx(l.j,m?f:null,!l.m),0<l.O&&(l.M=new _3(_(l.Y,l,l.g),l.O)),f=l.U,m=l.g,b=l.ca;var k="readystatechange";Array.isArray(k)||(k&&(CT[0]=k.toString()),k=CT);for(var N=0;N<k.length;N++){var K=gT(m,k[N],b||f.handleEvent,!1,f.h||f);if(!K)break;f.g[K.key]=K}f=l.H?S(l.H):{},l.m?(l.u||(l.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,f)):(l.u="GET",l.g.ea(l.A,l.u,null,f)),iu(),w3(l.i,l.u,l.A,l.l,l.R,l.m)}Do.prototype.ca=function(l){l=l.target;let f=this.M;f&&ji(l)==3?f.j():this.Y(l)},Do.prototype.Y=function(l){try{if(l==this.g)e:{let un=ji(this.g);var f=this.g.Ba();let Ja=this.g.Z();if(!(3>un)&&(un!=3||this.g&&(this.h.h||this.g.oa()||ex(this.g)))){this.J||un!=4||f==7||(f==8||0>=Ja?iu(3):iu(2)),Tv(this);var m=this.g.Z();this.X=m;t:if(OT(this)){var b=ex(this.g);l="";var k=b.length,N=ji(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ks(this),au(this);var K="";break t}this.h.i=new a.TextDecoder}for(f=0;f<k;f++)this.h.h=!0,l+=this.h.i.decode(b[f],{stream:!(N&&f==k-1)});b.length=0,this.h.g+=l,this.C=0,K=this.h.g}else K=this.g.oa();if(this.o=m==200,b3(this.i,this.u,this.A,this.l,this.R,un,m),this.o){if(this.T&&!this.K){t:{if(this.g){var ot,nn=this.g;if((ot=nn.g?nn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ee(ot)){var qe=ot;break t}}qe=null}if(m=qe)Ya(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,xv(this,m);else{this.o=!1,this.s=3,In(12),ks(this),au(this);break e}}if(this.P){m=!0;let Ar;for(;!this.J&&this.C<K.length;)if(Ar=I3(this,K),Ar==Iv){un==4&&(this.s=4,In(14),m=!1),Ya(this.i,this.l,null,"[Incomplete Response]");break}else if(Ar==kT){this.s=4,In(15),Ya(this.i,this.l,K,"[Invalid Chunk]"),m=!1;break}else Ya(this.i,this.l,Ar,null),xv(this,Ar);if(OT(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),un!=4||K.length!=0||this.h.h||(this.s=1,In(16),m=!1),this.o=this.o&&m,!m)Ya(this.i,this.l,K,"[Invalid Chunked Response]"),ks(this),au(this);else if(0<K.length&&!this.W){this.W=!0;var ln=this.j;ln.g==this&&ln.ba&&!ln.M&&(ln.j.info("Great, no buffering proxy detected. Bytes received: "+K.length),Rv(ln),ln.M=!0,In(11))}}else Ya(this.i,this.l,K,null),xv(this,K);un==4&&ks(this),this.o&&!this.J&&(un==4?ax(this.j,this):(this.o=!1,Qh(this)))}else j3(this.g),m==400&&0<K.indexOf("Unknown SID")?(this.s=3,In(12)):(this.s=0,In(13)),ks(this),au(this)}}}catch{}finally{}};function OT(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function I3(l,f){var m=l.C,b=f.indexOf(`
`,m);return b==-1?Iv:(m=Number(f.substring(m,b)),isNaN(m)?kT:(b+=1,b+m>f.length?Iv:(f=f.slice(b,b+m),l.C=b+m,f)))}Do.prototype.cancel=function(){this.J=!0,ks(this)};function Qh(l){l.S=Date.now()+l.I,NT(l,l.I)}function NT(l,f){if(l.B!=null)throw Error("WatchDog timer not null");l.B=ou(_(l.ba,l),f)}function Tv(l){l.B&&(a.clearTimeout(l.B),l.B=null)}Do.prototype.ba=function(){this.B=null;let l=Date.now();0<=l-this.S?(C3(this.i,this.A),this.L!=2&&(iu(),In(17)),ks(this),this.s=2,au(this)):NT(this,this.S-l)};function au(l){l.j.G==0||l.J||ax(l.j,l)}function ks(l){Tv(l);var f=l.M;f&&typeof f.ma=="function"&&f.ma(),l.M=null,ET(l.U),l.g&&(f=l.g,l.g=null,f.abort(),f.ma())}function xv(l,f){try{var m=l.j;if(m.G!=0&&(m.g==l||Mv(m.h,l))){if(!l.K&&Mv(m.h,l)&&m.G==3){try{var b=m.Da.g.parse(f)}catch{b=null}if(Array.isArray(b)&&b.length==3){var k=b;if(k[0]==0){e:if(!m.u){if(m.g)if(m.g.F+3e3<l.F)of(m),nf(m);else break e;kv(m),In(18)}}else m.za=k[1],0<m.za-m.T&&37500>k[2]&&m.F&&m.v==0&&!m.C&&(m.C=ou(_(m.Za,m),6e3));if(1>=LT(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else Os(m,11)}else if((l.K||m.g==l)&&of(m),!ee(f))for(k=m.Da.g.parse(f),f=0;f<k.length;f++){let qe=k[f];if(m.T=qe[0],qe=qe[1],m.G==2)if(qe[0]=="c"){m.K=qe[1],m.ia=qe[2];let ln=qe[3];ln!=null&&(m.la=ln,m.j.info("VER="+m.la));let un=qe[4];un!=null&&(m.Aa=un,m.j.info("SVER="+m.Aa));let Ja=qe[5];Ja!=null&&typeof Ja=="number"&&0<Ja&&(b=1.5*Ja,m.L=b,m.j.info("backChannelRequestTimeoutMs_="+b)),b=m;let Ar=l.g;if(Ar){let af=Ar.g?Ar.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(af){var N=b.h;N.g||af.indexOf("spdy")==-1&&af.indexOf("quic")==-1&&af.indexOf("h2")==-1||(N.j=N.l,N.g=new Set,N.h&&(Dv(N,N.h),N.h=null))}if(b.D){let Ov=Ar.g?Ar.g.getResponseHeader("X-HTTP-Session-Id"):null;Ov&&(b.ya=Ov,gt(b.I,b.D,Ov))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-l.F,m.j.info("Handshake RTT: "+m.R+"ms")),b=m;var K=l;if(b.qa=ux(b,b.J?b.ia:null,b.W),K.K){UT(b.h,K);var ot=K,nn=b.L;nn&&(ot.I=nn),ot.B&&(Tv(ot),Qh(ot)),b.g=K}else ox(b);0<m.i.length&&rf(m)}else qe[0]!="stop"&&qe[0]!="close"||Os(m,7);else m.G==3&&(qe[0]=="stop"||qe[0]=="close"?qe[0]=="stop"?Os(m,7):Pv(m):qe[0]!="noop"&&m.l&&m.l.ta(qe),m.v=0)}}iu(4)}catch{}}var S3=class{constructor(l,f){this.g=l,this.map=f}};function FT(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function VT(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function LT(l){return l.h?1:l.g?l.g.size:0}function Mv(l,f){return l.h?l.h==f:l.g?l.g.has(f):!1}function Dv(l,f){l.g?l.g.add(f):l.h=f}function UT(l,f){l.h&&l.h==f?l.h=null:l.g&&l.g.has(f)&&l.g.delete(f)}FT.prototype.cancel=function(){if(this.i=BT(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let l of this.g.values())l.cancel();this.g.clear()}};function BT(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let f=l.i;for(let m of l.g.values())f=f.concat(m.D);return f}return A(l.i)}function T3(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(c(l)){for(var f=[],m=l.length,b=0;b<m;b++)f.push(l[b]);return f}f=[],m=0;for(b in l)f[m++]=l[b];return f}function x3(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(c(l)||typeof l=="string"){var f=[];l=l.length;for(var m=0;m<l;m++)f.push(m);return f}f=[],m=0;for(let b in l)f[m++]=b;return f}}}function jT(l,f){if(l.forEach&&typeof l.forEach=="function")l.forEach(f,void 0);else if(c(l)||typeof l=="string")Array.prototype.forEach.call(l,f,void 0);else for(var m=x3(l),b=T3(l),k=b.length,N=0;N<k;N++)f.call(void 0,b[N],m&&m[N],l)}var HT=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function M3(l,f){if(l){l=l.split("&");for(var m=0;m<l.length;m++){var b=l[m].indexOf("="),k=null;if(0<=b){var N=l[m].substring(0,b);k=l[m].substring(b+1)}else N=l[m];f(N,k?decodeURIComponent(k.replace(/\+/g," ")):"")}}}function Rs(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof Rs){this.h=l.h,Zh(this,l.j),this.o=l.o,this.g=l.g,Jh(this,l.s),this.l=l.l;var f=l.i,m=new uu;m.i=f.i,f.g&&(m.g=new Map(f.g),m.h=f.h),$T(this,m),this.m=l.m}else l&&(f=String(l).match(HT))?(this.h=!1,Zh(this,f[1]||"",!0),this.o=cu(f[2]||""),this.g=cu(f[3]||"",!0),Jh(this,f[4]),this.l=cu(f[5]||"",!0),$T(this,f[6]||"",!0),this.m=cu(f[7]||"")):(this.h=!1,this.i=new uu(null,this.h))}Rs.prototype.toString=function(){var l=[],f=this.j;f&&l.push(lu(f,zT,!0),":");var m=this.g;return(m||f=="file")&&(l.push("//"),(f=this.o)&&l.push(lu(f,zT,!0),"@"),l.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&l.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&l.push("/"),l.push(lu(m,m.charAt(0)=="/"?P3:A3,!0))),(m=this.i.toString())&&l.push("?",m),(m=this.m)&&l.push("#",lu(m,R3)),l.join("")};function Bi(l){return new Rs(l)}function Zh(l,f,m){l.j=m?cu(f,!0):f,l.j&&(l.j=l.j.replace(/:$/,""))}function Jh(l,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);l.s=f}else l.s=null}function $T(l,f,m){f instanceof uu?(l.i=f,O3(l.i,l.h)):(m||(f=lu(f,k3)),l.i=new uu(f,l.h))}function gt(l,f,m){l.i.set(f,m)}function Xh(l){return gt(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function cu(l,f){return l?f?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function lu(l,f,m){return typeof l=="string"?(l=encodeURI(l).replace(f,D3),m&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function D3(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var zT=/[#\/\?@]/g,A3=/[#\?:]/g,P3=/[#\?]/g,k3=/[#\?@]/g,R3=/#/g;function uu(l,f){this.h=this.g=null,this.i=l||null,this.j=!!f}function Ao(l){l.g||(l.g=new Map,l.h=0,l.i&&M3(l.i,function(f,m){l.add(decodeURIComponent(f.replace(/\+/g," ")),m)}))}n=uu.prototype,n.add=function(l,f){Ao(this),this.i=null,l=Qa(this,l);var m=this.g.get(l);return m||this.g.set(l,m=[]),m.push(f),this.h+=1,this};function qT(l,f){Ao(l),f=Qa(l,f),l.g.has(f)&&(l.i=null,l.h-=l.g.get(f).length,l.g.delete(f))}function GT(l,f){return Ao(l),f=Qa(l,f),l.g.has(f)}n.forEach=function(l,f){Ao(this),this.g.forEach(function(m,b){m.forEach(function(k){l.call(f,k,b,this)},this)},this)},n.na=function(){Ao(this);let l=Array.from(this.g.values()),f=Array.from(this.g.keys()),m=[];for(let b=0;b<f.length;b++){let k=l[b];for(let N=0;N<k.length;N++)m.push(f[b])}return m},n.V=function(l){Ao(this);let f=[];if(typeof l=="string")GT(this,l)&&(f=f.concat(this.g.get(Qa(this,l))));else{l=Array.from(this.g.values());for(let m=0;m<l.length;m++)f=f.concat(l[m])}return f},n.set=function(l,f){return Ao(this),this.i=null,l=Qa(this,l),GT(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[f]),this.h+=1,this},n.get=function(l,f){return l?(l=this.V(l),0<l.length?String(l[0]):f):f};function WT(l,f,m){qT(l,f),0<m.length&&(l.i=null,l.g.set(Qa(l,f),A(m)),l.h+=m.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let l=[],f=Array.from(this.g.keys());for(var m=0;m<f.length;m++){var b=f[m];let N=encodeURIComponent(String(b)),K=this.V(b);for(b=0;b<K.length;b++){var k=N;K[b]!==""&&(k+="="+encodeURIComponent(String(K[b]))),l.push(k)}}return this.i=l.join("&")};function Qa(l,f){return f=String(f),l.j&&(f=f.toLowerCase()),f}function O3(l,f){f&&!l.j&&(Ao(l),l.i=null,l.g.forEach(function(m,b){var k=b.toLowerCase();b!=k&&(qT(this,b),WT(this,k,m))},l)),l.j=f}function N3(l,f){let m=new su;if(a.Image){let b=new Image;b.onload=y(Po,m,"TestLoadImage: loaded",!0,f,b),b.onerror=y(Po,m,"TestLoadImage: error",!1,f,b),b.onabort=y(Po,m,"TestLoadImage: abort",!1,f,b),b.ontimeout=y(Po,m,"TestLoadImage: timeout",!1,f,b),a.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=l}else f(!1)}function F3(l,f){let m=new su,b=new AbortController,k=setTimeout(()=>{b.abort(),Po(m,"TestPingServer: timeout",!1,f)},1e4);fetch(l,{signal:b.signal}).then(N=>{clearTimeout(k),N.ok?Po(m,"TestPingServer: ok",!0,f):Po(m,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(k),Po(m,"TestPingServer: error",!1,f)})}function Po(l,f,m,b,k){try{k&&(k.onload=null,k.onerror=null,k.onabort=null,k.ontimeout=null),b(m)}catch{}}function V3(){this.g=new y3}function L3(l,f,m){let b=m||"";try{jT(l,function(k,N){let K=k;u(k)&&(K=yv(k)),f.push(b+N+"="+encodeURIComponent(K))})}catch(k){throw f.push(b+"type="+encodeURIComponent("_badmap")),k}}function du(l){this.l=l.Ub||null,this.j=l.eb||!1}v(du,wv),du.prototype.g=function(){return new ef(this.l,this.j)},du.prototype.i=function(l){return function(){return l}}({});function ef(l,f){cn.call(this),this.D=l,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(ef,cn),n=ef.prototype,n.open=function(l,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=f,this.readyState=1,fu(this)},n.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(f.body=l),(this.D||a).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,hu(this)),this.readyState=0},n.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,fu(this)),this.g&&(this.readyState=3,fu(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;KT(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function KT(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}n.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var f=l.value?l.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!l.done}))&&(this.response=this.responseText+=f)}l.done?hu(this):fu(this),this.readyState==3&&KT(this)}},n.Ra=function(l){this.g&&(this.response=this.responseText=l,hu(this))},n.Qa=function(l){this.g&&(this.response=l,hu(this))},n.ga=function(){this.g&&hu(this)};function hu(l){l.readyState=4,l.l=null,l.j=null,l.v=null,fu(l)}n.setRequestHeader=function(l,f){this.u.append(l,f)},n.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let l=[],f=this.h.entries();for(var m=f.next();!m.done;)m=m.value,l.push(m[0]+": "+m[1]),m=f.next();return l.join(`\r
`)};function fu(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(ef.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function YT(l){let f="";return fe(l,function(m,b){f+=b,f+=":",f+=m,f+=`\r
`}),f}function Av(l,f,m){e:{for(b in m){var b=!1;break e}b=!0}b||(m=YT(m),typeof l=="string"?m!=null&&encodeURIComponent(String(m)):gt(l,f,m))}function Et(l){cn.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(Et,cn);var U3=/^https?$/i,B3=["POST","PUT"];n=Et.prototype,n.Ha=function(l){this.J=l},n.ea=function(l,f,m,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);f=f?f.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ev.g(),this.v=this.o?IT(this.o):IT(Ev),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(f,String(l),!0),this.B=!1}catch(N){QT(this,N);return}if(l=m||"",m=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var k in b)m.set(k,b[k]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(let N of b.keys())m.set(N,b.get(N));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(m.keys()).find(N=>N.toLowerCase()=="content-type"),k=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(B3,f,void 0))||b||k||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[N,K]of m)this.g.setRequestHeader(N,K);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{XT(this),this.u=!0,this.g.send(l),this.u=!1}catch(N){QT(this,N)}};function QT(l,f){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=f,l.m=5,ZT(l),tf(l)}function ZT(l){l.A||(l.A=!0,En(l,"complete"),En(l,"error"))}n.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,En(this,"complete"),En(this,"abort"),tf(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),tf(this,!0)),Et.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?JT(this):this.bb())},n.bb=function(){JT(this)};function JT(l){if(l.h&&typeof s<"u"&&(!l.v[1]||ji(l)!=4||l.Z()!=2)){if(l.u&&ji(l)==4)wT(l.Ea,0,l);else if(En(l,"readystatechange"),ji(l)==4){l.h=!1;try{let K=l.Z();e:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var m;if(!(m=f)){var b;if(b=K===0){var k=String(l.D).match(HT)[1]||null;!k&&a.self&&a.self.location&&(k=a.self.location.protocol.slice(0,-1)),b=!U3.test(k?k.toLowerCase():"")}m=b}if(m)En(l,"complete"),En(l,"success");else{l.m=6;try{var N=2<ji(l)?l.g.statusText:""}catch{N=""}l.l=N+" ["+l.Z()+"]",ZT(l)}}finally{tf(l)}}}}function tf(l,f){if(l.g){XT(l);let m=l.g,b=l.v[0]?()=>{}:null;l.g=null,l.v=null,f||En(l,"ready");try{m.onreadystatechange=b}catch{}}}function XT(l){l.I&&(a.clearTimeout(l.I),l.I=null)}n.isActive=function(){return!!this.g};function ji(l){return l.g?l.g.readyState:0}n.Z=function(){try{return 2<ji(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(l){if(this.g){var f=this.g.responseText;return l&&f.indexOf(l)==0&&(f=f.substring(l.length)),v3(f)}};function ex(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function j3(l){let f={};l=(l.g&&2<=ji(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<l.length;b++){if(ee(l[b]))continue;var m=T(l[b]);let k=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();let N=f[k]||[];f[k]=N,N.push(m)}P(f,function(b){return b.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function pu(l,f,m){return m&&m.internalChannelParams&&m.internalChannelParams[l]||f}function tx(l){this.Aa=0,this.i=[],this.j=new su,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=pu("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=pu("baseRetryDelayMs",5e3,l),this.cb=pu("retryDelaySeedMs",1e4,l),this.Wa=pu("forwardChannelMaxRetries",2,l),this.wa=pu("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new FT(l&&l.concurrentRequestLimit),this.Da=new V3,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=tx.prototype,n.la=8,n.G=1,n.connect=function(l,f,m,b){In(0),this.W=l,this.H=f||{},m&&b!==void 0&&(this.H.OSID=m,this.H.OAID=b),this.F=this.X,this.I=ux(this,null,this.W),rf(this)};function Pv(l){if(nx(l),l.G==3){var f=l.U++,m=Bi(l.I);if(gt(m,"SID",l.K),gt(m,"RID",f),gt(m,"TYPE","terminate"),gu(l,m),f=new Do(l,l.j,f),f.L=2,f.v=Xh(Bi(m)),m=!1,a.navigator&&a.navigator.sendBeacon)try{m=a.navigator.sendBeacon(f.v.toString(),"")}catch{}!m&&a.Image&&(new Image().src=f.v,m=!0),m||(f.g=dx(f.j,null),f.g.ea(f.v)),f.F=Date.now(),Qh(f)}lx(l)}function nf(l){l.g&&(Rv(l),l.g.cancel(),l.g=null)}function nx(l){nf(l),l.u&&(a.clearTimeout(l.u),l.u=null),of(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function rf(l){if(!VT(l.h)&&!l.s){l.s=!0;var f=l.Ga;an||wt(),ri||(an(),ri=!0),Je.add(f,l),l.B=0}}function H3(l,f){return LT(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=f.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=ou(_(l.Ga,l,f),cx(l,l.B)),l.B++,!0)}n.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;let k=new Do(this,this.j,l),N=this.o;if(this.S&&(N?(N=S(N),D(N,this.S)):N=this.S),this.m!==null||this.O||(k.H=N,N=null),this.P)e:{for(var f=0,m=0;m<this.i.length;m++){t:{var b=this.i[m];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(f+=b,4096<f){f=m;break e}if(f===4096||m===this.i.length-1){f=m+1;break e}}f=1e3}else f=1e3;f=ix(this,k,f),m=Bi(this.I),gt(m,"RID",l),gt(m,"CVER",22),this.D&&gt(m,"X-HTTP-Session-Id",this.D),gu(this,m),N&&(this.O?f="headers="+encodeURIComponent(String(YT(N)))+"&"+f:this.m&&Av(m,this.m,N)),Dv(this.h,k),this.Ua&&gt(m,"TYPE","init"),this.P?(gt(m,"$req",f),gt(m,"SID","null"),k.T=!0,Sv(k,m,null)):Sv(k,m,f),this.G=2}}else this.G==3&&(l?rx(this,l):this.i.length==0||VT(this.h)||rx(this))};function rx(l,f){var m;f?m=f.l:m=l.U++;let b=Bi(l.I);gt(b,"SID",l.K),gt(b,"RID",m),gt(b,"AID",l.T),gu(l,b),l.m&&l.o&&Av(b,l.m,l.o),m=new Do(l,l.j,m,l.B+1),l.m===null&&(m.H=l.o),f&&(l.i=f.D.concat(l.i)),f=ix(l,m,1e3),m.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),Dv(l.h,m),Sv(m,b,f)}function gu(l,f){l.H&&fe(l.H,function(m,b){gt(f,b,m)}),l.l&&jT({},function(m,b){gt(f,b,m)})}function ix(l,f,m){m=Math.min(l.i.length,m);var b=l.l?_(l.l.Na,l.l,l):null;e:{var k=l.i;let N=-1;for(;;){let K=["count="+m];N==-1?0<m?(N=k[0].g,K.push("ofs="+N)):N=0:K.push("ofs="+N);let ot=!0;for(let nn=0;nn<m;nn++){let qe=k[nn].g,ln=k[nn].map;if(qe-=N,0>qe)N=Math.max(0,k[nn].g-100),ot=!1;else try{L3(ln,K,"req"+qe+"_")}catch{b&&b(ln)}}if(ot){b=K.join("&");break e}}}return l=l.i.splice(0,m),f.D=l,b}function ox(l){if(!l.g&&!l.u){l.Y=1;var f=l.Fa;an||wt(),ri||(an(),ri=!0),Je.add(f,l),l.v=0}}function kv(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=ou(_(l.Fa,l),cx(l,l.v)),l.v++,!0)}n.Fa=function(){if(this.u=null,sx(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=ou(_(this.ab,this),l)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,In(10),nf(this),sx(this))};function Rv(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function sx(l){l.g=new Do(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var f=Bi(l.qa);gt(f,"RID","rpc"),gt(f,"SID",l.K),gt(f,"AID",l.T),gt(f,"CI",l.F?"0":"1"),!l.F&&l.ja&&gt(f,"TO",l.ja),gt(f,"TYPE","xmlhttp"),gu(l,f),l.m&&l.o&&Av(f,l.m,l.o),l.L&&(l.g.I=l.L);var m=l.g;l=l.ia,m.L=1,m.v=Xh(Bi(f)),m.m=null,m.P=!0,RT(m,l)}n.Za=function(){this.C!=null&&(this.C=null,nf(this),kv(this),In(19))};function of(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function ax(l,f){var m=null;if(l.g==f){of(l),Rv(l),l.g=null;var b=2}else if(Mv(l.h,f))m=f.D,UT(l.h,f),b=1;else return;if(l.G!=0){if(f.o)if(b==1){m=f.m?f.m.length:0,f=Date.now()-f.F;var k=l.B;b=Wh(),En(b,new DT(b,m)),rf(l)}else ox(l);else if(k=f.s,k==3||k==0&&0<f.X||!(b==1&&H3(l,f)||b==2&&kv(l)))switch(m&&0<m.length&&(f=l.h,f.i=f.i.concat(m)),k){case 1:Os(l,5);break;case 4:Os(l,10);break;case 3:Os(l,6);break;default:Os(l,2)}}}function cx(l,f){let m=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(m*=2),m*f}function Os(l,f){if(l.j.info("Error code "+f),f==2){var m=_(l.fb,l),b=l.Xa;let k=!b;b=new Rs(b||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Zh(b,"https"),Xh(b),k?N3(b.toString(),m):F3(b.toString(),m)}else In(2);l.G=0,l.l&&l.l.sa(f),lx(l),nx(l)}n.fb=function(l){l?(this.j.info("Successfully pinged google.com"),In(2)):(this.j.info("Failed to ping google.com"),In(1))};function lx(l){if(l.G=0,l.ka=[],l.l){let f=BT(l.h);(f.length!=0||l.i.length!=0)&&(O(l.ka,f),O(l.ka,l.i),l.h.i.length=0,A(l.i),l.i.length=0),l.l.ra()}}function ux(l,f,m){var b=m instanceof Rs?Bi(m):new Rs(m);if(b.g!="")f&&(b.g=f+"."+b.g),Jh(b,b.s);else{var k=a.location;b=k.protocol,f=f?f+"."+k.hostname:k.hostname,k=+k.port;var N=new Rs(null);b&&Zh(N,b),f&&(N.g=f),k&&Jh(N,k),m&&(N.l=m),b=N}return m=l.D,f=l.ya,m&&f&&gt(b,m,f),gt(b,"VER",l.la),gu(l,b),b}function dx(l,f,m){if(f&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=l.Ca&&!l.pa?new Et(new du({eb:m})):new Et(l.pa),f.Ha(l.J),f}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function hx(){}n=hx.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function sf(){}sf.prototype.g=function(l,f){return new Gn(l,f)};function Gn(l,f){cn.call(this),this.g=new tx(f),this.l=l,this.h=f&&f.messageUrlParams||null,l=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(l?l["X-WebChannel-Content-Type"]=f.messageContentType:l={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(l?l["X-WebChannel-Client-Profile"]=f.va:l={"X-WebChannel-Client-Profile":f.va}),this.g.S=l,(l=f&&f.Sb)&&!ee(l)&&(this.g.m=l),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!ee(f)&&(this.g.D=f,l=this.h,l!==null&&f in l&&(l=this.h,f in l&&delete l[f])),this.j=new Za(this)}v(Gn,cn),Gn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Gn.prototype.close=function(){Pv(this.g)},Gn.prototype.o=function(l){var f=this.g;if(typeof l=="string"){var m={};m.__data__=l,l=m}else this.u&&(m={},m.__data__=yv(l),l=m);f.i.push(new S3(f.Ya++,l)),f.G==3&&rf(f)},Gn.prototype.N=function(){this.g.l=null,delete this.j,Pv(this.g),delete this.g,Gn.aa.N.call(this)};function fx(l){bv.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var f=l.__sm__;if(f){e:{for(let m in f){l=m;break e}l=void 0}(this.i=l)&&(l=this.i,f=f!==null&&l in f?f[l]:void 0),this.data=f}else this.data=l}v(fx,bv);function px(){Cv.call(this),this.status=1}v(px,Cv);function Za(l){this.g=l}v(Za,hx),Za.prototype.ua=function(){En(this.g,"a")},Za.prototype.ta=function(l){En(this.g,new fx(l))},Za.prototype.sa=function(l){En(this.g,new px)},Za.prototype.ra=function(){En(this.g,"b")},sf.prototype.createWebChannel=sf.prototype.g,Gn.prototype.send=Gn.prototype.o,Gn.prototype.open=Gn.prototype.m,Gn.prototype.close=Gn.prototype.close,r1=mo.createWebChannelTransport=function(){return new sf},n1=mo.getStatEventTarget=function(){return Wh()},t1=mo.Event=Ps,Cm=mo.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Kh.NO_ERROR=0,Kh.TIMEOUT=8,Kh.HTTP_ERROR=6,Wd=mo.ErrorCode=Kh,AT.COMPLETE="complete",e1=mo.EventType=AT,ST.EventType=ru,ru.OPEN="a",ru.CLOSE="b",ru.ERROR="c",ru.MESSAGE="d",cn.prototype.listen=cn.prototype.K,sl=mo.WebChannel=ST,iK=mo.FetchXmlHttpFactory=du,Et.prototype.listenOnce=Et.prototype.L,Et.prototype.getLastError=Et.prototype.Ka,Et.prototype.getLastErrorCode=Et.prototype.Ba,Et.prototype.getStatus=Et.prototype.Z,Et.prototype.getResponseJson=Et.prototype.Oa,Et.prototype.getResponseText=Et.prototype.oa,Et.prototype.send=Et.prototype.ea,Et.prototype.setWithCredentials=Et.prototype.Ha,XC=mo.XhrIo=Et}).apply(typeof bm<"u"?bm:typeof self<"u"?self:typeof window<"u"?window:{});var gN="@firebase/firestore",mN="4.8.0";var Jt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Jt.UNAUTHENTICATED=new Jt(null),Jt.GOOGLE_CREDENTIALS=new Jt("google-credentials-uid"),Jt.FIRST_PARTY=new Jt("first-party-uid"),Jt.MOCK_USER=new Jt("mock-user");var xl="11.10.0";var xa=new vr("@firebase/firestore");function al(){return xa.logLevel}function te(n,...e){if(xa.logLevel<=Pe.DEBUG){let t=e.map(WE);xa.debug(`Firestore (${xl}): ${n}`,...t)}}function vo(n,...e){if(xa.logLevel<=Pe.ERROR){let t=e.map(WE);xa.error(`Firestore (${xl}): ${n}`,...t)}}function gs(n,...e){if(xa.logLevel<=Pe.WARN){let t=e.map(WE);xa.warn(`Firestore (${xl}): ${n}`,...t)}}function WE(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function ge(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,l2(n,r,t)}function l2(n,e,t){let r=`FIRESTORE (${xl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw vo(r),new Error(r)}function Qe(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||l2(e,i,r)}function be(n,e){return n}var L={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},X=class extends Dn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var _o=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var Dm=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},c1=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Jt.UNAUTHENTICATED))}shutdown(){}},l1=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},u1=class{constructor(e){this.t=e,this.currentUser=Jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Qe(this.o===void 0,42304);let r=this.i,i=c=>this.i!==r?(r=this.i,t(c)):Promise.resolve(),o=new _o;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new _o,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let c=o;e.enqueueRetryable(()=>I(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(te("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new _o)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Qe(typeof r.accessToken=="string",31837,{l:r}),new Dm(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Qe(e===null||typeof e=="string",2055,{h:e}),new Jt(e)}},d1=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Jt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},h1=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new d1(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Jt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Am=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},f1=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Zt(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Qe(this.o===void 0,3512);let r=o=>{o.error!=null&&te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,te("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Am(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Qe(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Am(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function oK(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}function u2(){return new TextEncoder}var Xd=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=oK(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}};function ke(n,e){return n<e?-1:n>e?1:0}function p1(n,e){let t=0;for(;t<n.length&&t<e.length;){let r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return ke(r,i);{let o=u2(),s=sK(o.encode(_N(n,t)),o.encode(_N(e,t)));return s!==0?s:ke(r,i)}}t+=r>65535?2:1}return ke(n.length,e.length)}function _N(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function sK(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return ke(n[t],e[t]);return ke(n.length,e.length)}function gl(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var vN="__name__",Pm=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&ge(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&ge(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=n.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return ke(e.length,t.length)}static compareSegments(e,t){let r=n.isNumericId(e),i=n.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(e).compare(n.extractNumericId(t)):p1(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return go.fromString(e.substring(4,e.length-2))}},yt=class n extends Pm{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new X(L.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},aK=/^[_a-zA-Z][_a-zA-Z0-9]*$/,rr=class n extends Pm{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return aK.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===vN}static keyField(){return new n([vN])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new X(L.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new X(L.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new X(L.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new X(L.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var he=class n{constructor(e){this.path=e}static fromPath(e){return new n(yt.fromString(e))}static fromName(e){return new n(yt.fromString(e).popFirst(5))}static empty(){return new n(yt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&yt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return yt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new yt(e.slice()))}};function d2(n,e,t){if(!t)throw new X(L.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function cK(n,e,t,r){if(e===!0&&r===!0)throw new X(L.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function yN(n){if(!he.isDocumentKey(n))throw new X(L.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function wN(n){if(he.isDocumentKey(n))throw new X(L.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function h2(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function l_(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":ge(12329,{type:typeof n})}function ki(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new X(L.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=l_(n);throw new X(L.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function lK(n,e){if(e<=0)throw new X(L.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}function jt(n,e){let t={typeString:n};return e&&(t.value=e),t}function hh(n,e){if(!h2(n))throw new X(L.INVALID_ARGUMENT,"JSON must be an object");let t;for(let r in e)if(e[r]){let i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}let s=n[r];if(i&&typeof s!==i){t=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){t=`Expected '${r}' field to equal '${o.value}'`;break}}if(t)throw new X(L.INVALID_ARGUMENT,t);return!0}var bN=-62135596800,CN=1e6,ze=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*CN);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new X(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new X(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<bN)throw new X(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new X(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/CN}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:n._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(hh(e,n._jsonSchema))return new n(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-bN;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};ze._jsonSchemaVersion="firestore/timestamp/1.0",ze._jsonSchema={type:jt("string",ze._jsonSchemaVersion),seconds:jt("number"),nanoseconds:jt("number")};var Ie=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new ze(0,0))}static max(){return new n(new ze(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var eh=-1,g1=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};g1.UNKNOWN_ID=-1;function uK(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Ie.fromTimestamp(r===1e9?new ze(t+1,0):new ze(t,r));return new Ma(i,he.empty(),e)}function dK(n){return new Ma(n.readTime,n.key,eh)}var Ma=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(Ie.min(),he.empty(),eh)}static max(){return new n(Ie.max(),he.empty(),eh)}};function hK(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=he.comparator(n.documentKey,e.documentKey),t!==0?t:ke(n.largestBatchId,e.largestBatchId))}var fK="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",m1=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Ml(n){return I(this,null,function*(){if(n.code!==L.FAILED_PRECONDITION||n.message!==fK)throw n;te("LocalStore","Unexpectedly lost primary lease")})}var q=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ge(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},c=>r(c))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let c=0;c<o;c++){let u=c;t(e[u]).next(d=>{s[u]=d,++a,a===o&&r(s)},d=>i(d))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function pK(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Dl(n){return n.name==="IndexedDbTransactionError"}var KE=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this._e(i),this.ae=i=>r.writeSequenceNumber(i))}_e(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.ae&&this.ae(t),t}}n.ue=-1;return n})(),YE=-1;function u_(n){return n==null}function th(n){return n===0&&1/n==-1/0}function gK(n){return typeof n=="number"&&Number.isInteger(n)&&!th(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var f2="";function mK(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=EN(e)),e=_K(n.get(t),e);return EN(e)}function _K(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let o=n.charAt(i);switch(o){case"\0":t+="";break;case f2:t+="";break;default:t+=o}}return t}function EN(n){return n+f2+""}var vK="remoteDocuments",p2="owner";var g2="mutationQueues";var m2="mutations";var _2="documentMutations",yK="remoteDocumentsV14";var v2="remoteDocumentGlobal";var y2="targets";var w2="targetDocuments";var b2="targetGlobal",C2="collectionParents";var E2="clientMetadata";var I2="bundles";var S2="namedQueries";var wK="indexConfiguration";var bK="indexState";var CK="indexEntries";var T2="documentOverlays";var EK="globals";var IK=[g2,m2,_2,vK,y2,p2,b2,w2,E2,v2,C2,I2,S2],upe=[...IK,T2],SK=[g2,m2,_2,yK,y2,p2,b2,w2,E2,v2,C2,I2,S2,T2],TK=SK,xK=[...TK,wK,bK,CK];var dpe=[...xK,EK];function IN(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function bs(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function x2(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var Dt=class n{constructor(e,t){this.comparator=e,this.root=t||Ri.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ri.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ri.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new dl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new dl(this.root,e,this.comparator,!1)}getReverseIterator(){return new dl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new dl(this.root,e,this.comparator,!0)}},dl=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Ri=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ge(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ge(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw ge(27949);return e+(this.isRed()?0:1)}};Ri.EMPTY=null,Ri.RED=!0,Ri.BLACK=!1;Ri.EMPTY=new class{constructor(){this.size=0}get key(){throw ge(57766)}get value(){throw ge(16141)}get color(){throw ge(16727)}get left(){throw ge(29726)}get right(){throw ge(36894)}copy(e,t,r,i,o){return this}insert(e,t,r){return new Ri(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Xt=class n{constructor(e){this.comparator=e,this.data=new Dt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new km(this.data.getIterator())}getIteratorFrom(e){return new km(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},km=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Er=class n{constructor(e){this.fields=e,e.sort(rr.comparator)}static empty(){return new n([])}unionWith(e){let t=new Xt(rr.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return gl(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var Rm=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var yn=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Rm("Invalid base64 string: "+o):o}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};yn.EMPTY_BYTE_STRING=new yn("");var MK=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function yo(n){if(Qe(!!n,39018),typeof n=="string"){let e=0,t=MK.exec(n);if(Qe(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:vt(n.seconds),nanos:vt(n.nanos)}}function vt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function wo(n){return typeof n=="string"?yn.fromBase64String(n):yn.fromUint8Array(n)}var M2="server_timestamp",D2="__type__",A2="__previous_value__",P2="__local_write_time__";function QE(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[D2])===null||t===void 0?void 0:t.stringValue)===M2}function d_(n){let e=n.mapValue.fields[A2];return QE(e)?d_(e):e}function nh(n){let e=yo(n.mapValue.fields[P2].timestampValue);return new ze(e.seconds,e.nanos)}var _1=class{constructor(e,t,r,i,o,s,a,c,u,d){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=d}},Om="(default)",Nm=class n{constructor(e,t){this.projectId=e,this.database=t||Om}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===Om}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var ZE="__type__",k2="__max__",Em={mapValue:{fields:{__type__:{stringValue:k2}}}},JE="__vector__",ml="value";function ms(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?QE(n)?4:O2(n)?9007199254740991:R2(n)?10:11:ge(28295,{value:n})}function Vi(n,e){if(n===e)return!0;let t=ms(n);if(t!==ms(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return nh(n).isEqual(nh(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=yo(i.timestampValue),a=yo(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return wo(i.bytesValue).isEqual(wo(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return vt(i.geoPointValue.latitude)===vt(o.geoPointValue.latitude)&&vt(i.geoPointValue.longitude)===vt(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return vt(i.integerValue)===vt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=vt(i.doubleValue),a=vt(o.doubleValue);return s===a?th(s)===th(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return gl(n.arrayValue.values||[],e.arrayValue.values||[],Vi);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(IN(s)!==IN(a))return!1;for(let c in s)if(s.hasOwnProperty(c)&&(a[c]===void 0||!Vi(s[c],a[c])))return!1;return!0}(n,e);default:return ge(52216,{left:n})}}function rh(n,e){return(n.values||[]).find(t=>Vi(t,e))!==void 0}function _l(n,e){if(n===e)return 0;let t=ms(n),r=ms(e);if(t!==r)return ke(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return ke(n.booleanValue,e.booleanValue);case 2:return function(o,s){let a=vt(o.integerValue||o.doubleValue),c=vt(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(n,e);case 3:return SN(n.timestampValue,e.timestampValue);case 4:return SN(nh(n),nh(e));case 5:return p1(n.stringValue,e.stringValue);case 6:return function(o,s){let a=wo(o),c=wo(s);return a.compareTo(c)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),c=s.split("/");for(let u=0;u<a.length&&u<c.length;u++){let d=ke(a[u],c[u]);if(d!==0)return d}return ke(a.length,c.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){let a=ke(vt(o.latitude),vt(s.latitude));return a!==0?a:ke(vt(o.longitude),vt(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return TN(n.arrayValue,e.arrayValue);case 10:return function(o,s){var a,c,u,d;let p=o.fields||{},_=s.fields||{},y=(a=p[ml])===null||a===void 0?void 0:a.arrayValue,v=(c=_[ml])===null||c===void 0?void 0:c.arrayValue,A=ke(((u=y?.values)===null||u===void 0?void 0:u.length)||0,((d=v?.values)===null||d===void 0?void 0:d.length)||0);return A!==0?A:TN(y,v)}(n.mapValue,e.mapValue);case 11:return function(o,s){if(o===Em.mapValue&&s===Em.mapValue)return 0;if(o===Em.mapValue)return 1;if(s===Em.mapValue)return-1;let a=o.fields||{},c=Object.keys(a),u=s.fields||{},d=Object.keys(u);c.sort(),d.sort();for(let p=0;p<c.length&&p<d.length;++p){let _=p1(c[p],d[p]);if(_!==0)return _;let y=_l(a[c[p]],u[d[p]]);if(y!==0)return y}return ke(c.length,d.length)}(n.mapValue,e.mapValue);default:throw ge(23264,{le:t})}}function SN(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return ke(n,e);let t=yo(n),r=yo(e),i=ke(t.seconds,r.seconds);return i!==0?i:ke(t.nanos,r.nanos)}function TN(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=_l(t[i],r[i]);if(o)return o}return ke(t.length,r.length)}function vl(n){return v1(n)}function v1(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let r=yo(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return wo(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return he.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=v1(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${v1(t.fields[s])}`;return i+"}"}(n.mapValue):ge(61005,{value:n})}function Tm(n){switch(ms(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=d_(n);return e?16+Tm(e):16;case 5:return 2*n.stringValue.length;case 6:return wo(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+Tm(o),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return bs(r.fields,(o,s)=>{i+=o.length+Tm(s)}),i}(n.mapValue);default:throw ge(13486,{value:n})}}function xN(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function y1(n){return!!n&&"integerValue"in n}function XE(n){return!!n&&"arrayValue"in n}function MN(n){return!!n&&"nullValue"in n}function DN(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function xm(n){return!!n&&"mapValue"in n}function R2(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[ZE])===null||t===void 0?void 0:t.stringValue)===JE}function Yd(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return bs(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Yd(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Yd(n.arrayValue.values[t]);return e}return Object.assign({},n)}function O2(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===k2}var fpe={mapValue:{fields:{[ZE]:{stringValue:JE},[ml]:{arrayValue:{}}}}};var nr=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!xm(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Yd(t)}setAll(e){let t=rr.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let c=this.getFieldsMap(t);this.applyChanges(c,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=Yd(s):i.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());xm(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Vi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];xm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){bs(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(Yd(this.value))}};function N2(n){let e=[];return bs(n.fields,(t,r)=>{let i=new rr([t]);if(xm(r)){let o=N2(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new Er(e)}var Qr=class n{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,Ie.min(),Ie.min(),Ie.min(),nr.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,Ie.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,Ie.min(),Ie.min(),nr.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,Ie.min(),Ie.min(),nr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=nr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=nr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var yl=class{constructor(e,t){this.position=e,this.inclusive=t}};function AN(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=he.comparator(he.fromName(s.referenceValue),t.key):r=_l(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function PN(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Vi(n.position[t],e.position[t]))return!1;return!0}var Da=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function DK(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var Fm=class{},Bt=class n extends Fm{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new b1(e,t,r):t==="array-contains"?new I1(e,r):t==="in"?new S1(e,r):t==="not-in"?new T1(e,r):t==="array-contains-any"?new x1(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new C1(e,r):new E1(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(_l(t,this.value)):t!==null&&ms(this.value)===ms(t)&&this.matchesComparison(_l(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ge(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Zr=class n extends Fm{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new n(e,t)}matches(e){return F2(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}};function F2(n){return n.op==="and"}function V2(n){return AK(n)&&F2(n)}function AK(n){for(let e of n.filters)if(e instanceof Zr)return!1;return!0}function w1(n){if(n instanceof Bt)return n.field.canonicalString()+n.op.toString()+vl(n.value);if(V2(n))return n.filters.map(e=>w1(e)).join(",");{let e=n.filters.map(t=>w1(t)).join(",");return`${n.op}(${e})`}}function L2(n,e){return n instanceof Bt?function(r,i){return i instanceof Bt&&r.op===i.op&&r.field.isEqual(i.field)&&Vi(r.value,i.value)}(n,e):n instanceof Zr?function(r,i){return i instanceof Zr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&L2(s,i.filters[a]),!0):!1}(n,e):void ge(19439)}function U2(n){return n instanceof Bt?function(t){return`${t.field.canonicalString()} ${t.op} ${vl(t.value)}`}(n):n instanceof Zr?function(t){return t.op.toString()+" {"+t.getFilters().map(U2).join(" ,")+"}"}(n):"Filter"}var b1=class extends Bt{constructor(e,t,r){super(e,t,r),this.key=he.fromName(r.referenceValue)}matches(e){let t=he.comparator(e.key,this.key);return this.matchesComparison(t)}},C1=class extends Bt{constructor(e,t){super(e,"in",t),this.keys=B2("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},E1=class extends Bt{constructor(e,t){super(e,"not-in",t),this.keys=B2("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function B2(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>he.fromName(r.referenceValue))}var I1=class extends Bt{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return XE(t)&&rh(t.arrayValue,this.value)}},S1=class extends Bt{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&rh(this.value.arrayValue,t)}},T1=class extends Bt{constructor(e,t){super(e,"not-in",t)}matches(e){if(rh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!rh(this.value.arrayValue,t)}},x1=class extends Bt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!XE(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>rh(this.value.arrayValue,r))}};var M1=class{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Pe=null}};function kN(n,e=null,t=[],r=[],i=null,o=null,s=null){return new M1(n,e,t,r,i,o,s)}function eI(n){let e=be(n);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>w1(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),u_(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>vl(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>vl(r)).join(",")),e.Pe=t}return e.Pe}function tI(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!DK(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!L2(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!PN(n.startAt,e.startAt)&&PN(n.endAt,e.endAt)}function D1(n){return he.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var _s=class{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}};function PK(n,e,t,r,i,o,s,a){return new _s(n,e,t,r,i,o,s,a)}function nI(n){return new _s(n)}function RN(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function j2(n){return n.collectionGroup!==null}function Qd(n){let e=be(n);if(e.Te===null){e.Te=[];let t=new Set;for(let o of e.explicitOrderBy)e.Te.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Xt(rr.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Te.push(new Da(o,r))}),t.has(rr.keyField().canonicalString())||e.Te.push(new Da(rr.keyField(),r))}return e.Te}function Oi(n){let e=be(n);return e.Ie||(e.Ie=kK(e,Qd(n))),e.Ie}function kK(n,e){if(n.limitType==="F")return kN(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new Da(i.field,o)});let t=n.endAt?new yl(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new yl(n.startAt.position,n.startAt.inclusive):null;return kN(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function A1(n,e){let t=n.filters.concat([e]);return new _s(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Vm(n,e,t){return new _s(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function h_(n,e){return tI(Oi(n),Oi(e))&&n.limitType===e.limitType}function H2(n){return`${eI(Oi(n))}|lt:${n.limitType}`}function cl(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>U2(i)).join(", ")}]`),u_(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>vl(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>vl(i)).join(",")),`Target(${r})`}(Oi(n))}; limitType=${n.limitType})`}function f_(n,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):he.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(let o of Qd(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(s,a,c){let u=AN(s,a,c);return s.inclusive?u<=0:u<0}(r.startAt,Qd(r),i)||r.endAt&&!function(s,a,c){let u=AN(s,a,c);return s.inclusive?u>=0:u>0}(r.endAt,Qd(r),i))}(n,e)}function RK(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function $2(n){return(e,t)=>{let r=!1;for(let i of Qd(n)){let o=OK(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function OK(n,e,t){let r=n.field.isKeyField()?he.comparator(e.key,t.key):function(o,s,a){let c=s.data.field(o),u=a.data.field(o);return c!==null&&u!==null?_l(c,u):ge(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ge(19790,{direction:n.dir})}}var bo=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){bs(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return x2(this.inner)}size(){return this.innerSize}};var NK=new Dt(he.comparator);function Co(){return NK}var z2=new Dt(he.comparator);function Kd(...n){let e=z2;for(let t of n)e=e.insert(t.key,t);return e}function q2(n){let e=z2;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Ea(){return Zd()}function G2(){return Zd()}function Zd(){return new bo(n=>n.toString(),(n,e)=>n.isEqual(e))}var FK=new Dt(he.comparator),VK=new Xt(he.comparator);function Fe(...n){let e=VK;for(let t of n)e=e.add(t);return e}var LK=new Xt(ke);function UK(){return LK}function rI(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:th(e)?"-0":e}}function W2(n){return{integerValue:""+n}}function BK(n,e){return gK(e)?W2(e):rI(n,e)}var wl=class{constructor(){this._=void 0}};function jK(n,e,t){return n instanceof bl?function(i,o){let s={fields:{[D2]:{stringValue:M2},[P2]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&QE(o)&&(o=d_(o)),o&&(s.fields[A2]=o),{mapValue:s}}(t,e):n instanceof Aa?Y2(n,e):n instanceof Pa?Q2(n,e):function(i,o){let s=K2(i,o),a=ON(s)+ON(i.Ee);return y1(s)&&y1(i.Ee)?W2(a):rI(i.serializer,a)}(n,e)}function HK(n,e,t){return n instanceof Aa?Y2(n,e):n instanceof Pa?Q2(n,e):t}function K2(n,e){return n instanceof Cl?function(r){return y1(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var bl=class extends wl{},Aa=class extends wl{constructor(e){super(),this.elements=e}};function Y2(n,e){let t=Z2(e);for(let r of n.elements)t.some(i=>Vi(i,r))||t.push(r);return{arrayValue:{values:t}}}var Pa=class extends wl{constructor(e){super(),this.elements=e}};function Q2(n,e){let t=Z2(e);for(let r of n.elements)t=t.filter(i=>!Vi(i,r));return{arrayValue:{values:t}}}var Cl=class extends wl{constructor(e,t){super(),this.serializer=e,this.Ee=t}};function ON(n){return vt(n.integerValue||n.doubleValue)}function Z2(n){return XE(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function $K(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof Aa&&i instanceof Aa||r instanceof Pa&&i instanceof Pa?gl(r.elements,i.elements,Vi):r instanceof Cl&&i instanceof Cl?Vi(r.Ee,i.Ee):r instanceof bl&&i instanceof bl}(n.transform,e.transform)}var P1=class{constructor(e,t){this.version=e,this.transformResults=t}},Ni=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Mm(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var El=class{};function J2(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new ih(n.key,Ni.none()):new ka(n.key,n.data,Ni.none());{let t=n.data,r=nr.empty(),i=new Xt(rr.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Li(n.key,r,new Er(i.toArray()),Ni.none())}}function zK(n,e,t){n instanceof ka?function(i,o,s){let a=i.value.clone(),c=FN(i.fieldTransforms,o,s.transformResults);a.setAll(c),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof Li?function(i,o,s){if(!Mm(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=FN(i.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(X2(i)),c.setAll(a),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(n,e,t):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,t)}function Jd(n,e,t,r){return n instanceof ka?function(o,s,a,c){if(!Mm(o.precondition,s))return a;let u=o.value.clone(),d=VN(o.fieldTransforms,c,s);return u.setAll(d),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(n,e,t,r):n instanceof Li?function(o,s,a,c){if(!Mm(o.precondition,s))return a;let u=VN(o.fieldTransforms,c,s),d=s.data;return d.setAll(X2(o)),d.setAll(u),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(n,e,t,r):function(o,s,a){return Mm(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(n,e,t)}function qK(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),o=K2(r.transform,i||null);o!=null&&(t===null&&(t=nr.empty()),t.set(r.field,o))}return t||null}function NN(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&gl(r,i,(o,s)=>$K(o,s))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var ka=class extends El{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Li=class extends El{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function X2(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function FN(n,e,t){let r=new Map;Qe(n.length===t.length,32656,{Ae:t.length,Re:n.length});for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,HK(s,a,t[i]))}return r}function VN(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,jK(o,s,e))}return r}var ih=class extends El{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},k1=class extends El{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var R1=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&zK(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=Jd(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=Jd(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=G2();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;let c=J2(s,a);c!==null&&r.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(Ie.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Fe())}isEqual(e){return this.batchId===e.batchId&&gl(this.mutations,e.mutations,(t,r)=>NN(t,r))&&gl(this.baseMutations,e.baseMutations,(t,r)=>NN(t,r))}},O1=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Qe(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=function(){return FK}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new n(e,t,r,i)}};var N1=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var F1=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var Lt,je;function GK(n){switch(n){case L.OK:return ge(64938);case L.CANCELLED:case L.UNKNOWN:case L.DEADLINE_EXCEEDED:case L.RESOURCE_EXHAUSTED:case L.INTERNAL:case L.UNAVAILABLE:case L.UNAUTHENTICATED:return!1;case L.INVALID_ARGUMENT:case L.NOT_FOUND:case L.ALREADY_EXISTS:case L.PERMISSION_DENIED:case L.FAILED_PRECONDITION:case L.ABORTED:case L.OUT_OF_RANGE:case L.UNIMPLEMENTED:case L.DATA_LOSS:return!0;default:return ge(15467,{code:n})}}function eF(n){if(n===void 0)return vo("GRPC error has no .code"),L.UNKNOWN;switch(n){case Lt.OK:return L.OK;case Lt.CANCELLED:return L.CANCELLED;case Lt.UNKNOWN:return L.UNKNOWN;case Lt.DEADLINE_EXCEEDED:return L.DEADLINE_EXCEEDED;case Lt.RESOURCE_EXHAUSTED:return L.RESOURCE_EXHAUSTED;case Lt.INTERNAL:return L.INTERNAL;case Lt.UNAVAILABLE:return L.UNAVAILABLE;case Lt.UNAUTHENTICATED:return L.UNAUTHENTICATED;case Lt.INVALID_ARGUMENT:return L.INVALID_ARGUMENT;case Lt.NOT_FOUND:return L.NOT_FOUND;case Lt.ALREADY_EXISTS:return L.ALREADY_EXISTS;case Lt.PERMISSION_DENIED:return L.PERMISSION_DENIED;case Lt.FAILED_PRECONDITION:return L.FAILED_PRECONDITION;case Lt.ABORTED:return L.ABORTED;case Lt.OUT_OF_RANGE:return L.OUT_OF_RANGE;case Lt.UNIMPLEMENTED:return L.UNIMPLEMENTED;case Lt.DATA_LOSS:return L.DATA_LOSS;default:return ge(39323,{code:n})}}(je=Lt||(Lt={}))[je.OK=0]="OK",je[je.CANCELLED=1]="CANCELLED",je[je.UNKNOWN=2]="UNKNOWN",je[je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",je[je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",je[je.NOT_FOUND=5]="NOT_FOUND",je[je.ALREADY_EXISTS=6]="ALREADY_EXISTS",je[je.PERMISSION_DENIED=7]="PERMISSION_DENIED",je[je.UNAUTHENTICATED=16]="UNAUTHENTICATED",je[je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",je[je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",je[je.ABORTED=10]="ABORTED",je[je.OUT_OF_RANGE=11]="OUT_OF_RANGE",je[je.UNIMPLEMENTED=12]="UNIMPLEMENTED",je[je.INTERNAL=13]="INTERNAL",je[je.UNAVAILABLE=14]="UNAVAILABLE",je[je.DATA_LOSS=15]="DATA_LOSS";var LN=null;var WK=new go([4294967295,4294967295],0);function UN(n){let e=u2().encode(n),t=new JC;return t.update(e),new Uint8Array(t.digest())}function BN(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new go([t,r],0),new go([i,o],0)]}var V1=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Ia(`Invalid padding: ${t}`);if(r<0)throw new Ia(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ia(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Ia(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=go.fromNumber(this.fe)}pe(e,t,r){let i=e.add(t.multiply(go.fromNumber(r)));return i.compare(WK)===1&&(i=new go([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;let t=UN(e),[r,i]=BN(t);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);if(!this.ye(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.fe===0)return;let t=UN(e),[r,i]=BN(t);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);this.we(s)}}we(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},Ia=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Lm=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,oh.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(Ie.min(),i,new Dt(ke),Co(),Fe())}},oh=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,Fe(),Fe(),Fe())}};var hl=class{constructor(e,t,r,i){this.Se=e,this.removedTargetIds=t,this.key=r,this.be=i}},Um=class{constructor(e,t){this.targetId=e,this.De=t}},Bm=class{constructor(e,t,r=yn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},jm=class{constructor(){this.ve=0,this.Ce=jN(),this.Fe=yn.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Fe(),t=Fe(),r=Fe();return this.Ce.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:ge(38017,{changeType:o})}}),new oh(this.Fe,this.Me,e,t,r)}ke(){this.xe=!1,this.Ce=jN()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Qe(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}},L1=class{constructor(e){this.We=e,this.Ge=new Map,this.ze=Co(),this.je=Im(),this.Je=Im(),this.He=new Dt(ke)}Ye(e){for(let t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(let t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{let r=this.tt(t);switch(e.state){case 0:this.nt(t)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),r.Be(e.resumeToken));break;default:ge(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((r,i)=>{this.nt(i)&&t(i)})}it(e){let t=e.targetId,r=e.De.count,i=this.st(t);if(i){let o=i.target;if(D1(o))if(r===0){let s=new he(o.path);this.Xe(t,s,Qr.newNoDocument(s,Ie.min()))}else Qe(r===1,20013,{expectedCount:r});else{let s=this.ot(t);if(s!==r){let a=this._t(e),c=a?this.ut(a,e,s):1;if(c!==0){this.rt(t);let u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,u)}LN?.ct(function(d,p,_,y,v){var A,O,G,ee,Z,se;let De={localCacheCount:d,existenceFilterCount:p.count,databaseId:_.database,projectId:_.projectId},fe=p.unchangedNames;return fe&&(De.bloomFilter={applied:v===0,hashCount:(A=fe?.hashCount)!==null&&A!==void 0?A:0,bitmapLength:(ee=(G=(O=fe?.bits)===null||O===void 0?void 0:O.bitmap)===null||G===void 0?void 0:G.length)!==null&&ee!==void 0?ee:0,padding:(se=(Z=fe?.bits)===null||Z===void 0?void 0:Z.padding)!==null&&se!==void 0?se:0,mightContain:P=>{var S;return(S=y?.mightContain(P))!==null&&S!==void 0&&S}}),De}(s,e.De,this.We.lt(),a,c))}}}}_t(e){let t=e.De.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,a;try{s=wo(r).toUint8Array()}catch(c){if(c instanceof Rm)return gs("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new V1(s,i,o)}catch(c){return gs(c instanceof Ia?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.fe===0?null:a}ut(e,t,r){return t.De.count===r-this.ht(e,t.targetId)?0:2}ht(e,t){let r=this.We.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.We.lt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Xe(t,o,null),i++)}),i}Pt(e){let t=new Map;this.Ge.forEach((o,s)=>{let a=this.st(s);if(a){if(o.current&&D1(a.target)){let c=new he(a.target.path);this.Tt(c).has(s)||this.It(s,c)||this.Xe(s,c,Qr.newNoDocument(c,e))}o.Ne&&(t.set(s,o.Le()),o.ke())}});let r=Fe();this.Je.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{let u=this.st(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ze.forEach((o,s)=>s.setReadTime(e));let i=new Lm(e,t,this.He,this.ze,r);return this.ze=Co(),this.je=Im(),this.Je=Im(),this.He=new Dt(ke),i}Ze(e,t){if(!this.nt(e))return;let r=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,r),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,r){if(!this.nt(e))return;let i=this.tt(e);this.It(e,t)?i.qe(t,1):i.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),r&&(this.ze=this.ze.insert(t,r))}removeTarget(e){this.Ge.delete(e)}ot(e){let t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new jm,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new Xt(ke),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new Xt(ke),this.je=this.je.insert(e,t)),t}nt(e){let t=this.st(e)!==null;return t||te("WatchChangeAggregator","Detected inactive target",e),t}st(e){let t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new jm),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}};function Im(){return new Dt(he.comparator)}function jN(){return new Dt(he.comparator)}var KK={asc:"ASCENDING",desc:"DESCENDING"},YK={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},QK={and:"AND",or:"OR"},U1=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function B1(n,e){return n.useProto3Json||u_(e)?e:{value:e}}function Hm(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function tF(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function ZK(n,e){return Hm(n,e.toTimestamp())}function Fi(n){return Qe(!!n,49232),Ie.fromTimestamp(function(t){let r=yo(t);return new ze(r.seconds,r.nanos)}(n))}function iI(n,e){return j1(n,e).canonicalString()}function j1(n,e){let t=function(i){return new yt(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function nF(n){let e=yt.fromString(n);return Qe(aF(e),10190,{key:e.toString()}),e}function H1(n,e){return iI(n.databaseId,e.path)}function i1(n,e){let t=nF(e);if(t.get(1)!==n.databaseId.projectId)throw new X(L.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new X(L.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new he(iF(t))}function rF(n,e){return iI(n.databaseId,e)}function JK(n){let e=nF(n);return e.length===4?yt.emptyPath():iF(e)}function $1(n){return new yt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function iF(n){return Qe(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function HN(n,e,t){return{name:H1(n,e),fields:t.value.mapValue.fields}}function XK(n,e){let t;if("targetChange"in e){e.targetChange;let r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ge(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,d){return u.useProto3Json?(Qe(d===void 0||typeof d=="string",58123),yn.fromBase64String(d||"")):(Qe(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),yn.fromUint8Array(d||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){let d=u.code===void 0?L.UNKNOWN:eF(u.code);return new X(d,u.message||"")}(s);t=new Bm(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=i1(n,r.document.name),o=Fi(r.document.updateTime),s=r.document.createTime?Fi(r.document.createTime):Ie.min(),a=new nr({mapValue:{fields:r.document.fields}}),c=Qr.newFoundDocument(i,o,s,a),u=r.targetIds||[],d=r.removedTargetIds||[];t=new hl(u,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=i1(n,r.document),o=r.readTime?Fi(r.readTime):Ie.min(),s=Qr.newNoDocument(i,o),a=r.removedTargetIds||[];t=new hl([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=i1(n,r.document),o=r.removedTargetIds||[];t=new hl([],o,i,null)}else{if(!("filter"in e))return ge(11601,{At:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new F1(i,o),a=r.targetId;t=new Um(a,s)}}return t}function eY(n,e){let t;if(e instanceof ka)t={update:HN(n,e.key,e.value)};else if(e instanceof ih)t={delete:H1(n,e.key)};else if(e instanceof Li)t={update:HN(n,e.key,e.data),updateMask:lY(e.fieldMask)};else{if(!(e instanceof k1))return ge(16599,{Rt:e.type});t={verify:H1(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof bl)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Aa)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Pa)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Cl)return{fieldPath:s.field.canonicalString(),increment:a.Ee};throw ge(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:ZK(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ge(27497)}(n,e.precondition)),t}function tY(n,e){return n&&n.length>0?(Qe(e!==void 0,14353),n.map(t=>function(i,o){let s=i.updateTime?Fi(i.updateTime):Fi(o);return s.isEqual(Ie.min())&&(s=Fi(o)),new P1(s,i.transformResults||[])}(t,e))):[]}function nY(n,e){return{documents:[rF(n,e.path)]}}function rY(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=rF(n,i);let o=function(u){if(u.length!==0)return sF(Zr.create(u,"and"))}(e.filters);o&&(t.structuredQuery.where=o);let s=function(u){if(u.length!==0)return u.map(d=>function(_){return{field:ll(_.field),direction:sY(_.dir)}}(d))}(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=B1(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{Vt:t,parent:i}}function iY(n){let e=JK(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){Qe(r===1,65062);let d=t.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let o=[];t.where&&(o=function(p){let _=oF(p);return _ instanceof Zr&&V2(_)?_.getFilters():[_]}(t.where));let s=[];t.orderBy&&(s=function(p){return p.map(_=>function(v){return new Da(ul(v.field),function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(_))}(t.orderBy));let a=null;t.limit&&(a=function(p){let _;return _=typeof p=="object"?p.value:p,u_(_)?null:_}(t.limit));let c=null;t.startAt&&(c=function(p){let _=!!p.before,y=p.values||[];return new yl(y,_)}(t.startAt));let u=null;return t.endAt&&(u=function(p){let _=!p.before,y=p.values||[];return new yl(y,_)}(t.endAt)),PK(e,i,s,o,a,"F",c,u)}function oY(n,e){let t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ge(28987,{purpose:i})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function oF(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=ul(t.unaryFilter.field);return Bt.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=ul(t.unaryFilter.field);return Bt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=ul(t.unaryFilter.field);return Bt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=ul(t.unaryFilter.field);return Bt.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ge(61313);default:return ge(60726)}}(n):n.fieldFilter!==void 0?function(t){return Bt.create(ul(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ge(58110);default:return ge(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Zr.create(t.compositeFilter.filters.map(r=>oF(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ge(1026)}}(t.compositeFilter.op))}(n):ge(30097,{filter:n})}function sY(n){return KK[n]}function aY(n){return YK[n]}function cY(n){return QK[n]}function ll(n){return{fieldPath:n.canonicalString()}}function ul(n){return rr.fromServerFormat(n.fieldPath)}function sF(n){return n instanceof Bt?function(t){if(t.op==="=="){if(DN(t.value))return{unaryFilter:{field:ll(t.field),op:"IS_NAN"}};if(MN(t.value))return{unaryFilter:{field:ll(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(DN(t.value))return{unaryFilter:{field:ll(t.field),op:"IS_NOT_NAN"}};if(MN(t.value))return{unaryFilter:{field:ll(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ll(t.field),op:aY(t.op),value:t.value}}}(n):n instanceof Zr?function(t){let r=t.getFilters().map(i=>sF(i));return r.length===1?r[0]:{compositeFilter:{op:cY(t.op),filters:r}}}(n):ge(54877,{filter:n})}function lY(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function aF(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var sh=class n{constructor(e,t,r,i,o=Ie.min(),s=Ie.min(),a=yn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var z1=class{constructor(e){this.gt=e}};function uY(n){let e=iY({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Vm(e,e.limit,"L"):e}var $m=class{constructor(){}bt(e,t){this.Dt(e,t),t.vt()}Dt(e,t){if("nullValue"in e)this.Ct(t,5);else if("booleanValue"in e)this.Ct(t,10),t.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(t,15),t.Ft(vt(e.integerValue));else if("doubleValue"in e){let r=vt(e.doubleValue);isNaN(r)?this.Ct(t,13):(this.Ct(t,15),th(r)?t.Ft(0):t.Ft(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ct(t,20),typeof r=="string"&&(r=yo(r)),t.Mt(`${r.seconds||""}`),t.Ft(r.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,t),this.Ot(t);else if("bytesValue"in e)this.Ct(t,30),t.Nt(wo(e.bytesValue)),this.Ot(t);else if("referenceValue"in e)this.Bt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ct(t,45),t.Ft(r.latitude||0),t.Ft(r.longitude||0)}else"mapValue"in e?O2(e)?this.Ct(t,Number.MAX_SAFE_INTEGER):R2(e)?this.Lt(e.mapValue,t):(this.kt(e.mapValue,t),this.Ot(t)):"arrayValue"in e?(this.qt(e.arrayValue,t),this.Ot(t)):ge(19022,{Qt:e})}xt(e,t){this.Ct(t,25),this.$t(e,t)}$t(e,t){t.Mt(e)}kt(e,t){let r=e.fields||{};this.Ct(t,55);for(let i of Object.keys(r))this.xt(i,t),this.Dt(r[i],t)}Lt(e,t){var r,i;let o=e.fields||{};this.Ct(t,53);let s=ml,a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Ct(t,15),t.Ft(vt(a)),this.xt(s,t),this.Dt(o[s],t)}qt(e,t){let r=e.values||[];this.Ct(t,50);for(let i of r)this.Dt(i,t)}Bt(e,t){this.Ct(t,37),he.fromName(e).path.forEach(r=>{this.Ct(t,60),this.$t(r,t)})}Ct(e,t){e.Ft(t)}Ot(e){e.Ft(2)}};$m.Ut=new $m;var q1=class{constructor(){this.Dn=new G1}addToCollectionParentIndex(e,t){return this.Dn.add(t),q.resolve()}getCollectionParents(e,t){return q.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return q.resolve()}deleteFieldIndex(e,t){return q.resolve()}deleteAllFieldIndexes(e){return q.resolve()}createTargetIndexes(e,t){return q.resolve()}getDocumentsMatchingTarget(e,t){return q.resolve(null)}getIndexType(e,t){return q.resolve(0)}getFieldIndexes(e,t){return q.resolve([])}getNextCollectionGroupToUpdate(e){return q.resolve(null)}getMinOffset(e,t){return q.resolve(Ma.min())}getMinOffsetFromCollectionGroup(e,t){return q.resolve(Ma.min())}updateCollectionGroup(e,t,r){return q.resolve()}updateIndexEntries(e,t){return q.resolve()}},G1=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Xt(yt.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Xt(yt.comparator)).toArray()}};var ppe=new Uint8Array(0);var $N={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},cF=41943040,Cr=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};Cr.DEFAULT_COLLECTION_PERCENTILE=10,Cr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Cr.DEFAULT=new Cr(cF,Cr.DEFAULT_COLLECTION_PERCENTILE,Cr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Cr.DISABLED=new Cr(-1,0,0);var ah=class n{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new n(0)}static ur(){return new n(-1)}};var zN="LruGarbageCollector",dY=1048576;function qN([n,e],[t,r]){let i=ke(n,t);return i===0?ke(e,r):i}var W1=class{constructor(e){this.Tr=e,this.buffer=new Xt(qN),this.Ir=0}dr(){return++this.Ir}Er(e){let t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();qN(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},K1=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){te(zN,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>I(this,null,function*(){this.Ar=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(t){Dl(t)?te(zN,"Ignoring IndexedDB error during garbage collection: ",t):yield Ml(t)}yield this.Rr(3e5)}))}},Y1=class{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return q.resolve(KE.ue);let r=new W1(t);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(te("LruGarbageCollector","Garbage collection skipped; disabled"),q.resolve($N)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(te("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),$N):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let r,i,o,s,a,c,u,d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,t))).next(p=>(o=p,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(u=Date.now(),al()<=Pe.DEBUG&&te("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-d}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(c-a)+`ms
	Removed ${p} documents in `+(u-c)+`ms
Total Duration: ${u-d}ms`),q.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}};function hY(n,e){return new Y1(n,e)}var Q1=class{constructor(){this.changes=new bo(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Qr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?q.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Z1=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var J1=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Jd(r.mutation,i,Er.empty(),ze.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Fe()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Fe()){let i=Ea();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=Kd();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=Ea();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Fe()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=Co(),s=Zd(),a=function(){return Zd()}();return t.forEach((c,u)=>{let d=r.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof Li)?o=o.insert(u.key,u):d!==void 0?(s.set(u.key,d.mutation.getFieldMask()),Jd(d.mutation,u,d.mutation.getFieldMask(),ze.now())):s.set(u.key,Er.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((u,d)=>s.set(u,d)),t.forEach((u,d)=>{var p;return a.set(u,new Z1(d,(p=s.get(u))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,t){let r=Zd(),i=new Dt((s,a)=>s-a),o=Fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(c=>{let u=t.get(c);if(u===null)return;let d=r.get(c)||Er.empty();d=a.applyToLocalView(u,d),r.set(c,d);let p=(i.get(a.batchId)||Fe()).add(c);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),u=c.key,d=c.value,p=G2();d.forEach(_=>{if(!o.has(_)){let y=J2(t.get(_),r.get(_));y!==null&&p.set(_,y),o=o.add(_)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,p))}return q.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(s){return he.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):j2(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):q.resolve(Ea()),a=eh,c=o;return s.next(u=>q.forEach(u,(d,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(d)?q.resolve():this.remoteDocumentCache.getEntry(e,d).next(_=>{c=c.insert(d,_)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,c,u,Fe())).next(d=>({batchId:a,changes:q2(d)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new he(t)).next(r=>{let i=Kd();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=Kd();return this.indexManager.getCollectionParents(e,o).next(a=>q.forEach(a,c=>{let u=function(p,_){return new _s(_,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(t,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(d=>{d.forEach((p,_)=>{s=s.insert(p,_)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((c,u)=>{let d=u.getKey();s.get(d)===null&&(s=s.insert(d,Qr.newInvalidDocument(d)))});let a=Kd();return s.forEach((c,u)=>{let d=o.get(c);d!==void 0&&Jd(d.mutation,u,Er.empty(),ze.now()),f_(t,u)&&(a=a.insert(c,u))}),a})}};var X1=class{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return q.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Fi(i.createTime)}}(t)),q.resolve()}getNamedQuery(e,t){return q.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,function(i){return{name:i.name,query:uY(i.bundledQuery),readTime:Fi(i.readTime)}}(t)),q.resolve()}};var eE=class{constructor(){this.overlays=new Dt(he.comparator),this.kr=new Map}getOverlay(e,t){return q.resolve(this.overlays.get(t))}getOverlays(e,t){let r=Ea();return q.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.wt(e,t,o)}),q.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.kr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.kr.delete(r)),q.resolve()}getOverlaysForCollection(e,t,r){let i=Ea(),o=t.length+1,s=new he(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let c=a.getNext().value,u=c.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===o&&c.largestBatchId>r&&i.set(c.getKey(),c)}return q.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new Dt((u,d)=>u-d),s=this.overlays.getIterator();for(;s.hasNext();){let u=s.getNext().value;if(u.getKey().getCollectionGroup()===t&&u.largestBatchId>r){let d=o.get(u.largestBatchId);d===null&&(d=Ea(),o=o.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}let a=Ea(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=i)););return q.resolve(a)}wt(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new N1(t,r));let o=this.kr.get(t);o===void 0&&(o=Fe(),this.kr.set(t,o)),this.kr.set(t,o.add(r.key))}};var tE=class{constructor(){this.sessionToken=yn.EMPTY_BYTE_STRING}getSessionToken(e){return q.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,q.resolve()}};var ch=class{constructor(){this.qr=new Xt(Ut.Qr),this.$r=new Xt(Ut.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){let r=new Ut(e,t);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Wr(new Ut(e,t))}Gr(e,t){e.forEach(r=>this.removeReference(r,t))}zr(e){let t=new he(new yt([])),r=new Ut(t,e),i=new Ut(t,e+1),o=[];return this.$r.forEachInRange([r,i],s=>{this.Wr(s),o.push(s.key)}),o}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){let t=new he(new yt([])),r=new Ut(t,e),i=new Ut(t,e+1),o=Fe();return this.$r.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new Ut(e,0),r=this.qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},Ut=class{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return he.comparator(e.key,t.key)||ke(e.Hr,t.Hr)}static Ur(e,t){return ke(e.Hr,t.Hr)||he.comparator(e.key,t.key)}};var nE=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new Xt(Ut.Qr)}checkEmpty(e){return q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new R1(o,t,r,i);this.mutationQueue.push(s);for(let a of i)this.Yr=this.Yr.add(new Ut(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return q.resolve(s)}lookupMutationBatch(e,t){return q.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.Xr(r),o=i<0?0:i;return q.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return q.resolve(this.mutationQueue.length===0?YE:this.er-1)}getAllMutationBatches(e){return q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new Ut(t,0),i=new Ut(t,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([r,i],s=>{let a=this.Zr(s.Hr);o.push(a)}),q.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Xt(ke);return t.forEach(i=>{let o=new Ut(i,0),s=new Ut(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,s],a=>{r=r.add(a.Hr)})}),q.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;he.isDocumentKey(o)||(o=o.child(""));let s=new Ut(new he(o),0),a=new Xt(ke);return this.Yr.forEachWhile(c=>{let u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(c.Hr)),!0)},s),q.resolve(this.ei(a))}ei(e){let t=[];return e.forEach(r=>{let i=this.Zr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Qe(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return q.forEach(t.mutations,i=>{let o=new Ut(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,t){let r=new Ut(t,0),i=this.Yr.firstAfterOrEqual(r);return q.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,q.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){let t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var rE=class{constructor(e){this.ni=e,this.docs=function(){return new Dt(he.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.ni(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return q.resolve(r?r.document.mutableCopy():Qr.newInvalidDocument(t))}getEntries(e,t){let r=Co();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Qr.newInvalidDocument(i))}),q.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=Co(),s=t.path,a=new he(s.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:u,value:{document:d}}=c.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||hK(dK(d),r)<=0||(i.has(d.key)||f_(t,d))&&(o=o.insert(d.key,d.mutableCopy()))}return q.resolve(o)}getAllFromCollectionGroup(e,t,r,i){ge(9500)}ri(e,t){return q.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new iE(this)}getSize(e){return q.resolve(this.size)}},iE=class extends Q1{constructor(e){super(),this.Or=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),q.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}};var oE=class{constructor(e){this.persistence=e,this.ii=new bo(t=>eI(t),tI),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this.si=0,this.oi=new ch,this.targetCount=0,this._i=ah.ar()}forEachTarget(e,t){return this.ii.forEach((r,i)=>t(i)),q.resolve()}getLastRemoteSnapshotVersion(e){return q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return q.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),q.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.si&&(this.si=t),q.resolve()}hr(e){this.ii.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this._i=new ah(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,q.resolve()}updateTargetData(e,t){return this.hr(t),q.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,q.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.ii.forEach((s,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.ii.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),q.waitFor(o).next(()=>i)}getTargetCount(e){return q.resolve(this.targetCount)}getTargetData(e,t){let r=this.ii.get(t)||null;return q.resolve(r)}addMatchingKeys(e,t,r){return this.oi.Kr(t,r),q.resolve()}removeMatchingKeys(e,t,r){this.oi.Gr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),q.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),q.resolve()}getMatchingKeysForTargetId(e,t){let r=this.oi.Jr(t);return q.resolve(r)}containsKey(e,t){return q.resolve(this.oi.containsKey(t))}};var zm=class{constructor(e,t){this.ai={},this.overlays={},this.ui=new KE(0),this.ci=!1,this.ci=!0,this.li=new tE,this.referenceDelegate=e(this),this.hi=new oE(this),this.indexManager=new q1,this.remoteDocumentCache=function(i){return new rE(i)}(r=>this.referenceDelegate.Pi(r)),this.serializer=new z1(t),this.Ti=new X1(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new eE,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ai[e.toKey()];return r||(r=new nE(t,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,r){te("MemoryPersistence","Starting transaction:",e);let i=new sE(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ei(e,t){return q.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,t)))}},sE=class extends m1{constructor(e){super(),this.currentSequenceNumber=e}},aE=class n{constructor(e){this.persistence=e,this.Ai=new ch,this.Ri=null}static Vi(e){return new n(e)}get mi(){if(this.Ri)return this.Ri;throw ge(60996)}addReference(e,t,r){return this.Ai.addReference(r,t),this.mi.delete(r.toString()),q.resolve()}removeReference(e,t,r){return this.Ai.removeReference(r,t),this.mi.add(r.toString()),q.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),q.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(i=>this.mi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.mi.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return q.forEach(this.mi,r=>{let i=he.fromPath(r);return this.fi(e,i).next(o=>{o||t.removeEntry(i,Ie.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(r=>{r?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return q.or([()=>q.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}},qm=class n{constructor(e,t){this.persistence=e,this.gi=new bo(r=>mK(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=hY(this,t)}static Vi(e,t){return new n(e,t)}Ii(){}di(e){return q.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){let t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}yr(e){let t=0;return this.gr(e,r=>{t++}).next(()=>t)}gr(e,t){return q.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(o=>o?q.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ri(e,s=>this.Sr(e,s,t).next(a=>{a||(r++,o.removeEntry(s,Ie.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),q.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),q.resolve()}removeReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),q.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),q.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Tm(e.data.value)),t}Sr(e,t,r){return q.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let i=this.gi.get(t);return q.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var cE=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Is=r,this.ds=i}static Es(e,t){let r=Fe(),i=Fe();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var lE=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var uE=class{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return MR()?8:pK(Yt())>0?6:4}()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.ps(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ys(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new lE;return this.ws(e,t,s).next(a=>{if(o.result=a,this.Rs)return this.Ss(e,t,s,a.size)})}).next(()=>o.result)}Ss(e,t,r,i){return r.documentReadCount<this.Vs?(al()<=Pe.DEBUG&&te("QueryEngine","SDK will not create cache indexes for query:",cl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),q.resolve()):(al()<=Pe.DEBUG&&te("QueryEngine","Query:",cl(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(al()<=Pe.DEBUG&&te("QueryEngine","The SDK decides to create cache indexes for query:",cl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Oi(t))):q.resolve())}ps(e,t){if(RN(t))return q.resolve(null);let r=Oi(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=Vm(t,null,"F"),r=Oi(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=Fe(...o);return this.gs.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let u=this.bs(t,a);return this.Ds(t,u,s,c.readTime)?this.ps(e,Vm(t,null,"F")):this.vs(e,u,t,c)}))})))}ys(e,t,r,i){return RN(t)||i.isEqual(Ie.min())?q.resolve(null):this.gs.getDocuments(e,r).next(o=>{let s=this.bs(t,o);return this.Ds(t,s,r,i)?q.resolve(null):(al()<=Pe.DEBUG&&te("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),cl(t)),this.vs(e,s,t,uK(i,eh)).next(a=>a))})}bs(e,t){let r=new Xt($2(e));return t.forEach((i,o)=>{f_(e,o)&&(r=r.add(o))}),r}Ds(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ws(e,t,r){return al()<=Pe.DEBUG&&te("QueryEngine","Using full collection scan to execute query:",cl(t)),this.gs.getDocumentsMatchingQuery(e,t,Ma.min(),r)}vs(e,t,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var oI="LocalStore",fY=3e8,dE=class{constructor(e,t,r,i){this.persistence=e,this.Cs=t,this.serializer=i,this.Fs=new Dt(ke),this.Ms=new bo(o=>eI(o),tI),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new J1(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}};function pY(n,e,t,r){return new dE(n,e,t,r)}function lF(n,e){return I(this,null,function*(){let t=be(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Ns(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],c=Fe();for(let u of i){s.push(u.batchId);for(let d of u.mutations)c=c.add(d.key)}for(let u of o){a.push(u.batchId);for(let d of u.mutations)c=c.add(d.key)}return t.localDocuments.getDocuments(r,c).next(u=>({Bs:u,removedBatchIds:s,addedBatchIds:a}))})})})}function gY(n,e){let t=be(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=t.Os.newChangeBuffer({trackRemovals:!0});return function(a,c,u,d){let p=u.batch,_=p.keys(),y=q.resolve();return _.forEach(v=>{y=y.next(()=>d.getEntry(c,v)).next(A=>{let O=u.docVersions.get(v);Qe(O!==null,48541),A.version.compareTo(O)<0&&(p.applyToRemoteDocument(A,u),A.isValidDocument()&&(A.setReadTime(u.commitVersion),d.addEntry(A)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(c,p))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=Fe();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function uF(n){let e=be(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hi.getLastRemoteSnapshotVersion(t))}function mY(n,e){let t=be(n),r=e.snapshotVersion,i=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.Os.newChangeBuffer({trackRemovals:!0});i=t.Fs;let a=[];e.targetChanges.forEach((d,p)=>{let _=i.get(p);if(!_)return;a.push(t.hi.removeMatchingKeys(o,d.removedDocuments,p).next(()=>t.hi.addMatchingKeys(o,d.addedDocuments,p)));let y=_.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(yn.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):d.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(d.resumeToken,r)),i=i.insert(p,y),function(A,O,G){return A.resumeToken.approximateByteSize()===0||O.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=fY?!0:G.addedDocuments.size+G.modifiedDocuments.size+G.removedDocuments.size>0}(_,y,d)&&a.push(t.hi.updateTargetData(o,y))});let c=Co(),u=Fe();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,d))}),a.push(_Y(o,s,e.documentUpdates).next(d=>{c=d.Ls,u=d.ks})),!r.isEqual(Ie.min())){let d=t.hi.getLastRemoteSnapshotVersion(o).next(p=>t.hi.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(d)}return q.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,c,u)).next(()=>c)}).then(o=>(t.Fs=i,o))}function _Y(n,e,t){let r=Fe(),i=Fe();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=Co();return t.forEach((a,c)=>{let u=o.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(Ie.min())?(e.removeEntry(a,c.readTime),s=s.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),s=s.insert(a,c)):te(oI,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{Ls:s,ks:i}})}function vY(n,e){let t=be(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=YE),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function yY(n,e){let t=be(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.hi.getTargetData(r,e).next(o=>o?(i=o,q.resolve(i)):t.hi.allocateTargetId(r).next(s=>(i=new sh(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(r.targetId,r),t.Ms.set(e,r.targetId)),r})}function hE(n,e,t){return I(this,null,function*(){let r=be(n),i=r.Fs.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Dl(s))throw s;te(oI,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)})}function GN(n,e,t){let r=be(n),i=Ie.min(),o=Fe();return r.persistence.runTransaction("Execute query","readwrite",s=>function(c,u,d){let p=be(c),_=p.Ms.get(d);return _!==void 0?q.resolve(p.Fs.get(_)):p.hi.getTargetData(u,d)}(r,s,Oi(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>r.Cs.getDocumentsMatchingQuery(s,e,t?i:Ie.min(),t?o:Fe())).next(a=>(wY(r,RK(e),a),{documents:a,qs:o})))}function wY(n,e,t){let r=n.xs.get(e)||Ie.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.xs.set(e,r)}var Gm=class{constructor(){this.activeTargetIds=UK()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var fE=class{constructor(){this.Fo=new Gm,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,r){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new Gm,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var pE=class{xo(e){}shutdown(){}};var WN="ConnectivityMonitor",Wm=class{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){te(WN,"Network connectivity changed: AVAILABLE");for(let e of this.ko)e(0)}Lo(){te(WN,"Network connectivity changed: UNAVAILABLE");for(let e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Sm=null;function gE(){return Sm===null?Sm=function(){return 268435456+Math.round(2147483648*Math.random())}():Sm++,"0x"+Sm.toString(16)}var o1="RestConnection",bY={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},mE=class{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===Om?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,t,r,i,o){let s=gE(),a=this.Go(e,t.toUriEncodedString());te(o1,`Sending RPC '${e}' ${s}:`,a,r);let c={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(c,i,o);let{host:u}=new URL(a),d=er(u);return this.jo(e,a,c,r,d).then(p=>(te(o1,`Received RPC '${e}' ${s}: `,p),p),p=>{throw gs(o1,`RPC '${e}' ${s} failed with error: `,p,"url: ",a,"request:",r),p})}Jo(e,t,r,i,o,s){return this.Wo(e,t,r,i,o)}zo(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+xl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}Go(e,t){let r=bY[e];return`${this.$o}/v1/${t}:${r}`}terminate(){}};var _E=class{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}};var vn="WebChannelConnection",vE=class extends mE{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,r,i,o){let s=gE();return new Promise((a,c)=>{let u=new XC;u.setWithCredentials(!0),u.listenOnce(e1.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Wd.NO_ERROR:let p=u.getResponseJson();te(vn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),a(p);break;case Wd.TIMEOUT:te(vn,`RPC '${e}' ${s} timed out`),c(new X(L.DEADLINE_EXCEEDED,"Request time out"));break;case Wd.HTTP_ERROR:let _=u.getStatus();if(te(vn,`RPC '${e}' ${s} failed with status:`,_,"response text:",u.getResponseText()),_>0){let y=u.getResponseJson();Array.isArray(y)&&(y=y[0]);let v=y?.error;if(v&&v.status&&v.message){let A=function(G){let ee=G.toLowerCase().replace(/_/g,"-");return Object.values(L).indexOf(ee)>=0?ee:L.UNKNOWN}(v.status);c(new X(A,v.message))}else c(new X(L.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new X(L.UNAVAILABLE,"Connection failed."));break;default:ge(9055,{c_:e,streamId:s,l_:u.getLastErrorCode(),h_:u.getLastError()})}}finally{te(vn,`RPC '${e}' ${s} completed.`)}});let d=JSON.stringify(i);te(vn,`RPC '${e}' ${s} sending request:`,i),u.send(t,"POST",d,r,15)})}P_(e,t,r){let i=gE(),o=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=r1(),a=n1(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.zo(c.initMessageHeaders,t,r),c.encodeInitMessageHeaders=!0;let d=o.join("");te(vn,`Creating RPC '${e}' stream ${i}: ${d}`,c);let p=s.createWebChannel(d,c);this.T_(p);let _=!1,y=!1,v=new _E({Ho:O=>{y?te(vn,`Not sending because RPC '${e}' stream ${i} is closed:`,O):(_||(te(vn,`Opening RPC '${e}' stream ${i} transport.`),p.open(),_=!0),te(vn,`RPC '${e}' stream ${i} sending:`,O),p.send(O))},Yo:()=>p.close()}),A=(O,G,ee)=>{O.listen(G,Z=>{try{ee(Z)}catch(se){setTimeout(()=>{throw se},0)}})};return A(p,sl.EventType.OPEN,()=>{y||(te(vn,`RPC '${e}' stream ${i} transport opened.`),v.s_())}),A(p,sl.EventType.CLOSE,()=>{y||(y=!0,te(vn,`RPC '${e}' stream ${i} transport closed`),v.__(),this.I_(p))}),A(p,sl.EventType.ERROR,O=>{y||(y=!0,gs(vn,`RPC '${e}' stream ${i} transport errored. Name:`,O.name,"Message:",O.message),v.__(new X(L.UNAVAILABLE,"The operation could not be completed")))}),A(p,sl.EventType.MESSAGE,O=>{var G;if(!y){let ee=O.data[0];Qe(!!ee,16349);let Z=ee,se=Z?.error||((G=Z[0])===null||G===void 0?void 0:G.error);if(se){te(vn,`RPC '${e}' stream ${i} received error:`,se);let De=se.status,fe=function(M){let D=Lt[M];if(D!==void 0)return eF(D)}(De),P=se.message;fe===void 0&&(fe=L.INTERNAL,P="Unknown error status: "+De+" with message "+se.message),y=!0,v.__(new X(fe,P)),p.close()}else te(vn,`RPC '${e}' stream ${i} received:`,ee),v.a_(ee)}}),A(a,t1.STAT_EVENT,O=>{O.stat===Cm.PROXY?te(vn,`RPC '${e}' stream ${i} detected buffering proxy`):O.stat===Cm.NOPROXY&&te(vn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{v.o_()},0),v}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}};function s1(){return typeof document<"u"?document:null}function p_(n){return new U1(n,!0)}var Km=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.Fi=e,this.timerId=t,this.d_=r,this.E_=i,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();let t=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,t-r);i>0&&te("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}};var KN="PersistentStream",Ym=class{constructor(e,t,r,i,o,s,a,c){this.Fi=e,this.w_=r,this.S_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new Km(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}stop(){return I(this,null,function*(){this.M_()&&(yield this.close(0))})}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}L_(){return I(this,null,function*(){if(this.x_())return this.close(0)})}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}close(e,t){return I(this,null,function*(){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===L.RESOURCE_EXHAUSTED?(vo(t.toString()),vo("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===L.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.n_(t)})}U_(){}auth(){this.state=1;let e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===t&&this.W_(r,i)},r=>{e(()=>{let i=new X(L.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,t){let r=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(()=>I(this,null,function*(){this.state=0,this.start()}))}G_(e){return te(KN,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(te(KN,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},yE=class extends Ym{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();let t=XK(this.serializer,e),r=function(o){if(!("targetChange"in o))return Ie.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?Ie.min():s.readTime?Fi(s.readTime):Ie.min()}(e);return this.listener.J_(t,r)}H_(e){let t={};t.database=$1(this.serializer),t.addTarget=function(o,s){let a,c=s.target;if(a=D1(c)?{documents:nY(o,c)}:{query:rY(o,c).Vt},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=tF(o,s.resumeToken);let u=B1(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(Ie.min())>0){a.readTime=Hm(o,s.snapshotVersion.toTimestamp());let u=B1(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);let r=oY(this.serializer,e);r&&(t.labels=r),this.k_(t)}Y_(e){let t={};t.database=$1(this.serializer),t.removeTarget=e,this.k_(t)}},wE=class extends Ym{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return Qe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Qe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){Qe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();let t=tY(e.writeResults,e.commitTime),r=Fi(e.commitTime);return this.listener.ta(r,t)}na(){let e={};e.database=$1(this.serializer),this.k_(e)}X_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>eY(this.serializer,r))};this.k_(t)}};var bE=class{},CE=class extends bE{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new X(L.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Wo(e,j1(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new X(L.UNKNOWN,o.toString())})}Jo(e,t,r,i,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Jo(e,j1(t,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new X(L.UNKNOWN,s.toString())})}terminate(){this.ra=!0,this.connection.terminate()}},EE=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(vo(t),this._a=!1):te("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}};var Ra="RemoteStore",IE=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo(s=>{r.enqueueAndForget(()=>I(this,null,function*(){Oa(this)&&(te(Ra,"Restarting streams for network reachability change."),yield function(c){return I(this,null,function*(){let u=be(c);u.Ia.add(4),yield fh(u),u.Aa.set("Unknown"),u.Ia.delete(4),yield g_(u)})}(this))}))}),this.Aa=new EE(r,i)}};function g_(n){return I(this,null,function*(){if(Oa(n))for(let e of n.da)yield e(!0)})}function fh(n){return I(this,null,function*(){for(let e of n.da)yield e(!1)})}function dF(n,e){let t=be(n);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),lI(t)?cI(t):Al(t).x_()&&aI(t,e))}function sI(n,e){let t=be(n),r=Al(t);t.Ta.delete(e),r.x_()&&hF(t,e),t.Ta.size===0&&(r.x_()?r.B_():Oa(t)&&t.Aa.set("Unknown"))}function aI(n,e){if(n.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Al(n).H_(e)}function hF(n,e){n.Ra.$e(e),Al(n).Y_(e)}function cI(n){n.Ra=new L1({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Ta.get(e)||null,lt:()=>n.datastore.serializer.databaseId}),Al(n).start(),n.Aa.aa()}function lI(n){return Oa(n)&&!Al(n).M_()&&n.Ta.size>0}function Oa(n){return be(n).Ia.size===0}function fF(n){n.Ra=void 0}function CY(n){return I(this,null,function*(){n.Aa.set("Online")})}function EY(n){return I(this,null,function*(){n.Ta.forEach((e,t)=>{aI(n,e)})})}function IY(n,e){return I(this,null,function*(){fF(n),lI(n)?(n.Aa.la(e),cI(n)):n.Aa.set("Unknown")})}function SY(n,e,t){return I(this,null,function*(){if(n.Aa.set("Online"),e instanceof Bm&&e.state===2&&e.cause)try{yield function(i,o){return I(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.Ta.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.Ta.delete(a),i.Ra.removeTarget(a))})}(n,e)}catch(r){te(Ra,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Qm(n,r)}else if(e instanceof hl?n.Ra.Ye(e):e instanceof Um?n.Ra.it(e):n.Ra.et(e),!t.isEqual(Ie.min()))try{let r=yield uF(n.localStore);t.compareTo(r)>=0&&(yield function(o,s){let a=o.Ra.Pt(s);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){let d=o.Ta.get(u);d&&o.Ta.set(u,d.withResumeToken(c.resumeToken,s))}}),a.targetMismatches.forEach((c,u)=>{let d=o.Ta.get(c);if(!d)return;o.Ta.set(c,d.withResumeToken(yn.EMPTY_BYTE_STRING,d.snapshotVersion)),hF(o,c);let p=new sh(d.target,c,u,d.sequenceNumber);aI(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){te(Ra,"Failed to raise snapshot:",r),yield Qm(n,r)}})}function Qm(n,e,t){return I(this,null,function*(){if(!Dl(e))throw e;n.Ia.add(1),yield fh(n),n.Aa.set("Offline"),t||(t=()=>uF(n.localStore)),n.asyncQueue.enqueueRetryable(()=>I(null,null,function*(){te(Ra,"Retrying IndexedDB access"),yield t(),n.Ia.delete(1),yield g_(n)}))})}function pF(n,e){return e().catch(t=>Qm(n,t,e))}function m_(n){return I(this,null,function*(){let e=be(n),t=vs(e),r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:YE;for(;TY(e);)try{let i=yield vY(e.localStore,r);if(i===null){e.Pa.length===0&&t.B_();break}r=i.batchId,xY(e,i)}catch(i){yield Qm(e,i)}gF(e)&&mF(e)})}function TY(n){return Oa(n)&&n.Pa.length<10}function xY(n,e){n.Pa.push(e);let t=vs(n);t.x_()&&t.Z_&&t.X_(e.mutations)}function gF(n){return Oa(n)&&!vs(n).M_()&&n.Pa.length>0}function mF(n){vs(n).start()}function MY(n){return I(this,null,function*(){vs(n).na()})}function DY(n){return I(this,null,function*(){let e=vs(n);for(let t of n.Pa)e.X_(t.mutations)})}function AY(n,e,t){return I(this,null,function*(){let r=n.Pa.shift(),i=O1.from(r,e,t);yield pF(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield m_(n)})}function PY(n,e){return I(this,null,function*(){e&&vs(n).Z_&&(yield function(r,i){return I(this,null,function*(){if(function(s){return GK(s)&&s!==L.ABORTED}(i.code)){let o=r.Pa.shift();vs(r).N_(),yield pF(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield m_(r)}})}(n,e)),gF(n)&&mF(n)})}function YN(n,e){return I(this,null,function*(){let t=be(n);t.asyncQueue.verifyOperationInProgress(),te(Ra,"RemoteStore received new credentials");let r=Oa(t);t.Ia.add(3),yield fh(t),r&&t.Aa.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),yield g_(t)})}function kY(n,e){return I(this,null,function*(){let t=be(n);e?(t.Ia.delete(2),yield g_(t)):e||(t.Ia.add(2),yield fh(t),t.Aa.set("Unknown"))})}function Al(n){return n.Va||(n.Va=function(t,r,i){let o=be(t);return o.ia(),new yE(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Zo:CY.bind(null,n),e_:EY.bind(null,n),n_:IY.bind(null,n),J_:SY.bind(null,n)}),n.da.push(e=>I(null,null,function*(){e?(n.Va.N_(),lI(n)?cI(n):n.Aa.set("Unknown")):(yield n.Va.stop(),fF(n))}))),n.Va}function vs(n){return n.ma||(n.ma=function(t,r,i){let o=be(t);return o.ia(),new wE(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),e_:MY.bind(null,n),n_:PY.bind(null,n),ea:DY.bind(null,n),ta:AY.bind(null,n)}),n.da.push(e=>I(null,null,function*(){e?(n.ma.N_(),yield m_(n)):(yield n.ma.stop(),n.Pa.length>0&&(te(Ra,`Stopping write stream with ${n.Pa.length} pending writes`),n.Pa=[]))}))),n.ma}var SE=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new _o,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,a=new n(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new X(L.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function uI(n,e){if(vo("AsyncQueue",`${e}: ${n}`),Dl(n))return new X(L.UNAVAILABLE,`${e}: ${n}`);throw n}var Zm=class n{static emptySet(e){return new n(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||he.comparator(t.key,r.key):(t,r)=>he.comparator(t.key,r.key),this.keyedMap=Kd(),this.sortedSet=new Dt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var Jm=class{constructor(){this.fa=new Dt(he.comparator)}track(e){let t=e.doc.key,r=this.fa.get(t);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(t,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(t):e.type===1&&r.type===2?this.fa=this.fa.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):ge(63341,{At:e,ga:r}):this.fa=this.fa.insert(t,e)}pa(){let e=[];return this.fa.inorderTraversal((t,r)=>{e.push(r)}),e}},Il=class n{constructor(e,t,r,i,o,s,a,c,u){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,Zm.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&h_(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var TE=class{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}},xE=class{constructor(){this.queries=QN(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,r){let i=be(t),o=i.queries;i.queries=QN(),o.forEach((s,a)=>{for(let c of a.wa)c.onError(r)})})(this,new X(L.ABORTED,"Firestore shutting down"))}};function QN(){return new bo(n=>H2(n),h_)}function RY(n,e){return I(this,null,function*(){let t=be(n),r=3,i=e.query,o=t.queries.get(i);o?!o.Sa()&&e.ba()&&(r=2):(o=new TE,r=e.ba()?0:1);try{switch(r){case 0:o.ya=yield t.onListen(i,!0);break;case 1:o.ya=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){let a=uI(s,`Initialization of query '${cl(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.wa.push(e),e.va(t.onlineState),o.ya&&e.Ca(o.ya)&&dI(t)})}function OY(n,e){return I(this,null,function*(){let t=be(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.wa.indexOf(e);s>=0&&(o.wa.splice(s,1),o.wa.length===0?i=e.ba()?0:1:!o.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function NY(n,e){let t=be(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let a of s.wa)a.Ca(i)&&(r=!0);s.ya=i}}r&&dI(t)}function FY(n,e,t){let r=be(n),i=r.queries.get(e);if(i)for(let o of i.wa)o.onError(t);r.queries.delete(e)}function dI(n){n.Da.forEach(e=>{e.next()})}var ME,ZN;(ZN=ME||(ME={})).Fa="default",ZN.Cache="cache";var DE=class{constructor(e,t,r){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Il(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;let r=t!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;let t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=Il.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==ME.Cache}};var Xm=class{constructor(e){this.key=e}},e_=class{constructor(e){this.key=e}},AE=class{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Fe(),this.mutatedKeys=Fe(),this.Xa=$2(e),this.eu=new Zm(this.Xa)}get tu(){return this.Ha}nu(e,t){let r=t?t.ru:new Jm,i=t?t.eu:this.eu,o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1,c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,p)=>{let _=i.get(d),y=f_(this.query,p)?p:null,v=!!_&&this.mutatedKeys.has(_.key),A=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),O=!1;_&&y?_.data.isEqual(y.data)?v!==A&&(r.track({type:3,doc:y}),O=!0):this.iu(_,y)||(r.track({type:2,doc:y}),O=!0,(c&&this.Xa(y,c)>0||u&&this.Xa(y,u)<0)&&(a=!0)):!_&&y?(r.track({type:0,doc:y}),O=!0):_&&!y&&(r.track({type:1,doc:_}),O=!0,(c||u)&&(a=!0)),O&&(y?(s=s.add(y),o=A?o.add(d):o.delete(d)):(s=s.delete(d),o=o.delete(d)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let d=this.query.limitType==="F"?s.last():s.first();s=s.delete(d.key),o=o.delete(d.key),r.track({type:1,doc:d})}return{eu:s,ru:r,Ds:a,mutatedKeys:o}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;let s=e.ru.pa();s.sort((d,p)=>function(y,v){let A=O=>{switch(O){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ge(20277,{At:O})}};return A(y)-A(v)}(d.type,p.type)||this.Xa(d.doc,p.doc)),this.su(r),i=i!=null&&i;let a=t&&!i?this.ou():[],c=this.Za.size===0&&this.current&&!i?1:0,u=c!==this.Ya;return this.Ya=c,s.length!==0||u?{snapshot:new Il(this.query,e.eu,o,s,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:a}:{_u:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new Jm,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}ou(){if(!this.current)return[];let e=this.Za;this.Za=Fe(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});let t=[];return e.forEach(r=>{this.Za.has(r)||t.push(new e_(r))}),this.Za.forEach(r=>{e.has(r)||t.push(new Xm(r))}),t}uu(e){this.Ha=e.qs,this.Za=Fe();let t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return Il.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}},hI="SyncEngine",PE=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},kE=class{constructor(e){this.key=e,this.lu=!1}},RE=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.hu={},this.Pu=new bo(a=>H2(a),h_),this.Tu=new Map,this.Iu=new Set,this.du=new Dt(he.comparator),this.Eu=new Map,this.Au=new ch,this.Ru={},this.Vu=new Map,this.mu=ah.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}};function VY(n,e,t=!0){return I(this,null,function*(){let r=CF(n),i,o=r.Pu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.cu()):i=yield _F(r,e,t,!0),i})}function LY(n,e){return I(this,null,function*(){let t=CF(n);yield _F(t,e,!0,!1)})}function _F(n,e,t,r){return I(this,null,function*(){let i=yield yY(n.localStore,Oi(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),a;return r&&(a=yield UY(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&dF(n.remoteStore,i),a})}function UY(n,e,t,r,i){return I(this,null,function*(){n.gu=(p,_,y)=>function(A,O,G,ee){return I(this,null,function*(){let Z=O.view.nu(G);Z.Ds&&(Z=yield GN(A.localStore,O.query,!1).then(({documents:P})=>O.view.nu(P,Z)));let se=ee&&ee.targetChanges.get(O.targetId),De=ee&&ee.targetMismatches.get(O.targetId)!=null,fe=O.view.applyChanges(Z,A.isPrimaryClient,se,De);return XN(A,O.targetId,fe._u),fe.snapshot})}(n,p,_,y);let o=yield GN(n.localStore,e,!0),s=new AE(e,o.qs),a=s.nu(o.documents),c=oh.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),u=s.applyChanges(a,n.isPrimaryClient,c);XN(n,t,u._u);let d=new PE(e,t,s);return n.Pu.set(e,d),n.Tu.has(t)?n.Tu.get(t).push(e):n.Tu.set(t,[e]),u.snapshot})}function BY(n,e,t){return I(this,null,function*(){let r=be(n),i=r.Pu.get(e),o=r.Tu.get(i.targetId);if(o.length>1)return r.Tu.set(i.targetId,o.filter(s=>!h_(s,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield hE(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&sI(r.remoteStore,i.targetId),OE(r,i.targetId)}).catch(Ml))):(OE(r,i.targetId),yield hE(r.localStore,i.targetId,!0))})}function jY(n,e){return I(this,null,function*(){let t=be(n),r=t.Pu.get(e),i=t.Tu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),sI(t.remoteStore,r.targetId))})}function HY(n,e,t){return I(this,null,function*(){let r=YY(n);try{let i=yield function(s,a){let c=be(s),u=ze.now(),d=a.reduce((y,v)=>y.add(v.key),Fe()),p,_;return c.persistence.runTransaction("Locally write mutations","readwrite",y=>{let v=Co(),A=Fe();return c.Os.getEntries(y,d).next(O=>{v=O,v.forEach((G,ee)=>{ee.isValidDocument()||(A=A.add(G))})}).next(()=>c.localDocuments.getOverlayedDocuments(y,v)).next(O=>{p=O;let G=[];for(let ee of a){let Z=qK(ee,p.get(ee.key).overlayedDocument);Z!=null&&G.push(new Li(ee.key,Z,N2(Z.value.mapValue),Ni.exists(!0)))}return c.mutationQueue.addMutationBatch(y,u,G,a)}).next(O=>{_=O;let G=O.applyToLocalDocumentSet(p,A);return c.documentOverlayCache.saveOverlays(y,O.batchId,G)})}).then(()=>({batchId:_.batchId,changes:q2(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,c){let u=s.Ru[s.currentUser.toKey()];u||(u=new Dt(ke)),u=u.insert(a,c),s.Ru[s.currentUser.toKey()]=u}(r,i.batchId,t),yield ph(r,i.changes),yield m_(r.remoteStore)}catch(i){let o=uI(i,"Failed to persist write");t.reject(o)}})}function vF(n,e){return I(this,null,function*(){let t=be(n);try{let r=yield mY(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Eu.get(o);s&&(Qe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.lu=!0:i.modifiedDocuments.size>0?Qe(s.lu,14607):i.removedDocuments.size>0&&(Qe(s.lu,42227),s.lu=!1))}),yield ph(t,r,e)}catch(r){yield Ml(r)}})}function JN(n,e,t){let r=be(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Pu.forEach((o,s)=>{let a=s.view.va(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let c=be(s);c.onlineState=a;let u=!1;c.queries.forEach((d,p)=>{for(let _ of p.wa)_.va(a)&&(u=!0)}),u&&dI(c)}(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function $Y(n,e,t){return I(this,null,function*(){let r=be(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Eu.get(e),o=i&&i.key;if(o){let s=new Dt(he.comparator);s=s.insert(o,Qr.newNoDocument(o,Ie.min()));let a=Fe().add(o),c=new Lm(Ie.min(),new Map,new Dt(ke),s,a);yield vF(r,c),r.du=r.du.remove(o),r.Eu.delete(e),fI(r)}else yield hE(r.localStore,e,!1).then(()=>OE(r,e,t)).catch(Ml)})}function zY(n,e){return I(this,null,function*(){let t=be(n),r=e.batch.batchId;try{let i=yield gY(t.localStore,e);wF(t,r,null),yF(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield ph(t,i)}catch(i){yield Ml(i)}})}function qY(n,e,t){return I(this,null,function*(){let r=be(n);try{let i=yield function(s,a){let c=be(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return c.mutationQueue.lookupMutationBatch(u,a).next(p=>(Qe(p!==null,37113),d=p.keys(),c.mutationQueue.removeMutationBatch(u,p))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>c.localDocuments.getDocuments(u,d))})}(r.localStore,e);wF(r,e,t),yF(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield ph(r,i)}catch(i){yield Ml(i)}})}function yF(n,e){(n.Vu.get(e)||[]).forEach(t=>{t.resolve()}),n.Vu.delete(e)}function wF(n,e,t){let r=be(n),i=r.Ru[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function OE(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Tu.get(e))n.Pu.delete(r),t&&n.hu.pu(r,t);n.Tu.delete(e),n.isPrimaryClient&&n.Au.zr(e).forEach(r=>{n.Au.containsKey(r)||bF(n,r)})}function bF(n,e){n.Iu.delete(e.path.canonicalString());let t=n.du.get(e);t!==null&&(sI(n.remoteStore,t),n.du=n.du.remove(e),n.Eu.delete(t),fI(n))}function XN(n,e,t){for(let r of t)r instanceof Xm?(n.Au.addReference(r.key,e),GY(n,r)):r instanceof e_?(te(hI,"Document no longer in limbo: "+r.key),n.Au.removeReference(r.key,e),n.Au.containsKey(r.key)||bF(n,r.key)):ge(19791,{yu:r})}function GY(n,e){let t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Iu.has(r)||(te(hI,"New document in limbo: "+t),n.Iu.add(r),fI(n))}function fI(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){let e=n.Iu.values().next().value;n.Iu.delete(e);let t=new he(yt.fromString(e)),r=n.mu.next();n.Eu.set(r,new kE(t)),n.du=n.du.insert(t,r),dF(n.remoteStore,new sh(Oi(nI(t.path)),r,"TargetPurposeLimboResolution",KE.ue))}}function ph(n,e,t){return I(this,null,function*(){let r=be(n),i=[],o=[],s=[];r.Pu.isEmpty()||(r.Pu.forEach((a,c)=>{s.push(r.gu(c,e,t).then(u=>{var d;if((u||t)&&r.isPrimaryClient){let p=u?!u.fromCache:(d=t?.targetChanges.get(c.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(c.targetId,p?"current":"not-current")}if(u){i.push(u);let p=cE.Es(c.targetId,u);o.push(p)}}))}),yield Promise.all(s),r.hu.J_(i),yield function(c,u){return I(this,null,function*(){let d=be(c);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>q.forEach(u,_=>q.forEach(_.Is,y=>d.persistence.referenceDelegate.addReference(p,_.targetId,y)).next(()=>q.forEach(_.ds,y=>d.persistence.referenceDelegate.removeReference(p,_.targetId,y)))))}catch(p){if(!Dl(p))throw p;te(oI,"Failed to update sequence numbers: "+p)}for(let p of u){let _=p.targetId;if(!p.fromCache){let y=d.Fs.get(_),v=y.snapshotVersion,A=y.withLastLimboFreeSnapshotVersion(v);d.Fs=d.Fs.insert(_,A)}}})}(r.localStore,o))})}function WY(n,e){return I(this,null,function*(){let t=be(n);if(!t.currentUser.isEqual(e)){te(hI,"User change. New user:",e.toKey());let r=yield lF(t.localStore,e);t.currentUser=e,function(o,s){o.Vu.forEach(a=>{a.forEach(c=>{c.reject(new X(L.CANCELLED,s))})}),o.Vu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield ph(t,r.Bs)}})}function KY(n,e){let t=be(n),r=t.Eu.get(e);if(r&&r.lu)return Fe().add(r.key);{let i=Fe(),o=t.Tu.get(e);if(!o)return i;for(let s of o){let a=t.Pu.get(s);i=i.unionWith(a.view.tu)}return i}}function CF(n){let e=be(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=vF.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=KY.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=$Y.bind(null,e),e.hu.J_=NY.bind(null,e.eventManager),e.hu.pu=FY.bind(null,e.eventManager),e}function YY(n){let e=be(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=zY.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=qY.bind(null,e),e}var EF=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return I(this,null,function*(){this.serializer=p_(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Du(t),yield this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Cu(t,this.localStore),this.indexBackfillerScheduler=this.Fu(t,this.localStore)})}Cu(t,r){return null}Fu(t,r){return null}vu(t){return pY(this.persistence,new uE,t.initialUser,this.serializer)}Du(t){return new zm(aE.Vi,this.serializer)}bu(t){return new fE}terminate(){return I(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})(),NE=class extends EF{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){Qe(this.persistence.referenceDelegate instanceof qm,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new K1(r,e.asyncQueue,t)}Du(e){let t=this.cacheSizeBytes!==void 0?Cr.withCacheSize(this.cacheSizeBytes):Cr.DEFAULT;return new zm(r=>qm.Vi(r,t),this.serializer)}};var QY=(()=>{class n{initialize(t,r){return I(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>JN(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=WY.bind(null,this.syncEngine),yield kY(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new xE}()}createDatastore(t){let r=p_(t.databaseInfo.databaseId),i=function(s){return new vE(s)}(t.databaseInfo);return function(s,a,c,u){return new CE(s,a,c,u)}(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return function(i,o,s,a,c){return new IE(i,o,s,a,c)}(this.localStore,this.datastore,t.asyncQueue,r=>JN(this.syncEngine,r,0),function(){return Wm.C()?new Wm:new pE}())}createSyncEngine(t,r){return function(o,s,a,c,u,d,p){let _=new RE(o,s,a,c,u,d);return p&&(_.fu=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return I(this,null,function*(){var t,r;yield function(o){return I(this,null,function*(){let s=be(o);te(Ra,"RemoteStore shutting down."),s.Ia.add(5),yield fh(s),s.Ea.shutdown(),s.Aa.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var FE=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):vo("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var ys="FirestoreClient",VE=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Jt.UNAUTHENTICATED,this.clientId=Xd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>I(this,null,function*(){te(ys,"Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(te(ys,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new _o;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>I(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=uI(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function a1(n,e){return I(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),te(ys,"Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>I(null,null,function*(){r.isEqual(i)||(yield lF(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>{gs("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then(()=>{te("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{gs("Terminating Firestore due to IndexedDb database deletion failed",i)})}),n._offlineComponents=e})}function e2(n,e){return I(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield ZY(n);te(ys,"Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>YN(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>YN(e.remoteStore,i)),n._onlineComponents=e})}function ZY(n){return I(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){te(ys,"Using user provided OfflineComponentProvider");try{yield a1(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(i){return i.name==="FirebaseError"?i.code===L.FAILED_PRECONDITION||i.code===L.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;gs("Error using user provided cache. Falling back to memory cache: "+t),yield a1(n,new EF)}}else te(ys,"Using default OfflineComponentProvider"),yield a1(n,new NE(void 0));return n._offlineComponents})}function IF(n){return I(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(te(ys,"Using user provided OnlineComponentProvider"),yield e2(n,n._uninitializedComponentsProvider._online)):(te(ys,"Using default OnlineComponentProvider"),yield e2(n,new QY))),n._onlineComponents})}function JY(n){return IF(n).then(e=>e.syncEngine)}function t2(n){return I(this,null,function*(){let e=yield IF(n),t=e.eventManager;return t.onListen=VY.bind(null,e.syncEngine),t.onUnlisten=BY.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=LY.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=jY.bind(null,e.syncEngine),t})}function SF(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var n2=new Map;var TF="firestore.googleapis.com",r2=!0,t_=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new X(L.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=TF,this.ssl=r2}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:r2;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=cF;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<dY)throw new X(L.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}cK("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=SF((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new X(L.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new X(L.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new X(L.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Sl=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new t_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new X(L.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new X(L.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new t_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new c1;switch(r.type){case"firstParty":return new h1(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new X(L.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return I(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=n2.get(t);r&&(te("ComponentProvider","Removing Datastore"),n2.delete(t),r.terminate())}(this),Promise.resolve()}};function xF(n,e,t,r={}){var i;n=ki(n,Sl);let o=er(e),s=n._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:n._getEmulatorOptions()}),c=`${e}:${t}`;o&&(rs(`https://${c}`),is("Firestore",!0)),s.host!==TF&&s.host!==c&&gs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let u=Object.assign(Object.assign({},s),{host:c,ssl:o,emulatorOptions:r});if(!_r(u,a)&&(n._setSettings(u),r.mockUserToken)){let d,p;if(typeof r.mockUserToken=="string")d=r.mockUserToken,p=Jt.MOCK_USER;else{d=tl(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new X(L.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Jt(_)}n._authCredentials=new l1(new Dm(d,p))}}var ws=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},en=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ds(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}toJSON(){return{type:n._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(hh(t,n._jsonSchema))return new n(e,r||null,new he(yt.fromString(t.referencePath)))}};en._jsonSchemaVersion="firestore/documentReference/1.0",en._jsonSchema={type:jt("string",en._jsonSchemaVersion),referencePath:jt("string")};var ds=class n extends ws{constructor(e,t,r){super(e,t,nI(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new en(this.firestore,null,new he(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function MF(n,e,...t){if(n=ft(n),d2("collection","path",e),n instanceof Sl){let r=yt.fromString(e,...t);return wN(r),new ds(n,null,r)}{if(!(n instanceof en||n instanceof ds))throw new X(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(yt.fromString(e,...t));return wN(r),new ds(n.firestore,null,r)}}function pI(n,e,...t){if(n=ft(n),arguments.length===1&&(e=Xd.newId()),d2("doc","path",e),n instanceof Sl){let r=yt.fromString(e,...t);return yN(r),new en(n,null,new he(r))}{if(!(n instanceof en||n instanceof ds))throw new X(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(yt.fromString(e,...t));return yN(r),new en(n.firestore,n instanceof ds?n.converter:null,new he(r))}}var i2="AsyncQueue",n_=class{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new Km(this,"async_queue_retry"),this.oc=()=>{let r=s1();r&&te(i2,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;let t=s1();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;let t=s1();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});let t=new _o;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}cc(){return I(this,null,function*(){if(this.Zu.length!==0){try{yield this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Dl(e))throw e;te(i2,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}})}uc(e){let t=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,vo("INTERNAL UNHANDLED ERROR: ",o2(r)),r}).then(r=>(this.nc=!1,r))));return this._c=t,t}enqueueAfterDelay(e,t,r){this.ac(),this.sc.indexOf(e)>-1&&(t=0);let i=SE.createAndSchedule(this,e,t,r,o=>this.lc(o));return this.ec.push(i),i}ac(){this.tc&&ge(47125,{hc:o2(this.tc)})}verifyOperationInProgress(){}Pc(){return I(this,null,function*(){let e;do e=this._c,yield e;while(e!==this._c)})}Tc(e){for(let t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){let t=this.ec.indexOf(e);this.ec.splice(t,1)}};function o2(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}function s2(n){return function(t,r){if(typeof t!="object"||t===null)return!1;let i=t;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(n,["next","error","complete"])}var Eo=class extends Sl{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new n_,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return I(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new n_(e),this._firestoreClient=void 0,yield e}})}};function DF(n,e){let t=typeof n=="object"?n:Wr(),r=typeof n=="string"?n:e||Om,i=xi(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=el("firestore");o&&xF(i,...o)}return i}function AF(n){if(n._terminated)throw new X(L.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||XY(n),n._firestoreClient}function XY(n){var e,t,r;let i=n._freezeSettings(),o=function(a,c,u,d){return new _1(a,c,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,SF(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new VE(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(a){let c=a?._online.build();return{_offline:a?._offline.build(c),_online:c}}(n._componentsProvider))}var hs=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(yn.fromBase64String(e))}catch(t){throw new X(L.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(yn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(hh(e,n._jsonSchema))return n.fromBase64String(e.bytes)}};hs._jsonSchemaVersion="firestore/bytes/1.0",hs._jsonSchema={type:jt("string",hs._jsonSchemaVersion),bytes:jt("string")};var Tl=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new X(L.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var lh=class{constructor(e){this._methodName=e}};var fs=class n{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new X(L.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new X(L.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:n._jsonSchemaVersion}}static fromJSON(e){if(hh(e,n._jsonSchema))return new n(e.latitude,e.longitude)}};fs._jsonSchemaVersion="firestore/geoPoint/1.0",fs._jsonSchema={type:jt("string",fs._jsonSchemaVersion),latitude:jt("number"),longitude:jt("number")};var ps=class n{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}toJSON(){return{type:n._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(hh(e,n._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new n(e.vectorValues);throw new X(L.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};ps._jsonSchemaVersion="firestore/vectorValue/1.0",ps._jsonSchema={type:jt("string",ps._jsonSchemaVersion),vectorValues:jt("object")};var eQ=/^__.*__$/,LE=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Li(e,this.data,this.fieldMask,t,this.fieldTransforms):new ka(e,this.data,t,this.fieldTransforms)}},r_=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Li(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function PF(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ge(40011,{Ec:n})}}var UE=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ac(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return o_(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(PF(this.Ec)&&eQ.test(e))throw this.wc('Document fields cannot begin and end with "__"')}},BE=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||p_(e)}Dc(e,t,r,i=!1){return new UE({Ec:e,methodName:t,bc:r,path:rr.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function __(n){let e=n._freezeSettings(),t=p_(n._databaseId);return new BE(n._databaseId,!!e.ignoreUndefinedProperties,t)}function kF(n,e,t,r,i,o={}){let s=n.Dc(o.merge||o.mergeFields?2:0,e,t,i);gI("Data must be an object, but it was:",s,r);let a=RF(r,s),c,u;if(o.merge)c=new Er(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){let d=[];for(let p of o.mergeFields){let _=jE(e,p,t);if(!s.contains(_))throw new X(L.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);NF(d,_)||d.push(_)}c=new Er(d),u=s.fieldTransforms.filter(p=>c.covers(p.field))}else c=null,u=s.fieldTransforms;return new LE(new nr(a),c,u)}var i_=class n extends lh{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};function tQ(n,e,t,r){let i=n.Dc(1,e,t);gI("Data must be an object, but it was:",i,r);let o=[],s=nr.empty();bs(r,(c,u)=>{let d=mI(e,c,t);u=ft(u);let p=i.gc(d);if(u instanceof i_)o.push(d);else{let _=gh(u,p);_!=null&&(o.push(d),s.set(d,_))}});let a=new Er(o);return new r_(s,a,i.fieldTransforms)}function nQ(n,e,t,r,i,o){let s=n.Dc(1,e,t),a=[jE(e,r,t)],c=[i];if(o.length%2!=0)throw new X(L.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<o.length;_+=2)a.push(jE(e,o[_])),c.push(o[_+1]);let u=[],d=nr.empty();for(let _=a.length-1;_>=0;--_)if(!NF(u,a[_])){let y=a[_],v=c[_];v=ft(v);let A=s.gc(y);if(v instanceof i_)u.push(y);else{let O=gh(v,A);O!=null&&(u.push(y),d.set(y,O))}}let p=new Er(u);return new r_(d,p,s.fieldTransforms)}function rQ(n,e,t,r=!1){return gh(t,n.Dc(r?4:3,e))}function gh(n,e){if(OF(n=ft(n)))return gI("Unsupported field value:",e,n),RF(n,e);if(n instanceof lh)return function(r,i){if(!PF(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let c=gh(a,i.yc(s));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=ft(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return BK(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=ze.fromDate(r);return{timestampValue:Hm(i.serializer,o)}}if(r instanceof ze){let o=new ze(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Hm(i.serializer,o)}}if(r instanceof fs)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof hs)return{bytesValue:tF(i.serializer,r._byteString)};if(r instanceof en){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.wc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:iI(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof ps)return function(s,a){return{mapValue:{fields:{[ZE]:{stringValue:JE},[ml]:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw a.wc("VectorValues must only contain numeric values.");return rI(a.serializer,u)})}}}}}}(r,i);throw i.wc(`Unsupported field value: ${l_(r)}`)}(n,e)}function RF(n,e){let t={};return x2(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):bs(n,(r,i)=>{let o=gh(i,e.Vc(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function OF(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof ze||n instanceof fs||n instanceof hs||n instanceof en||n instanceof lh||n instanceof ps)}function gI(n,e,t){if(!OF(t)||!h2(t)){let r=l_(t);throw r==="an object"?e.wc(n+" a custom object"):e.wc(n+" "+r)}}function jE(n,e,t){if((e=ft(e))instanceof Tl)return e._internalPath;if(typeof e=="string")return mI(n,e);throw o_("Field path arguments must be of type string or ",n,!1,void 0,t)}var iQ=new RegExp("[~\\*/\\[\\]]");function mI(n,e,t){if(e.search(iQ)>=0)throw o_(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Tl(...e.split("."))._internalPath}catch{throw o_(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function o_(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new X(L.INVALID_ARGUMENT,a+n+c)}function NF(n,e){return n.some(t=>t.isEqual(e))}var s_=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new en(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new HE(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(v_("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},HE=class extends s_{data(){return super.data()}};function v_(n,e){return typeof e=="string"?mI(n,e):e instanceof Tl?e._internalPath:e._delegate._internalPath}function oQ(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new X(L.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var uh=class{},dh=class extends uh{};function FF(n,e,...t){let r=[];e instanceof uh&&r.push(e),r=r.concat(t),function(o){let s=o.filter(c=>c instanceof $E).length,a=o.filter(c=>c instanceof a_).length;if(s>1||s>0&&a>0)throw new X(L.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)n=i._apply(n);return n}var a_=class n extends dh{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new n(e,t,r)}_apply(e){let t=this._parse(e);return BF(e._query,t),new ws(e.firestore,e.converter,A1(e._query,t))}_parse(e){let t=__(e.firestore);return function(o,s,a,c,u,d,p){let _;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new X(L.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){c2(p,d);let v=[];for(let A of p)v.push(a2(c,o,A));_={arrayValue:{values:v}}}else _=a2(c,o,p)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||c2(p,d),_=rQ(a,s,p,d==="in"||d==="not-in");return Bt.create(u,d,_)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};function VF(n,e,t){let r=e,i=v_("where",n);return a_._create(i,r,t)}var $E=class n extends uh{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:Zr.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:(function(i,o){let s=i,a=o.getFlattenedFilters();for(let c of a)BF(s,c),s=A1(s,c)}(e._query,t),new ws(e.firestore,e.converter,A1(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var zE=class n extends dh{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new n(e,t)}_apply(e){let t=function(i,o,s){if(i.startAt!==null)throw new X(L.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new X(L.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Da(o,s)}(e._query,this._field,this._direction);return new ws(e.firestore,e.converter,function(i,o){let s=i.explicitOrderBy.concat([o]);return new _s(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}};function LF(n,e="asc"){let t=e,r=v_("orderBy",n);return zE._create(r,t)}var qE=class n extends dh{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new n(e,t,r)}_apply(e){return new ws(e.firestore,e.converter,Vm(e._query,this._limit,this._limitType))}};function UF(n){return lK("limit",n),qE._create("limit",n,"F")}function a2(n,e,t){if(typeof(t=ft(t))=="string"){if(t==="")throw new X(L.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!j2(e)&&t.indexOf("/")!==-1)throw new X(L.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let r=e.path.child(yt.fromString(t));if(!he.isDocumentKey(r))throw new X(L.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return xN(n,new he(r))}if(t instanceof en)return xN(n,t._key);throw new X(L.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${l_(t)}.`)}function c2(n,e){if(!Array.isArray(n)||n.length===0)throw new X(L.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function BF(n,e){let t=function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new X(L.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new X(L.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var GE=class{convertValue(e,t="none"){switch(ms(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(wo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ge(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return bs(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[ml].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>vt(s.doubleValue));return new ps(o)}convertGeoPoint(e){return new fs(vt(e.latitude),vt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=d_(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(nh(e));default:return null}}convertTimestamp(e){let t=yo(e);return new ze(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=yt.fromString(e);Qe(aF(r),9688,{name:e});let i=new Nm(r.get(1),r.get(3)),o=new he(r.popFirst(5));return i.isEqual(t)||vo(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};function jF(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var Sa=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Ta=class n extends s_{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new fl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(v_("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new X(L.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,t={};return t.type=n._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}};Ta._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ta._jsonSchema={type:jt("string",Ta._jsonSchemaVersion),bundleSource:jt("string","DocumentSnapshot"),bundleName:jt("string"),bundle:jt("string")};var fl=class extends Ta{data(e={}){return super.data(e)}},pl=class n{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Sa(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new fl(this._firestore,this._userDataWriter,r.key,r,new Sa(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new X(L.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let c=new fl(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Sa(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let c=new fl(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Sa(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),u=-1,d=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),d=s.indexOf(a.doc.key)),{type:sQ(a.type),doc:c,oldIndex:u,newIndex:d}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new X(L.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=n._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Xd.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let t=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(t.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function sQ(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ge(61501,{type:n})}}pl._jsonSchemaVersion="firestore/querySnapshot/1.0",pl._jsonSchema={type:jt("string",pl._jsonSchemaVersion),bundleSource:jt("string","QuerySnapshot"),bundleName:jt("string"),bundle:jt("string")};var c_=class extends GE{constructor(e){super(),this.firestore=e}convertBytes(e){return new hs(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new en(this.firestore,null,t)}};function HF(n,e,t){n=ki(n,en);let r=ki(n.firestore,Eo),i=jF(n.converter,e,t);return y_(r,[kF(__(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,Ni.none())])}function $F(n,e,t,...r){n=ki(n,en);let i=ki(n.firestore,Eo),o=__(i),s;return s=typeof(e=ft(e))=="string"||e instanceof Tl?nQ(o,"updateDoc",n._key,e,t,r):tQ(o,"updateDoc",n._key,e),y_(i,[s.toMutation(n._key,Ni.exists(!0))])}function zF(n){return y_(ki(n.firestore,Eo),[new ih(n._key,Ni.none())])}function qF(n,e){let t=ki(n.firestore,Eo),r=pI(n),i=jF(n.converter,e);return y_(t,[kF(__(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,Ni.exists(!1))]).then(()=>r)}function _I(n,...e){var t,r,i;n=ft(n);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||s2(e[s])||(o=e[s++]);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(s2(e[s])){let p=e[s];e[s]=(t=p.next)===null||t===void 0?void 0:t.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let c,u,d;if(n instanceof en)u=ki(n.firestore,Eo),d=nI(n._key.path),c={next:p=>{e[s]&&e[s](aQ(u,n,p))},error:e[s+1],complete:e[s+2]};else{let p=ki(n,ws);u=ki(p.firestore,Eo),d=p._query;let _=new c_(u);c={next:y=>{e[s]&&e[s](new pl(u,_,p,y))},error:e[s+1],complete:e[s+2]},oQ(n._query)}return function(_,y,v,A){let O=new FE(A),G=new DE(y,O,v);return _.asyncQueue.enqueueAndForget(()=>I(null,null,function*(){return RY(yield t2(_),G)})),()=>{O.Ou(),_.asyncQueue.enqueueAndForget(()=>I(null,null,function*(){return OY(yield t2(_),G)}))}}(AF(u),d,a,c)}function y_(n,e){return function(r,i){let o=new _o;return r.asyncQueue.enqueueAndForget(()=>I(null,null,function*(){return HY(yield JY(r),i,o)})),o.promise}(AF(n),e)}function aQ(n,e,t){let r=t.docs.get(e._key),i=new c_(n);return new Ta(n,i,e._key,r,new Sa(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){xl=i})(yr),An(new Wt("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new Eo(new u1(r.getProvider("auth-internal")),new f1(s,r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new X(L.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Nm(u.options.projectId,d)}(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),We(gN,mN,e),We(gN,mN,"esm2017")})();var w_=function(){return w_=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},w_.apply(this,arguments)};var uQ={includeMetadataChanges:!1};function vI(n,e){return e===void 0&&(e=uQ),new xe(function(t){var r=_I(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function GF(n){return vI(n,{includeMetadataChanges:!0})}function WF(n,e){return e===void 0&&(e={}),GF(n).pipe(le(function(t){return yI(t,e)}))}function yI(n,e){var t;e===void 0&&(e={});var r=n.data(e);return!n.exists()||typeof r!="object"||r===null||!e.idField?r:w_(w_({},r),(t={},t[e.idField]=n.id,t))}function KF(n){return vI(n,{includeMetadataChanges:!0}).pipe(le(function(e){return e.docs}))}function YF(n,e){return e===void 0&&(e={}),KF(n).pipe(le(function(t){return t.map(function(r){return yI(r,e)})}))}var Jr=class{constructor(e){return e}},QF="firestore",wI=class{constructor(){return Mi(QF)}};var bI=new J("angularfire2.firestore-instances");function dQ(n,e){let t=so(QF,n,e);return t&&new Jr(t)}function hQ(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Jr(r)}}var fQ={provide:wI,deps:[[new bt,bI]]},pQ={provide:Jr,useFactory:dQ,deps:[[new bt,bI],tr]};function ZF(n,...e){return We("angularfire",wr.full,"fst"),Tn([pQ,fQ,{provide:bI,useFactory:hQ(n),multi:!0,deps:[Ve,_t,br,Kr,[new bt,fo],[new bt,Di],...e]}])}var Xr=rt(YF,!0);var JF=rt(WF,!0);var CI=rt(qF,!0,2);var Ir=rt(MF,!0,2);var XF=rt(zF,!0,2);var Na=rt(pI,!0,2);var eV=rt(DF,!0);var mh=rt(UF,!0,2);var Pl=rt(LF,!0,2),Fa=rt(FF,!0,2);var tV=rt(HF,!0,2);var nV=rt($F,!0,2);var EI=rt(VF,!0,2);function mQ(n,e){n&1&&($(),V(0,"path",64))}function _Q(n,e){n&1&&($(),V(0,"path",65))}function vQ(n,e){n&1&&($(),V(0,"path",64))}function yQ(n,e){n&1&&($(),V(0,"path",65))}var b_=class n{constructor(e,t,r){this.router=e;this.auth=t;this.firestore=r}nome="";sobrenome="";email="";password="";confirmPassword="";cargo="";aceitaTermos=!1;showPassword=!1;showConfirmPassword=!1;attempted=!1;errorMessage=null;togglePassword(){this.showPassword=!this.showPassword}toggleConfirmPassword(){this.showConfirmPassword=!this.showConfirmPassword}isEmailValid(){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(this.email)}isPasswordValid(){return this.password.length>=6}passwordsMatch(){return this.password===this.confirmPassword}isFormValid(){return this.errorMessage=null,!this.nome||!this.sobrenome?!1:!this.email||!this.isEmailValid()?(this.attempted&&(this.errorMessage="Por favor, insira um e-mail v\xE1lido."),!1):!this.password||!this.isPasswordValid()?(this.attempted&&(this.errorMessage="A senha deve ter no m\xEDnimo 6 caracteres."),!1):!this.confirmPassword||!this.passwordsMatch()?(this.attempted&&(this.errorMessage="As senhas n\xE3o coincidem."),!1):this.cargo?this.aceitaTermos?!0:(this.attempted&&(this.errorMessage="Voc\xEA deve aceitar os termos de uso."),!1):!1}onCadastro(){return I(this,null,function*(){if(this.attempted=!0,this.errorMessage=null,this.isFormValid())try{let t=(yield uN(this.auth,this.email,this.password)).user;if(t){let r=Na(Ir(this.firestore,"users"),t.uid);yield tV(r,{nome:this.nome,sobrenome:this.sobrenome,email:this.email,cargo:this.cargo,createdAt:new Date,uid:t.uid}),console.log("Cadastro e dados adicionais salvos com sucesso:",t),alert("Conta criada com sucesso! Redirecionando para login..."),this.router.navigate(["/login"])}}catch(e){this.errorMessage=this.mapFirebaseAuthError(e.code),console.error("Erro no cadastro do Firebase:",e)}else this.errorMessage||(this.errorMessage="Por favor, preencha todos os campos corretamente.")})}mapFirebaseAuthError(e){switch(e){case"auth/email-already-in-use":return"Este e-mail j\xE1 est\xE1 em uso.";case"auth/invalid-email":return"O formato do e-mail \xE9 inv\xE1lido.";case"auth/operation-not-allowed":return"Cadastro por e-mail e senha n\xE3o est\xE1 habilitado. Contate o suporte.";case"auth/weak-password":return"A senha deve ter pelo menos 6 caracteres.";default:return"Ocorreu um erro inesperado. Tente novamente."}}static \u0275fac=function(t){return new(t||n)(ie(Ye),ie(Pn),ie(Jr))};static \u0275cmp=Tt({type:n,selectors:[["app-cadastro"]],decls:132,vars:43,consts:[["role","main",1,"cadastro-wrapper"],[1,"cadastro-container"],[1,"cadastro-header"],[1,"logo-section"],["src","assets/logo.png","alt","Logo da empresa",1,"logo-image"],[1,"welcome-content"],[1,"welcome-title"],[1,"welcome-subtitle"],[1,"cadastro-main"],["novalidate","",1,"cadastro-form",3,"ngSubmit"],[1,"form-fieldset"],[1,"sr-only"],[1,"form-row"],[1,"form-group"],["for","nome",1,"form-label"],["aria-label","campo obrigat\xF3rio",1,"required-indicator"],[1,"input-wrapper"],["type","text","id","nome","name","nome","placeholder","Seu nome","autocomplete","given-name","aria-describedby","nome-error","required","",1,"form-input",3,"ngModelChange","ngModel"],["aria-hidden","true",1,"input-icon"],["width","20","height","20","viewBox","0 0 24 24","fill","currentColor"],["d","M12,4A4,4 0 0,1 16,8A4,4 0 0,1 12,12A4,4 0 0,1 8,8A4,4 0 0,1 12,4M12,14C16.42,14 20,15.79 20,18V20H4V18C4,15.79 7.58,14 12,14Z"],["id","nome-error",1,"error-message"],["for","sobrenome",1,"form-label"],["type","text","id","sobrenome","name","sobrenome","placeholder","Seu sobrenome","autocomplete","family-name","aria-describedby","sobrenome-error","required","",1,"form-input",3,"ngModelChange","ngModel"],["id","sobrenome-error",1,"error-message"],["for","email",1,"form-label"],["type","email","id","email","name","email","placeholder","seu@email.com","autocomplete","email","aria-describedby","email-error email-help","required","",1,"form-input",3,"ngModelChange","ngModel"],["d","M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"],["id","email-help",1,"help-text"],["id","email-error",1,"error-message"],["for","password",1,"form-label"],["id","password","name","password","placeholder","M\xEDnimo 6 caracteres","autocomplete","new-password","aria-describedby","password-error password-help","required","",1,"form-input",3,"ngModelChange","type","ngModel"],["type","button","tabindex","0",1,"password-toggle",3,"click"],["d","M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z",4,"ngIf"],["d","M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z",4,"ngIf"],["id","password-help",1,"help-text"],["id","password-error",1,"error-message"],["for","confirmPassword",1,"form-label"],["id","confirmPassword","name","confirmPassword","placeholder","Repita a senha","autocomplete","new-password","aria-describedby","confirm-password-error","required","",1,"form-input",3,"ngModelChange","type","ngModel"],["id","confirm-password-error",1,"error-message"],["for","cargo",1,"form-label"],["id","cargo","name","cargo","aria-describedby","cargo-error","required","",1,"form-select",3,"ngModelChange","ngModel"],["value","","disabled",""],["value","tecnico"],["value","gerente"],["value","usuario"],["value","administrador"],["aria-hidden","true",1,"select-icon"],["d","M7,10L12,15L17,10H7Z"],["id","cargo-error",1,"error-message"],[1,"checkbox-wrapper"],["type","checkbox","name","aceitaTermos","aria-describedby","termos-error","required","",1,"checkbox-input",3,"ngModelChange","ngModel"],["aria-hidden","true",1,"checkbox-custom"],[1,"checkbox-label"],["href","#","tabindex","0",1,"terms-link"],["id","termos-error",1,"error-message"],["type","submit",1,"cadastro-button",3,"disabled"],[1,"button-content"],["width","20","height","20","viewBox","0 0 24 24","fill","currentColor",1,"button-icon"],["d","M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z"],["id","cadastro-button-help",1,"sr-only"],[1,"cadastro-footer"],[1,"login-text"],["routerLink","/login","tabindex","0",1,"login-link"],["d","M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"],["d","M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"]],template:function(t,r){t&1&&(h(0,"div",0)(1,"div",1)(2,"header",2)(3,"div",3),V(4,"img",4),g(),h(5,"div",5)(6,"h1",6),w(7,"Criar nova conta"),g(),h(8,"p",7),w(9,"Preencha os dados para acessar o sistema de gest\xE3o"),g()()(),h(10,"main",8)(11,"form",9),H("ngSubmit",function(){return r.onCadastro()}),h(12,"fieldset",10)(13,"legend",11),w(14,"Dados pessoais e de acesso"),g(),h(15,"div",12)(16,"div",13)(17,"label",14),w(18," Nome "),h(19,"span",15),w(20,"*"),g()(),h(21,"div",16)(22,"input",17),we("ngModelChange",function(o){return Ee(r.nome,o)||(r.nome=o),o}),g(),h(23,"div",18),$(),h(24,"svg",19),V(25,"path",20),g()()(),Y(),h(26,"div",21),w(27," Nome \xE9 obrigat\xF3rio "),g()(),h(28,"div",13)(29,"label",22),w(30," Sobrenome "),h(31,"span",15),w(32,"*"),g()(),h(33,"div",16)(34,"input",23),we("ngModelChange",function(o){return Ee(r.sobrenome,o)||(r.sobrenome=o),o}),g(),h(35,"div",18),$(),h(36,"svg",19),V(37,"path",20),g()()(),Y(),h(38,"div",24),w(39," Sobrenome \xE9 obrigat\xF3rio "),g()()(),h(40,"div",13)(41,"label",25),w(42," E-mail "),h(43,"span",15),w(44,"*"),g()(),h(45,"div",16)(46,"input",26),we("ngModelChange",function(o){return Ee(r.email,o)||(r.email=o),o}),g(),h(47,"div",18),$(),h(48,"svg",19),V(49,"path",27),g()()(),Y(),h(50,"div",28),w(51," Ser\xE1 usado para login e recupera\xE7\xE3o de senha "),g(),h(52,"div",29),w(53," Digite um e-mail v\xE1lido "),g()(),h(54,"div",12)(55,"div",13)(56,"label",30),w(57," Senha "),h(58,"span",15),w(59,"*"),g()(),h(60,"div",16)(61,"input",31),we("ngModelChange",function(o){return Ee(r.password,o)||(r.password=o),o}),g(),h(62,"button",32),H("click",function(){return r.togglePassword()}),$(),h(63,"svg",19),oe(64,mQ,1,0,"path",33)(65,_Q,1,0,"path",34),g()()(),Y(),h(66,"div",35),w(67," M\xEDnimo 6 caracteres "),g(),h(68,"div",36),w(69," Senha deve ter pelo menos 6 caracteres "),g()(),h(70,"div",13)(71,"label",37),w(72," Confirmar Senha "),h(73,"span",15),w(74,"*"),g()(),h(75,"div",16)(76,"input",38),we("ngModelChange",function(o){return Ee(r.confirmPassword,o)||(r.confirmPassword=o),o}),g(),h(77,"button",32),H("click",function(){return r.toggleConfirmPassword()}),$(),h(78,"svg",19),oe(79,vQ,1,0,"path",33)(80,yQ,1,0,"path",34),g()()(),Y(),h(81,"div",39),w(82," As senhas n\xE3o coincidem "),g()()(),h(83,"div",13)(84,"label",40),w(85," Cargo/Fun\xE7\xE3o "),h(86,"span",15),w(87,"*"),g()(),h(88,"div",16)(89,"select",41),we("ngModelChange",function(o){return Ee(r.cargo,o)||(r.cargo=o),o}),h(90,"option",42),w(91,"Selecione seu cargo"),g(),h(92,"option",43),w(93,"T\xE9cnico"),g(),h(94,"option",44),w(95,"Gerente"),g(),h(96,"option",45),w(97,"Usu\xE1rio"),g(),h(98,"option",46),w(99,"Administrador"),g()(),h(100,"div",47),$(),h(101,"svg",19),V(102,"path",48),g()()(),Y(),h(103,"div",49),w(104," Selecione um cargo "),g()(),h(105,"div",13)(106,"label",50)(107,"input",51),we("ngModelChange",function(o){return Ee(r.aceitaTermos,o)||(r.aceitaTermos=o),o}),g(),V(108,"span",52),h(109,"span",53),w(110," Aceito os "),h(111,"a",54),w(112,"termos de uso"),g(),w(113," e "),h(114,"a",54),w(115,"pol\xEDtica de privacidade"),g(),h(116,"span",15),w(117,"*"),g()()(),h(118,"div",55),w(119," \xC9 necess\xE1rio aceitar os termos de uso "),g()(),h(120,"button",56)(121,"span",57),$(),h(122,"svg",58),V(123,"path",59),g(),w(124," Criar Conta "),g()(),Y(),h(125,"div",60),w(126," Preencha todos os campos obrigat\xF3rios para habilitar o cadastro "),g()()(),h(127,"footer",61)(128,"p",62),w(129," J\xE1 tem uma conta? "),h(130,"a",63),w(131," Fa\xE7a login aqui "),g()()()()()()),t&2&&(C(22),_e("error",!r.nome&&r.attempted),ye("ngModel",r.nome),C(4),_e("visible",!r.nome&&r.attempted),C(8),_e("error",!r.sobrenome&&r.attempted),ye("ngModel",r.sobrenome),C(4),_e("visible",!r.sobrenome&&r.attempted),C(8),_e("error",(!r.email||!r.isEmailValid())&&r.attempted),ye("ngModel",r.email),C(6),_e("visible",(!r.email||!r.isEmailValid())&&r.attempted),C(9),_e("error",(!r.password||!r.isPasswordValid())&&r.attempted),W("type",r.showPassword?"text":"password"),ye("ngModel",r.password),C(),ae("aria-label",r.showPassword?"Ocultar senha":"Mostrar senha"),C(2),W("ngIf",!r.showPassword),C(),W("ngIf",r.showPassword),C(3),_e("visible",(!r.password||!r.isPasswordValid())&&r.attempted),C(8),_e("error",(!r.confirmPassword||!r.passwordsMatch())&&r.attempted),W("type",r.showConfirmPassword?"text":"password"),ye("ngModel",r.confirmPassword),C(),ae("aria-label",r.showConfirmPassword?"Ocultar confirma\xE7\xE3o":"Mostrar confirma\xE7\xE3o"),C(2),W("ngIf",!r.showConfirmPassword),C(),W("ngIf",r.showConfirmPassword),C(),_e("visible",(!r.confirmPassword||!r.passwordsMatch())&&r.attempted),C(8),_e("error",!r.cargo&&r.attempted),ye("ngModel",r.cargo),C(14),_e("visible",!r.cargo&&r.attempted),C(4),ye("ngModel",r.aceitaTermos),C(11),_e("visible",!r.aceitaTermos&&r.attempted),C(2),W("disabled",!r.isFormValid()),ae("aria-describedby",r.isFormValid()?null:"cadastro-button-help"))},dependencies:[mr,es,ts,ns,pr,pa,bi,gr,Xo,Ci,Rb,Xn,io,Mt,qt,fr],styles:['@charset "UTF-8";.cadastro-wrapper[_ngcontent-%COMP%]{min-height:100vh;background:linear-gradient(135deg,var(--color-background-dark) 0%,var(--color-background-medium) 100%);display:flex;align-items:flex-start;justify-content:center;padding:20px;position:relative;overflow-y:auto}.cadastro-wrapper[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:radial-gradient(circle at 30% 20%,rgba(29,161,242,.1) 0%,transparent 50%);pointer-events:none}.cadastro-container[_ngcontent-%COMP%]{background-color:var(--color-background-light);border:1px solid var(--color-border);border-radius:12px;box-shadow:0 8px 25px #00000026;width:100%;max-width:520px;overflow:hidden;position:relative;z-index:1;margin:20px 0}.cadastro-header[_ngcontent-%COMP%]{padding:32px 32px 24px;text-align:center;border-bottom:1px solid var(--color-border);background:linear-gradient(180deg,var(--color-background-light) 0%,var(--color-background-medium) 100%)}.logo-section[_ngcontent-%COMP%]{margin-bottom:20px}.logo-section[_ngcontent-%COMP%]   .logo-image[_ngcontent-%COMP%]{display:block;max-width:180px;width:100%;height:auto;margin:0 auto}.logo-section[_ngcontent-%COMP%]   .logo-placeholder[_ngcontent-%COMP%]{background:linear-gradient(45deg,var(--color-accent-blue),#1a91da);color:#fff;padding:12px 24px;border-radius:12px;font-weight:700;font-size:18px;letter-spacing:2px;font-family:Arial Black,sans-serif;text-shadow:0 2px 4px rgba(0,0,0,.3);display:inline-block;transition:all .3s ease}.logo-section[_ngcontent-%COMP%]   .logo-placeholder[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #00000026}.welcome-content[_ngcontent-%COMP%]   .welcome-title[_ngcontent-%COMP%]{color:var(--color-text-primary);font-size:24px;font-weight:700;margin:0 0 6px;line-height:1.2}.welcome-content[_ngcontent-%COMP%]   .welcome-subtitle[_ngcontent-%COMP%]{color:var(--color-text-secondary);font-size:14px;margin:0;line-height:1.4}.cadastro-main[_ngcontent-%COMP%]{padding:24px 32px 32px}.form-fieldset[_ngcontent-%COMP%]{border:none;margin:0;padding:0}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}.form-group[_ngcontent-%COMP%]:last-of-type{margin-bottom:24px}.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:16px;margin-bottom:20px}.form-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:0}@media (max-width: 768px){.form-row[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:0}.form-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:20px}}.form-label[_ngcontent-%COMP%]{display:block;color:var(--color-text-primary);font-size:13px;font-weight:600;margin-bottom:6px;line-height:1.4}.form-label[_ngcontent-%COMP%]   .required-indicator[_ngcontent-%COMP%]{color:#ff4757;margin-left:3px}.input-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.form-input[_ngcontent-%COMP%], .form-select[_ngcontent-%COMP%]{width:100%;padding:14px 44px 14px 14px;background-color:var(--color-background-dark);border:2px solid var(--color-border);border-radius:6px;color:var(--color-text-primary);font-size:14px;line-height:1.4;transition:all .3s ease}.form-input[_ngcontent-%COMP%]::placeholder, .form-select[_ngcontent-%COMP%]::placeholder{color:var(--color-text-secondary);opacity:.8}.form-input[_ngcontent-%COMP%]:focus, .form-select[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--color-accent-blue);box-shadow:0 0 0 3px #1da1f21a;background-color:var(--color-background-medium)}.form-input.error[_ngcontent-%COMP%], .error.form-select[_ngcontent-%COMP%]{border-color:#ff4757;box-shadow:0 0 0 3px #ff47571a}.form-input[_ngcontent-%COMP%]:disabled, .form-select[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.custom-select-container[_ngcontent-%COMP%]{position:relative;width:100%}.custom-select-trigger[_ngcontent-%COMP%]{width:100%;padding:14px 44px 14px 14px;background-color:var(--color-background-dark);border:2px solid var(--color-border);border-radius:6px;color:var(--color-text-primary);font-size:14px;line-height:1.4;transition:all .3s ease;cursor:pointer;display:flex;align-items:center;justify-content:space-between;text-align:left}.custom-select-trigger[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--color-accent-blue);box-shadow:0 0 0 3px #1da1f21a;background-color:var(--color-background-medium)}.custom-select-trigger.open[_ngcontent-%COMP%]{border-color:var(--color-accent-blue);border-bottom-left-radius:0;border-bottom-right-radius:0}.custom-select-options[_ngcontent-%COMP%]{position:absolute;top:100%;left:0;right:0;z-index:10;max-height:200px;overflow-y:auto;background-color:var(--color-background-light);border:2px solid var(--color-accent-blue);border-top:none;border-bottom-left-radius:6px;border-bottom-right-radius:6px;box-shadow:0 8px 25px #00000026;padding:0;list-style:none;margin:0;display:none}.custom-select-trigger.open[_ngcontent-%COMP%] + .custom-select-options[_ngcontent-%COMP%]{display:block}.custom-select-option[_ngcontent-%COMP%]{padding:12px 14px;color:var(--color-text-primary);font-size:14px;cursor:pointer;transition:background-color .2s}.custom-select-option[_ngcontent-%COMP%]:hover, .custom-select-option.selected[_ngcontent-%COMP%]{background-color:var(--color-accent-blue);color:#fff}.form-select[_ngcontent-%COMP%]{appearance:none;cursor:pointer;background-image:none;color:var(--color-text-primary);padding-right:44px}.form-select[_ngcontent-%COMP%]::-ms-expand{display:none}.form-select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{background-color:var(--color-background-dark);color:var(--color-text-primary);padding:8px 12px}.form-select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]:disabled{color:var(--color-text-secondary);opacity:.7}.form-select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]:checked, .form-select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]:hover{background-color:var(--color-accent-blue);color:#fff}.input-icon[_ngcontent-%COMP%], .select-icon[_ngcontent-%COMP%]{position:absolute;right:14px;color:var(--color-text-secondary);pointer-events:none;transition:all .3s ease}.form-input[_ngcontent-%COMP%]:focus + .input-icon[_ngcontent-%COMP%], .form-select[_ngcontent-%COMP%]:focus + .input-icon[_ngcontent-%COMP%], .form-input[_ngcontent-%COMP%]:focus + .select-icon[_ngcontent-%COMP%], .form-select[_ngcontent-%COMP%]:focus + .select-icon[_ngcontent-%COMP%]{color:var(--color-accent-blue)}.input-icon[_ngcontent-%COMP%]   .custom-select-trigger.open[_ngcontent-%COMP%] + .select-icon[_ngcontent-%COMP%], .select-icon[_ngcontent-%COMP%]   .custom-select-trigger.open[_ngcontent-%COMP%] + .select-icon[_ngcontent-%COMP%]{transform:rotate(180deg)}.custom-select-trigger[_ngcontent-%COMP%] + .input-icon[_ngcontent-%COMP%], .custom-select-trigger[_ngcontent-%COMP%] + .select-icon[_ngcontent-%COMP%]{color:var(--color-text-secondary)}.custom-select-trigger[_ngcontent-%COMP%]:focus + .input-icon[_ngcontent-%COMP%], .custom-select-trigger[_ngcontent-%COMP%]:focus + .select-icon[_ngcontent-%COMP%]{color:var(--color-accent-blue)}.password-toggle[_ngcontent-%COMP%]{position:absolute;right:14px;background:none;border:none;color:var(--color-text-secondary);cursor:pointer;padding:4px;border-radius:4px;transition:all .3s ease}.password-toggle[_ngcontent-%COMP%]:hover, .password-toggle[_ngcontent-%COMP%]:focus{color:var(--color-text-primary);background-color:var(--color-background-medium);outline:2px solid var(--color-accent-blue);outline-offset:2px}.help-text[_ngcontent-%COMP%]{color:var(--color-text-secondary);font-size:11px;margin-top:4px;line-height:1.3}.error-message[_ngcontent-%COMP%]{color:#ff4757;font-size:11px;margin-top:4px;opacity:0;transform:translateY(-4px);transition:all .3s ease}.error-message.visible[_ngcontent-%COMP%]{opacity:1;transform:translateY(0)}.checkbox-wrapper[_ngcontent-%COMP%]{display:flex;align-items:flex-start;cursor:pointer;-webkit-user-select:none;user-select:none;line-height:1.4}.checkbox-wrapper[_ngcontent-%COMP%]   .checkbox-input[_ngcontent-%COMP%]{position:absolute;opacity:0}.checkbox-wrapper[_ngcontent-%COMP%]   .checkbox-input[_ngcontent-%COMP%]:checked + .checkbox-custom[_ngcontent-%COMP%]{background-color:var(--color-accent-blue);border-color:var(--color-accent-blue)}.checkbox-wrapper[_ngcontent-%COMP%]   .checkbox-input[_ngcontent-%COMP%]:checked + .checkbox-custom[_ngcontent-%COMP%]:after{opacity:1;transform:scale(1)}.checkbox-wrapper[_ngcontent-%COMP%]   .checkbox-input[_ngcontent-%COMP%]:focus + .checkbox-custom[_ngcontent-%COMP%]{outline:2px solid var(--color-accent-blue);outline-offset:2px}.checkbox-wrapper[_ngcontent-%COMP%]   .checkbox-custom[_ngcontent-%COMP%]{width:18px;height:18px;border:2px solid var(--color-border);border-radius:3px;margin-right:10px;margin-top:1px;position:relative;transition:all .3s ease;flex-shrink:0;display:flex;align-items:center;justify-content:center}.checkbox-wrapper[_ngcontent-%COMP%]   .checkbox-custom[_ngcontent-%COMP%]:after{content:"\\2713";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%) scale(0);color:#fff;font-size:11px;font-weight:700;opacity:0;transition:all .3s ease;line-height:1}.checkbox-wrapper[_ngcontent-%COMP%]   .checkbox-label[_ngcontent-%COMP%]{color:var(--color-text-secondary);font-size:13px;line-height:1.4}.checkbox-wrapper[_ngcontent-%COMP%]   .checkbox-label[_ngcontent-%COMP%]   .required-indicator[_ngcontent-%COMP%]{color:#ff4757;margin-left:3px}.terms-link[_ngcontent-%COMP%]{color:var(--color-accent-blue);text-decoration:none;font-weight:500}.terms-link[_ngcontent-%COMP%]:hover, .terms-link[_ngcontent-%COMP%]:focus{text-decoration:underline;outline:2px solid var(--color-accent-blue);outline-offset:1px;border-radius:2px;padding:1px 2px}.cadastro-button[_ngcontent-%COMP%]{width:100%;padding:14px 20px;background:linear-gradient(135deg,var(--color-accent-blue) 0%,#1a91da 100%);color:#fff;border:none;border-radius:6px;font-size:15px;font-weight:600;cursor:pointer;transition:all .3s ease;position:relative;overflow:hidden;margin-bottom:20px}.cadastro-button[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.2),transparent);transition:left .5s}.cadastro-button[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-1px);box-shadow:0 8px 25px #00000026}.cadastro-button[_ngcontent-%COMP%]:hover:not(:disabled):before{left:100%}.cadastro-button[_ngcontent-%COMP%]:focus{outline:3px solid rgba(29,161,242,.3);outline-offset:2px}.cadastro-button[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(0)}.cadastro-button[_ngcontent-%COMP%]:disabled{background:var(--color-text-secondary);cursor:not-allowed;transform:none}.cadastro-button[_ngcontent-%COMP%]:disabled:before{display:none}.button-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:6px}.button-icon[_ngcontent-%COMP%]{transition:all .3s ease}.cadastro-button[_ngcontent-%COMP%]:hover:not(:disabled)   .button-icon[_ngcontent-%COMP%]{transform:translate(2px)}.cadastro-footer[_ngcontent-%COMP%]{padding-top:20px;border-top:1px solid var(--color-border);text-align:center}.login-text[_ngcontent-%COMP%]{color:var(--color-text-secondary);font-size:13px;margin:0;line-height:1.4}.login-link[_ngcontent-%COMP%]{color:var(--color-accent-blue);text-decoration:none;font-weight:600;transition:all .3s ease}.login-link[_ngcontent-%COMP%]:hover, .login-link[_ngcontent-%COMP%]:focus{text-decoration:underline;outline:2px solid var(--color-accent-blue);outline-offset:2px;border-radius:4px;padding:2px 4px}.sr-only[_ngcontent-%COMP%]{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}@media (max-width: 768px){.cadastro-wrapper[_ngcontent-%COMP%]{padding:16px;align-items:flex-start}.logo-section[_ngcontent-%COMP%]   .logo-image[_ngcontent-%COMP%]{max-width:150px}.cadastro-container[_ngcontent-%COMP%]{max-width:100%;margin:10px 0}.cadastro-header[_ngcontent-%COMP%]{padding:24px 20px 20px}.cadastro-main[_ngcontent-%COMP%]{padding:20px}.welcome-title[_ngcontent-%COMP%]{font-size:22px}.welcome-subtitle[_ngcontent-%COMP%]{font-size:13px}}@media (max-width: 480px){.cadastro-wrapper[_ngcontent-%COMP%]{padding:12px}.cadastro-container[_ngcontent-%COMP%]{margin:5px 0}.cadastro-header[_ngcontent-%COMP%]{padding:20px 16px 16px}.cadastro-main[_ngcontent-%COMP%]{padding:16px}.welcome-title[_ngcontent-%COMP%]{font-size:20px}.form-input[_ngcontent-%COMP%], .form-select[_ngcontent-%COMP%]{padding:12px 40px 12px 12px;font-size:16px}.cadastro-button[_ngcontent-%COMP%]{padding:12px 16px}}@media (prefers-contrast: high){.form-input[_ngcontent-%COMP%], .form-select[_ngcontent-%COMP%]{border-width:3px}.cadastro-button[_ngcontent-%COMP%]{border:2px solid var(--color-text-primary)}}@media (prefers-reduced-motion: reduce){*[_ngcontent-%COMP%]{animation-duration:.01ms!important;animation-iteration-count:1!important;transition-duration:.01ms!important}}']})};function wQ(n,e){n&1&&(h(0,"p",18),w(1," Digite seu e-mail para receber as instru\xE7\xF5es de recupera\xE7\xE3o de senha "),g())}function bQ(n,e){n&1&&(h(0,"p",18),w(1," Instru\xE7\xF5es enviadas! Verifique sua caixa de entrada e spam "),g())}function CQ(n,e){n&1&&(h(0,"span",35),$(),h(1,"svg",36),V(2,"path",37),g(),w(3," Enviar instru\xE7\xF5es "),g())}function EQ(n,e){n&1&&(h(0,"span",35),$(),h(1,"svg",38),V(2,"path",39),g(),w(3," Enviando... "),g())}function IQ(n,e){if(n&1){let t=Ge();h(0,"form",19),H("ngSubmit",function(){U(t);let i=j();return B(i.onSubmit())}),h(1,"fieldset",20)(2,"legend",21),w(3,"Recupera\xE7\xE3o de senha"),g(),h(4,"div",22)(5,"label",23),w(6," E-mail cadastrado "),h(7,"span",24),w(8,"*"),g()(),h(9,"div",25)(10,"input",26),we("ngModelChange",function(i){U(t);let o=j();return Ee(o.email,i)||(o.email=i),B(i)}),g(),h(11,"div",27),$(),h(12,"svg",28),V(13,"path",29),g()()(),Y(),h(14,"div",30),w(15," Use o mesmo e-mail que voc\xEA utilizou para criar sua conta "),g(),h(16,"div",31),w(17),g()(),h(18,"button",32),oe(19,CQ,4,0,"span",33)(20,EQ,4,0,"span",33),g(),h(21,"div",34),w(22," Digite um e-mail v\xE1lido para habilitar o envio "),g()()()}if(n&2){let t=j();C(10),_e("error",(!t.email||!t.isEmailValid())&&t.attempted||t.errorMessage),ye("ngModel",t.email),W("disabled",t.isLoading),C(6),_e("visible",t.attempted&&(!t.email||!t.isEmailValid())||t.errorMessage),C(),Be(" ",t.errorMessage||(t.attempted&&(!t.email||!t.isEmailValid())?"Digite um e-mail v\xE1lido":"")," "),C(),W("disabled",!t.email||!t.isEmailValid()||t.isLoading),ae("aria-describedby",!t.email||!t.isEmailValid()||t.errorMessage?"submit-button-help":null),C(),W("ngIf",!t.isLoading),C(),W("ngIf",t.isLoading)}}function SQ(n,e){n&1&&(h(0,"span"),w(1,"Reenviar e-mail"),g())}function TQ(n,e){if(n&1&&(h(0,"span"),w(1),g()),n&2){let t=j(2);C(),Be("Reenviar em ",t.resendCooldown,"s")}}function xQ(n,e){if(n&1){let t=Ge();h(0,"div",40)(1,"div",41),$(),h(2,"svg",42),V(3,"path",43),g()(),Y(),h(4,"h2",44),w(5,"E-mail enviado com sucesso!"),g(),h(6,"div",45)(7,"p"),w(8,"Enviamos as instru\xE7\xF5es para:"),g(),h(9,"strong",46),w(10),g()(),h(11,"div",47)(12,"h3"),w(13,"Pr\xF3ximos passos:"),g(),h(14,"ol",48)(15,"li"),w(16,"Verifique sua caixa de entrada"),g(),h(17,"li"),w(18,"Procure tamb\xE9m na pasta de spam"),g(),h(19,"li"),w(20,"Clique no link de recupera\xE7\xE3o"),g(),h(21,"li"),w(22,"Crie uma nova senha"),g()()(),h(23,"button",49),H("click",function(){U(t);let i=j();return B(i.resendEmail())}),oe(24,SQ,2,0,"span",50)(25,TQ,2,1,"span",50),g()()}if(n&2){let t=j();C(10),ce(t.email),C(13),W("disabled",t.resendCooldown>0),C(),W("ngIf",t.resendCooldown===0),C(),W("ngIf",t.resendCooldown>0)}}var C_=class n{constructor(e){this.auth=e}email="";attempted=!1;isLoading=!1;emailSent=!1;resendCooldown=0;cooldownInterval;errorMessage=null;isEmailValid(){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(this.email)}onSubmit(){return I(this,null,function*(){if(this.attempted=!0,this.errorMessage=null,this.email&&this.isEmailValid()){this.isLoading=!0;try{let e={url:"http://localhost:4200/login",handleCodeInApp:!0};yield QC(this.auth,this.email,e),this.emailSent=!0,this.startResendCooldown(),console.log("E-mail de recupera\xE7\xE3o de senha enviado para:",this.email)}catch(e){this.errorMessage=this.mapFirebaseAuthError(e.code),console.error("Erro ao enviar e-mail de recupera\xE7\xE3o:",e),this.emailSent=!1}finally{this.isLoading=!1}}else this.errorMessage||(this.errorMessage="Por favor, insira um e-mail v\xE1lido.")})}resendEmail(){return I(this,null,function*(){if(!(this.resendCooldown>0||this.isLoading)){this.isLoading=!0,this.errorMessage=null,console.log("Tentando reenviar e-mail de recupera\xE7\xE3o para:",this.email);try{let e={url:"http://localhost:4200/login",handleCodeInApp:!0};yield QC(this.auth,this.email,e),console.log("E-mail de recupera\xE7\xE3o reenviado com sucesso."),this.startResendCooldown()}catch(e){this.errorMessage=this.mapFirebaseAuthError(e.code),console.error("Erro ao reenviar e-mail de recupera\xE7\xE3o:",e)}finally{this.isLoading=!1}}})}startResendCooldown(){this.resendCooldown=60,this.clearCooldown(),this.cooldownInterval=window.setInterval(()=>{this.resendCooldown--,this.resendCooldown<=0&&this.clearCooldown()},1e3)}clearCooldown(){this.cooldownInterval&&(clearInterval(this.cooldownInterval),this.cooldownInterval=void 0)}ngOnDestroy(){this.clearCooldown()}mapFirebaseAuthError(e){switch(e){case"auth/invalid-email":return"O e-mail fornecido \xE9 inv\xE1lido.";case"auth/user-not-found":return"N\xE3o h\xE1 registro de usu\xE1rio correspondente a este e-mail.";case"auth/missing-continue-uri":return"A URL de continua\xE7\xE3o \xE9 obrigat\xF3ria. Contate o suporte.";case"auth/unauthorized-continue-uri":return"O dom\xEDnio da URL de continua\xE7\xE3o n\xE3o est\xE1 autorizado. Verifique os dom\xEDnios autorizados no console Firebase.";default:return"Ocorreu um erro inesperado. Tente novamente."}}static \u0275fac=function(t){return new(t||n)(ie(Pn))};static \u0275cmp=Tt({type:n,selectors:[["app-esqueci-senha"]],decls:23,vars:4,consts:[["role","main",1,"forgot-password-wrapper"],[1,"forgot-password-container"],[1,"forgot-password-header"],[1,"logo-section"],["src","assets/logo.png","alt","Logo da empresa",1,"logo-image"],[1,"content-section"],[1,"main-title"],["class","subtitle",4,"ngIf"],[1,"forgot-password-main"],["class","forgot-password-form","novalidate","",3,"ngSubmit",4,"ngIf"],["class","success-message",4,"ngIf"],[1,"forgot-password-footer"],[1,"navigation-links"],["routerLink","/login","tabindex","0",1,"back-link"],["width","16","height","16","viewBox","0 0 24 24","fill","currentColor"],["d","M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z"],["aria-hidden","true",1,"separator"],["routerLink","/cadastro","tabindex","0",1,"signup-link"],[1,"subtitle"],["novalidate","",1,"forgot-password-form",3,"ngSubmit"],[1,"form-fieldset"],[1,"sr-only"],[1,"form-group"],["for","email",1,"form-label"],["aria-label","campo obrigat\xF3rio",1,"required-indicator"],[1,"input-wrapper"],["type","email","id","email","name","email","placeholder","Digite o e-mail da sua conta","autocomplete","email","aria-describedby","email-error email-help","required","",1,"form-input",3,"ngModelChange","ngModel","disabled"],["aria-hidden","true",1,"input-icon"],["width","20","height","20","viewBox","0 0 24 24","fill","currentColor"],["d","M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"],["id","email-help",1,"help-text"],["id","email-error",1,"error-message"],["type","submit",1,"submit-button",3,"disabled"],["class","button-content",4,"ngIf"],["id","submit-button-help",1,"sr-only"],[1,"button-content"],["width","20","height","20","viewBox","0 0 24 24","fill","currentColor",1,"button-icon"],["d","M2,21L23,12L2,3V10L17,12L2,14V21Z"],["width","20","height","20","viewBox","0 0 24 24","fill","currentColor",1,"loading-icon"],["d","M12,4V2A10,10 0 0,0 2,12H4A8,8 0 0,1 12,4Z"],[1,"success-message"],["aria-hidden","true",1,"success-icon"],["width","64","height","64","viewBox","0 0 24 24","fill","currentColor"],["d","M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"],[1,"success-title"],[1,"success-details"],[1,"email-display"],[1,"next-steps"],[1,"steps-list"],["type","button",1,"resend-button",3,"click","disabled"],[4,"ngIf"]],template:function(t,r){t&1&&(h(0,"div",0)(1,"div",1)(2,"header",2)(3,"div",3),V(4,"img",4),g(),h(5,"div",5)(6,"h1",6),w(7,"Recuperar senha"),g(),oe(8,wQ,2,0,"p",7)(9,bQ,2,0,"p",7),g()(),h(10,"main",8),oe(11,IQ,23,11,"form",9)(12,xQ,26,4,"div",10),h(13,"footer",11)(14,"div",12)(15,"a",13),$(),h(16,"svg",14),V(17,"path",15),g(),w(18," Voltar para login "),g(),Y(),h(19,"span",16),w(20,"\u2022"),g(),h(21,"a",17),w(22," Criar nova conta "),g()()()()()()),t&2&&(C(8),W("ngIf",!r.emailSent),C(),W("ngIf",r.emailSent),C(2),W("ngIf",!r.emailSent),C(),W("ngIf",r.emailSent))},dependencies:[mr,es,pr,gr,Xo,Ci,Xn,io,Mt,qt,fr],styles:['.forgot-password-wrapper[_ngcontent-%COMP%]{min-height:100vh;background:linear-gradient(135deg,var(--color-background-dark) 0%,var(--color-background-medium) 100%);display:flex;align-items:flex-start;justify-content:center;padding:20px;position:relative;overflow-y:auto}.forgot-password-wrapper[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:radial-gradient(circle at 70% 30%,rgba(29,161,242,.08) 0%,transparent 50%);pointer-events:none}.forgot-password-container[_ngcontent-%COMP%]{background-color:var(--color-background-light);border:1px solid var(--color-border);border-radius:12px;box-shadow:0 8px 25px #00000026;width:100%;max-width:440px;overflow:hidden;position:relative;z-index:1;margin:20px 0}.forgot-password-header[_ngcontent-%COMP%]{padding:40px 32px 32px;text-align:center;border-bottom:1px solid var(--color-border);background:linear-gradient(180deg,var(--color-background-light) 0%,var(--color-background-medium) 100%)}.logo-section[_ngcontent-%COMP%]{margin-bottom:24px}.logo-section[_ngcontent-%COMP%]   .logo-image[_ngcontent-%COMP%]{display:block;max-width:180px;width:100%;height:auto;margin:0 auto}.logo-section[_ngcontent-%COMP%]   .logo-placeholder[_ngcontent-%COMP%]{background:linear-gradient(45deg,var(--color-accent-blue),#1a91da);color:#fff;padding:16px 32px;border-radius:12px;font-weight:700;font-size:20px;letter-spacing:3px;font-family:Arial Black,sans-serif;text-shadow:0 2px 4px rgba(0,0,0,.3);display:inline-block;transition:all .3s ease}.logo-section[_ngcontent-%COMP%]   .logo-placeholder[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #00000026}.content-section[_ngcontent-%COMP%]   .main-title[_ngcontent-%COMP%]{color:var(--color-text-primary);font-size:28px;font-weight:700;margin:0 0 12px;line-height:1.2}.content-section[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{color:var(--color-text-secondary);font-size:16px;line-height:1.5;max-width:320px;margin:0 auto}.forgot-password-main[_ngcontent-%COMP%]{padding:32px}.form-fieldset[_ngcontent-%COMP%]{border:none;margin:0;padding:0}.form-group[_ngcontent-%COMP%]{margin-bottom:32px}.form-label[_ngcontent-%COMP%]{display:block;color:var(--color-text-primary);font-size:14px;font-weight:600;margin-bottom:8px;line-height:1.4}.form-label[_ngcontent-%COMP%]   .required-indicator[_ngcontent-%COMP%]{color:#ff4757;margin-left:4px}.input-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.form-input[_ngcontent-%COMP%]{width:100%;padding:16px 48px 16px 16px;background-color:var(--color-background-dark);border:2px solid var(--color-border);border-radius:8px;color:var(--color-text-primary);font-size:16px;line-height:1.4;transition:all .3s ease}.form-input[_ngcontent-%COMP%]::placeholder{color:var(--color-text-secondary);opacity:.8}.form-input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--color-accent-blue);box-shadow:0 0 0 3px #1da1f21a;background-color:var(--color-background-medium)}.form-input.error[_ngcontent-%COMP%]{border-color:#ff4757;box-shadow:0 0 0 3px #ff47571a}.form-input[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.input-icon[_ngcontent-%COMP%]{position:absolute;right:16px;color:var(--color-text-secondary);pointer-events:none;transition:all .3s ease}.form-input[_ngcontent-%COMP%]:focus + .input-icon[_ngcontent-%COMP%]{color:var(--color-accent-blue)}.help-text[_ngcontent-%COMP%]{color:var(--color-text-secondary);font-size:12px;margin-top:6px;line-height:1.4}.error-message[_ngcontent-%COMP%]{color:#ff4757;font-size:12px;margin-top:6px;opacity:0;transform:translateY(-4px);transition:all .3s ease}.error-message.visible[_ngcontent-%COMP%]{opacity:1;transform:translateY(0)}.submit-button[_ngcontent-%COMP%]{width:100%;padding:16px 24px;background:linear-gradient(135deg,var(--color-accent-blue) 0%,#1a91da 100%);color:#fff;border:none;border-radius:8px;font-size:16px;font-weight:600;cursor:pointer;transition:all .3s ease;position:relative;overflow:hidden}.submit-button[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.2),transparent);transition:left .5s}.submit-button[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 8px 25px #00000026}.submit-button[_ngcontent-%COMP%]:hover:not(:disabled):before{left:100%}.submit-button[_ngcontent-%COMP%]:focus{outline:3px solid rgba(29,161,242,.3);outline-offset:2px}.submit-button[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(0)}.submit-button[_ngcontent-%COMP%]:disabled{background:var(--color-text-secondary);cursor:not-allowed;transform:none}.submit-button[_ngcontent-%COMP%]:disabled:before{display:none}.button-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:8px}.button-icon[_ngcontent-%COMP%]{transition:all .3s ease}.submit-button[_ngcontent-%COMP%]:hover:not(:disabled)   .button-icon[_ngcontent-%COMP%]{transform:translate(2px)}.loading-icon[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.success-message[_ngcontent-%COMP%]{text-align:center;padding:20px 0}.success-icon[_ngcontent-%COMP%]{color:#2ed573;margin-bottom:20px}.success-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{filter:drop-shadow(0 2px 4px rgba(46,213,115,.3))}.success-title[_ngcontent-%COMP%]{color:var(--color-text-primary);font-size:24px;font-weight:700;margin:0 0 16px}.success-details[_ngcontent-%COMP%]{margin-bottom:24px}.success-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--color-text-secondary);font-size:14px;margin:0 0 8px}.success-details[_ngcontent-%COMP%]   .email-display[_ngcontent-%COMP%]{color:var(--color-accent-blue);font-size:16px;word-break:break-word}.next-steps[_ngcontent-%COMP%]{background-color:var(--color-background-dark);border:1px solid var(--color-border);border-radius:8px;padding:20px;margin-bottom:24px;text-align:left}.next-steps[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--color-text-primary);font-size:16px;font-weight:600;margin:0 0 12px}.next-steps[_ngcontent-%COMP%]   .steps-list[_ngcontent-%COMP%]{color:var(--color-text-secondary);font-size:14px;line-height:1.6;margin:0;padding-left:20px}.next-steps[_ngcontent-%COMP%]   .steps-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:4px}.next-steps[_ngcontent-%COMP%]   .steps-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{margin-bottom:0}.resend-button[_ngcontent-%COMP%]{background:transparent;border:2px solid var(--color-border);color:var(--color-text-secondary);padding:12px 24px;border-radius:8px;font-size:14px;font-weight:500;cursor:pointer;transition:all .3s ease}.resend-button[_ngcontent-%COMP%]:hover:not(:disabled){border-color:var(--color-accent-blue);color:var(--color-accent-blue);background-color:#1da1f20d}.resend-button[_ngcontent-%COMP%]:focus{outline:2px solid var(--color-accent-blue);outline-offset:2px}.resend-button[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.forgot-password-footer[_ngcontent-%COMP%]{padding-top:24px;border-top:1px solid var(--color-border)}.navigation-links[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:12px;flex-wrap:wrap}.back-link[_ngcontent-%COMP%], .signup-link[_ngcontent-%COMP%]{color:var(--color-accent-blue);text-decoration:none;font-size:14px;font-weight:500;transition:all .3s ease;display:flex;align-items:center;gap:4px}.back-link[_ngcontent-%COMP%]:hover, .back-link[_ngcontent-%COMP%]:focus, .signup-link[_ngcontent-%COMP%]:hover, .signup-link[_ngcontent-%COMP%]:focus{text-decoration:underline;outline:2px solid var(--color-accent-blue);outline-offset:2px;border-radius:4px;padding:2px 4px}.separator[_ngcontent-%COMP%]{color:var(--color-text-secondary);font-size:14px}.sr-only[_ngcontent-%COMP%]{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}@media (max-width: 768px){.forgot-password-wrapper[_ngcontent-%COMP%]{padding:16px}.logo-section[_ngcontent-%COMP%]   .logo-image[_ngcontent-%COMP%]{max-width:150px}.forgot-password-container[_ngcontent-%COMP%]{max-width:100%}.forgot-password-header[_ngcontent-%COMP%]{padding:32px 24px 24px}.forgot-password-main[_ngcontent-%COMP%]{padding:24px}.main-title[_ngcontent-%COMP%]{font-size:24px}.subtitle[_ngcontent-%COMP%]{font-size:14px}.navigation-links[_ngcontent-%COMP%]{flex-direction:column;gap:8px}.navigation-links[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]{display:none}}@media (max-width: 480px){.forgot-password-wrapper[_ngcontent-%COMP%]{padding:12px}.forgot-password-header[_ngcontent-%COMP%]{padding:24px 20px 20px}.forgot-password-main[_ngcontent-%COMP%]{padding:20px}.main-title[_ngcontent-%COMP%]{font-size:22px}.form-input[_ngcontent-%COMP%]{padding:14px 44px 14px 14px;font-size:16px}.submit-button[_ngcontent-%COMP%]{padding:14px 20px}}@media (prefers-contrast: high){.form-input[_ngcontent-%COMP%]{border-width:3px}.submit-button[_ngcontent-%COMP%], .resend-button[_ngcontent-%COMP%]{border:2px solid var(--color-text-primary)}}@media (prefers-reduced-motion: reduce){*[_ngcontent-%COMP%]{animation-duration:.01ms!important;animation-iteration-count:1!important;transition-duration:.01ms!important}.loading-icon[_ngcontent-%COMP%]{animation:none}}']})};function MQ(n,e){n&1&&(h(0,"div",5),V(1,"div",6),h(2,"p",7),w(3,"Carregando Dashboard..."),g()())}function DQ(n,e){if(n&1&&(h(0,"div",80)(1,"span",81),w(2),g(),h(3,"span",82),w(4),g()()),n&2){let t=j(2);C(2),ce(t.currentUser.name),C(2),ce(t.currentUser.role)}}function AQ(n,e){n&1&&(h(0,"div",80)(1,"span",81),w(2,"Carregando..."),g(),h(3,"span",82),w(4,"..."),g()())}function PQ(n,e){if(n&1){let t=Ge();h(0,"div",83),H("mouseenter",function(i){let o=U(t).$implicit,s=j(2);return B(s.showTooltip(i,o))})("mouseleave",function(){U(t);let i=j(2);return B(i.hideTooltip())}),V(1,"div",84),g()}if(n&2){let t=e.$implicit;Uu("height",t.value,"%"),ae("data-value",t.label+": "+t.count)("aria-label",t.label+": "+t.count+" atividades"),C(),ut(t.colorClass),Uu("height",t.value,"%")}}function kQ(n,e){if(n&1&&(h(0,"span",85),w(1),g()),n&2){let t=e.$implicit;C(),ce(t.label)}}function RQ(n,e){n&1&&(h(0,"p",86),w(1,"Nenhum dado de atividade recente."),g())}function OQ(n,e){if(n&1){let t=Ge();h(0,"article",87),H("click",function(){let i=U(t).$implicit,o=j(2);return B(o.openTicket(i.id))})("keydown.enter",function(){let i=U(t).$implicit,o=j(2);return B(o.openTicket(i.id))})("keydown.space",function(){let i=U(t).$implicit,o=j(2);return B(o.openTicket(i.id))}),V(1,"div",88),h(2,"div",89)(3,"h3",90),w(4),g(),h(5,"div",91)(6,"span",92),w(7),g(),h(8,"span",93),w(9,"\u2022"),g(),h(10,"span",94),w(11),g()()(),h(12,"div",95)(13,"span",96),w(14),g()(),h(15,"button",97),H("click",function(i){let o=U(t).$implicit,s=j(2);return i.stopPropagation(),B(s.openTicketMenu(o.id))}),$(),h(16,"svg",53),V(17,"path",56),g()()()}if(n&2){let t=e.$implicit;ae("aria-label","Ticket: "+t.title+". Prioridade: "+t.priority+". Criado "+t.timeAgo),C(),ut("priority-"+t.priority.toLowerCase()),ae("aria-label","Prioridade "+t.priority),C(3),ce(t.title),C(3),ce(t.timeAgo),C(4),ce(t.author),C(2),ut("badge-"+t.priority.toLowerCase()),ae("aria-label","Prioridade "+t.priority),C(),Be(" ",t.priority," "),C(),ae("aria-label","A\xE7\xF5es para ticket: "+t.title)}}function NQ(n,e){n&1&&(h(0,"p",98),w(1,"Nenhum ticket recente encontrado."),g())}function FQ(n,e){if(n&1){let t=Ge();h(0,"div",99),H("click",function(){let i=U(t).$implicit,o=j(2);return B(o.openAsset(i.id))})("keydown.enter",function(){let i=U(t).$implicit,o=j(2);return B(o.openAsset(i.id))})("keydown.space",function(){let i=U(t).$implicit,o=j(2);return B(o.openAsset(i.id))}),h(1,"div",100)(2,"div",101)(3,"div",102),$(),h(4,"svg",53),V(5,"path"),g()(),Y(),h(6,"span",103),w(7),g()()(),h(8,"div",100),w(9),g(),h(10,"div",100)(11,"span",104),w(12),g()(),h(13,"div",100),w(14),g(),h(15,"div",100)(16,"button",105),H("click",function(i){let o=U(t).$implicit,s=j(2);return i.stopPropagation(),B(s.openAssetMenu(o.id))}),$(),h(17,"svg",53),V(18,"path",56),g()()()()}if(n&2){let t=e.$implicit,r=j(2);ae("aria-label","Asset: "+t.name+". Tipo: "+t.type+". Status: "+t.status),C(3),ut("icon-"+t.type.toLowerCase()),C(2),ae("d",r.getAssetIcon(t.type)),C(2),ce(t.name),C(2),ce(t.type),C(2),ut("status-"+t.status.toLowerCase()),ae("aria-label","Status: "+t.status),C(),Be(" ",t.status," "),C(2),ce(t.lastUpdate),C(2),ae("aria-label","A\xE7\xF5es para asset: "+t.name)}}function VQ(n,e){n&1&&(h(0,"p",98),w(1,"Nenhum ativo recente encontrado."),g())}function LQ(n,e){if(n&1){let t=Ge();Cw(0),h(1,"header",8)(2,"div",9)(3,"div",10)(4,"h1",11),w(5,"Dashboard"),g(),h(6,"p",12),w(7,"Vis\xE3o geral do sistema"),g()(),h(8,"div",13)(9,"div",14)(10,"span",15),w(11),g()(),oe(12,DQ,5,2,"div",16)(13,AQ,5,0,"ng-template",null,0,hi),h(15,"div",17),V(16,"span",18),g()()()(),h(17,"section",19)(18,"h2",20),w(19,"M\xE9tricas do sistema"),g(),h(20,"div",21)(21,"article",22),H("click",function(){U(t);let i=j();return B(i.navigateToAssets())})("keydown.enter",function(){U(t);let i=j();return B(i.navigateToAssets())})("keydown.space",function(){U(t);let i=j();return B(i.navigateToAssets())}),h(22,"div",23),$(),h(23,"svg",24),V(24,"path",25),g()(),Y(),h(25,"div",26)(26,"span",27),w(27),g(),h(28,"span",28),w(29,"Total de Assets"),g(),h(30,"div",29),$(),h(31,"svg",30),V(32,"path",31),g(),Y(),h(33,"span"),w(34,"+12% este m\xEAs"),g()()()(),h(35,"article",22),H("click",function(){U(t);let i=j();return B(i.navigateToTickets())})("keydown.enter",function(){U(t);let i=j();return B(i.navigateToTickets())})("keydown.space",function(){U(t);let i=j();return B(i.navigateToTickets())}),h(36,"div",32),$(),h(37,"svg",24),V(38,"path",33),g()(),Y(),h(39,"div",26)(40,"span",27),w(41),g(),h(42,"span",28),w(43,"Tickets Ativos"),g(),h(44,"div",34),$(),h(45,"svg",30),V(46,"path",35),g(),Y(),h(47,"span"),w(48,"-5% esta semana"),g()()()(),h(49,"article",36)(50,"div",37),$(),h(51,"svg",24),V(52,"path",38),g()(),Y(),h(53,"div",26)(54,"span",27),w(55),g(),h(56,"span",28),w(57,"Usu\xE1rios Ativos"),g(),h(58,"div",29),$(),h(59,"svg",30),V(60,"path",31),g(),Y(),h(61,"span"),w(62,"+8% este m\xEAs"),g()()()(),h(63,"article",39)(64,"div",40),$(),h(65,"svg",24),V(66,"path",41),g()(),Y(),h(67,"div",26)(68,"span",27),w(69,"98.5%"),g(),h(70,"span",28),w(71,"Uptime"),g(),h(72,"div",42),$(),h(73,"svg",30),V(74,"path",43),g(),Y(),h(75,"span"),w(76,"Est\xE1vel"),g()()()()()(),h(77,"div",44)(78,"section",45)(79,"div",46)(80,"header",47)(81,"div",48)(82,"h2",49),w(83,"Atividade Recente"),g(),h(84,"p",50),w(85,"\xDAltimos 7 dias"),g()(),h(86,"div",51)(87,"button",52),H("click",function(){U(t);let i=j();return B(i.openChartFilters())}),$(),h(88,"svg",53),V(89,"path",54),g()(),Y(),h(90,"button",55),H("click",function(){U(t);let i=j();return B(i.openChartOptions())}),$(),h(91,"svg",53),V(92,"path",56),g()()()(),Y(),h(93,"div",57)(94,"div",58)(95,"div",59),oe(96,PQ,2,8,"div",60),g(),h(97,"div",61),oe(98,kQ,2,1,"span",62),g()(),h(99,"div",63)(100,"div",64)(101,"strong"),w(102),g(),h(103,"span"),w(104),g()()(),oe(105,RQ,2,0,"p",65),g()()(),h(106,"section",66)(107,"div",46)(108,"header",47)(109,"div",48)(110,"h2",67),w(111,"Tickets Recentes"),g(),h(112,"p",50),w(113,"\xDAltimas atualiza\xE7\xF5es"),g()(),h(114,"div",51)(115,"a",68),w(116," Ver todos "),$(),h(117,"svg",30),V(118,"path",69),g()()()(),Y(),h(119,"div",70),oe(120,OQ,18,12,"article",71)(121,NQ,2,0,"p",72),g()()()(),h(122,"section",73)(123,"div",46)(124,"header",47)(125,"div",48)(126,"h2",74),w(127,"Assets Recentes"),g(),h(128,"p",50),w(129,"\xDAltimas atualiza\xE7\xF5es"),g()(),h(130,"div",51)(131,"a",75),w(132," Ver todos "),$(),h(133,"svg",30),V(134,"path",69),g()()()(),Y(),h(135,"div",76)(136,"div",77)(137,"div",78),w(138,"Nome"),g(),h(139,"div",78),w(140,"Tipo"),g(),h(141,"div",78),w(142,"Status"),g(),h(143,"div",78),w(144,"\xDAltima Atualiza\xE7\xE3o"),g(),h(145,"div",78),w(146,"A\xE7\xF5es"),g()(),oe(147,FQ,19,12,"div",79)(148,VQ,2,0,"p",72),g()()(),Ew()}if(n&2){let t=Br(14),r=j();C(8),ae("aria-label","Informa\xE7\xF5es do usu\xE1rio ativo: "+((r.currentUser==null?null:r.currentUser.name)||"Carregando...")),C(3),ce(r.getUserInitials()),C(),W("ngIf",r.currentUser)("ngIfElse",t),C(3),ae("aria-label","Status: "+(r.isUserOnline?"Online":"Offline")),C(),_e("online",r.isUserOnline)("offline",!r.isUserOnline),C(5),ae("aria-label","Total de Assets: "+r.totalAssets+". Aumento de 12% este m\xEAs"),C(5),ae("aria-label","Total de Assets: "+r.totalAssets),C(),ce(r.totalAssets),C(8),ae("aria-label","Tickets Ativos: "+r.activeTickets+". Redu\xE7\xE3o de 5% esta semana"),C(5),ae("aria-label","Tickets Ativos: "+r.activeTickets),C(),ce(r.activeTickets),C(8),ae("aria-label","Usu\xE1rios Ativos: "+r.activeUsers+". Aumento de 8% este m\xEAs"),C(5),ae("aria-label","Usu\xE1rios Ativos: "+r.activeUsers),C(),ce(r.activeUsers),C(41),W("ngForOf",r.chartData),C(2),W("ngForOf",r.chartData),C(),Uu("left",r.tooltipX,"px")("top",r.tooltipY,"px"),_e("visible",r.tooltipVisible),C(3),ce(r.tooltipData==null?null:r.tooltipData.label),C(2),Be("",r.tooltipData==null?null:r.tooltipData.count," atividades"),C(),W("ngIf",r.chartData.length===0),C(15),W("ngForOf",r.recentTickets)("ngForTrackBy",r.trackTicket),C(),W("ngIf",r.recentTickets.length===0),C(26),W("ngForOf",r.recentAssets)("ngForTrackBy",r.trackAsset),C(),W("ngIf",r.recentAssets.length===0)}}var E_=class n{router=F(Ye);destroy$=new Xe;auth=F(Pn);firestore=F(Jr);currentUser=null;firebaseUser=null;isUserOnline=!0;totalAssets=0;activeTickets=0;activeUsers=0;chartData=[];tooltipVisible=!1;tooltipX=0;tooltipY=0;tooltipData=null;recentTickets=[];recentAssets=[];isLoadingDashboard=!0;ngOnInit(){this.listenToAuthChanges()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}navigateToAssets(){this.announceAction("Navegando para p\xE1gina de Assets"),this.router.navigate(["/ativos"])}navigateToTickets(){this.announceAction("Navegando para p\xE1gina de Tickets"),this.router.navigate(["/chamados"])}getUserInitials(){return this.currentUser&&this.currentUser.name?this.currentUser.name.split(" ").map(e=>e.charAt(0)).join("").toUpperCase().substring(0,2):"??"}showTooltip(e,t){this.tooltipVisible=!0,this.tooltipX=e.clientX+10,this.tooltipY=e.clientY-30,this.tooltipData=t}hideTooltip(){this.tooltipVisible=!1,this.tooltipData=null}openChartFilters(){this.announceAction("Abrindo filtros do gr\xE1fico")}openChartOptions(){this.announceAction("Abrindo op\xE7\xF5es do gr\xE1fico")}openTicket(e){this.announceAction(`Abrindo ticket ${e}`),this.router.navigate(["/chamados",e])}openTicketMenu(e){this.announceAction(`Abrindo menu do ticket ${e}`)}trackTicket(e,t){return t.id}openAsset(e){this.announceAction(`Abrindo asset ${e}`),this.router.navigate(["/ativos",e])}openAssetMenu(e){this.announceAction(`Abrindo menu do asset ${e}`)}trackAsset(e,t){return t.id}getAssetIcon(e){let t={Servidor:"M4,1H20A1,1 0 0,1 21,2V6A1,1 0 0,1 20,7H4A1,1 0 0,1 3,6V2A1,1 0 0,1 4,1M4,9H20A1,1 0 0,1 21,10V14A1,1 0 0,1 20,15H4A1,1 0 0,1 3,14V10A1,1 0 0,1 4,9M4,17H20A1,1 0 0,1 21,18V22A1,1 0 0,1 20,23H4A1,1 0 0,1 3,22V18A1,1 0 0,1 4,17Z","Banco de Dados":"M12,3C7.58,3 4,4.79 4,7C4,9.21 7.58,11 12,11C16.42,11 20,9.21 20,7C20,4.79 16.42,3 12,3M4,9V12C4,14.21 7.58,16 12,16C16.42,16 20,14.21 20,12V9C20,11.21 16.42,13 12,13C7.58,13 4,11.21 4,9M4,14V17C4,19.21 7.58,21 12,21C16.42,21 20,19.21 20,17V14C20,16.21 16.42,18 12,18C7.58,18 4,16.21 4,14Z",Rede:"M4,1C2.89,1 2,1.89 2,3V7C2,8.11 2.89,9 4,9H1V11H13V9H10C11.11,9 12,8.11 12,7V3C12,1.89 11.11,1 10,1H4M4,3H10V7H4V3Z",Notebook:"M2,4H22V16H2M22,18A2,2 0 0,0 24,16V4C24,2.89 23.1,2 22,2H2C0.89,2 0,2.89 0,4V16A2,2 0 0,0 2,18H0V20H24V18H2Z"};return t[e]||t.Servidor}listenToAuthChanges(){cN(this.auth).pipe(kr(this.destroy$)).subscribe(e=>{this.firebaseUser=e,e?(this.fetchCurrentUserProfile(e.uid),this.loadDynamicDashboardData()):(this.currentUser=null,this.isLoadingDashboard=!1,this.router.navigate(["/login"]))})}fetchCurrentUserProfile(e){let t=Na(this.firestore,`users/${e}`);JF(t).pipe(le(r=>r?{uid:e,name:r.nome+" "+r.sobrenome||"Usu\xE1rio Desconhecido",email:r.email||"",role:r.cargo||"Usu\xE1rio",avatar:r.avatar||void 0}:null),kr(this.destroy$)).subscribe(r=>{this.currentUser=r})}loadDynamicDashboardData(){this.isLoadingDashboard=!0,Fo([this.getMetrics(),this.getRecentTickets(),this.getRecentAssets(),this.getChartData()]).pipe(kr(this.destroy$)).subscribe(([e,t,r,i])=>{this.totalAssets=e.totalAssets,this.activeTickets=e.activeTickets,this.activeUsers=e.activeUsers,this.recentTickets=t,this.recentAssets=r,this.chartData=i,this.isLoadingDashboard=!1,this.announceAction("Dashboard carregado com sucesso")},e=>{console.error("Erro ao carregar dados do dashboard:",e),this.isLoadingDashboard=!1,this.announceAction("Erro ao carregar dashboard")})}getMetrics(){let e=Ir(this.firestore,"ativos"),t=Ir(this.firestore,"chamados"),r=Ir(this.firestore,"users");return Fo([Xr(e).pipe(le(i=>i.length)),Xr(Fa(t,EI("status","in",["Aberto","Em andamento","Pendente"]))).pipe(le(i=>i.length)),Xr(r).pipe(le(i=>i.length))]).pipe(le(([i,o,s])=>({totalAssets:i,activeTickets:o,activeUsers:s})))}getRecentTickets(){let e=Ir(this.firestore,"chamados"),t=Fa(e,Pl("createdAt","desc"),mh(3));return Xr(t,{idField:"id"}).pipe(le(r=>r.map(i=>{let o=i;return ue(z({},o),{createdAt:o.createdAt?o.createdAt.toDate():new Date,timeAgo:this.getTimeAgo(o.createdAt?o.createdAt.toDate():new Date)})})))}getRecentAssets(){let e=Ir(this.firestore,"ativos"),t=Fa(e,Pl("createdAt","desc"),mh(3));return Xr(t,{idField:"id"}).pipe(le(r=>r.map(i=>{let o=i;return ue(z({},o),{createdAt:o.createdAt?o.createdAt.toDate():new Date,lastUpdate:this.getTimeAgo(o.createdAt?o.createdAt.toDate():new Date)})})))}getChartData(){let e=new Date;e.setHours(0,0,0,0);let t=[],r=["Dom","Seg","Ter","Qua","Qui","Sex","S\xE1b"];for(let a=6;a>=0;a--){let c=new Date(e);c.setDate(e.getDate()-a),t.push({label:r[c.getDay()],value:0,count:0,colorClass:"bar-default"})}let i=Ir(this.firestore,"chamados"),o=new Date(e);o.setDate(e.getDate()-6);let s=Fa(i,EI("createdAt",">=",o),Pl("createdAt","asc"));return Xr(s,{idField:"id"}).pipe(le(a=>{let c={};for(let d=0;d<7;d++){let p=new Date(e);p.setDate(e.getDate()-d);let _=p.toISOString().split("T")[0];c[_]={total:0,resolved:0,overdue:0,veryOverdue:0}}let u=new Date;return a.forEach(d=>{let p=d,y=p.createdAt.toDate().toISOString().split("T")[0];if(c[y]){if(c[y].total++,p.status==="Resolvido")c[y].resolved++;else if(p.dueDate){let v=p.dueDate.toDate(),A=new Date(u.getFullYear(),u.getMonth(),u.getDate()),O=new Date(v.getFullYear(),v.getMonth(),v.getDate());if(O<A){let G=Math.abs(A.getTime()-O.getTime());Math.ceil(G/(1e3*60*60*24))>1?c[y].veryOverdue++:c[y].overdue++}}}}),t.map(d=>{let p=new Date(e),_=e.getDay()-this.getDayIndex(d.label);p.setDate(e.getDate()-(_>=0?_:7+_));let y=p.toISOString().split("T")[0],v=c[y]||{total:0,resolved:0,overdue:0,veryOverdue:0},A="bar-default";v.veryOverdue>0?A="bar-red":v.overdue>0?A="bar-orange":v.total>0&&v.total===v.resolved&&(A="bar-blue");let O=v.total>0?v.resolved/v.total*100:0;return ue(z({},d),{value:O,count:v.total,colorClass:A})}).sort((d,p)=>this.getDayIndex(d.label)-this.getDayIndex(p.label))}))}getDayIndex(e){switch(e){case"Dom":return 0;case"Seg":return 1;case"Ter":return 2;case"Qua":return 3;case"Qui":return 4;case"Sex":return 5;case"S\xE1b":return 6;default:return 0}}getTimeAgo(e){let t=Math.floor((new Date().getTime()-e.getTime())/1e3),r=t/31536e3;return r>1?Math.floor(r)+" anos atr\xE1s":(r=t/2592e3,r>1?Math.floor(r)+" meses atr\xE1s":(r=t/86400,r>1?Math.floor(r)+" dias atr\xE1s":(r=t/3600,r>1?Math.floor(r)+" horas atr\xE1s":(r=t/60,r>1?Math.floor(r)+" minutos atr\xE1s":Math.floor(t)+" segundos atr\xE1s"))))}announceAction(e){let t=document.getElementById("status-announcements");t&&(t.textContent=e,setTimeout(()=>{t.textContent=""},1e3))}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Tt({type:n,selectors:[["app-dashboard"]],decls:4,vars:2,consts:[["loadingUserDetails",""],["role","main",1,"dashboard-wrapper"],["class","loading-overlay",4,"ngIf"],[4,"ngIf"],["aria-live","polite","id","status-announcements",1,"sr-only"],[1,"loading-overlay"],[1,"spinner"],[1,"loading-text"],[1,"dashboard-header"],[1,"header-content"],[1,"page-info"],[1,"page-title"],[1,"page-subtitle"],["role","banner",1,"user-info"],["aria-hidden","true",1,"user-avatar"],[1,"avatar-initials"],["class","user-details",4,"ngIf","ngIfElse"],[1,"user-status"],[1,"status-indicator"],["aria-labelledby","metrics-title",1,"metrics-section"],["id","metrics-title",1,"sr-only"],[1,"metrics-grid"],["tabindex","0","role","button",1,"metric-card",3,"click","keydown.enter","keydown.space"],["aria-hidden","true",1,"metric-icon","assets-icon"],["width","28","height","28","viewBox","0 0 24 24","fill","currentColor"],["d","M4,6H20V16H4M20,18A2,2 0 0,0 22,16V6C22,4.89 21.1,4 20,4H4C2.89,4 2,4.89 2,6V16A2,2 0 0,0 4,18H0V20H24V18H20Z"],[1,"metric-content"],[1,"metric-value"],[1,"metric-label"],["aria-label","Tend\xEAncia positiva",1,"metric-trend","positive"],["width","16","height","16","viewBox","0 0 24 24","fill","currentColor"],["d","M15,20H9V12H4.16L12,4.16L19.84,12H15V20Z"],["aria-hidden","true",1,"metric-icon","tickets-icon"],["d","M15.41,16.58L10.83,12L15.41,7.41L14,6L8,12L14,18L15.41,16.58Z"],["aria-label","Tend\xEAncia negativa",1,"metric-trend","negative"],["d","M9,4H15V12H19.84L12,19.84L4.16,12H9V4Z"],["tabindex","0","role","button",1,"metric-card"],["aria-hidden","true",1,"metric-icon","users-icon"],["d","M16,4C18.21,4 20,5.79 20,8C20,10.21 18.21,12 16,12C13.79,12 12,10.21 12,8C12,5.79 13.79,4 16,4M16,14C20.42,14 24,15.79 24,18V20H8V18C8,15.79 11.58,14 16,14Z"],["tabindex","0","role","button","aria-label","Uptime do sistema: 98.5%. Status est\xE1vel",1,"metric-card"],["aria-hidden","true",1,"metric-icon","uptime-icon"],["d","M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4M12,6A6,6 0 0,0 6,12A6,6 0 0,0 12,18A6,6 0 0,0 18,12A6,6 0 0,0 12,6Z"],["aria-label","Status est\xE1vel",1,"metric-trend","stable"],["d","M5,13H19V11H5V13Z"],[1,"dashboard-content"],["aria-labelledby","chart-title",1,"chart-section"],[1,"section-card"],[1,"card-header"],[1,"header-left"],["id","chart-title",1,"card-title"],[1,"card-subtitle"],[1,"header-actions"],["aria-label","Filtrar dados do gr\xE1fico","tabindex","0",1,"action-button",3,"click"],["width","20","height","20","viewBox","0 0 24 24","fill","currentColor"],["d","M14,12V19.88C14.04,20.18 13.94,20.5 13.71,20.71C13.32,21.1 12.69,21.1 12.3,20.71L10.29,18.7C10.06,18.47 9.96,18.16 10,17.87V12H9.97L4.21,4.62C3.87,4.19 3.95,3.56 4.38,3.22C4.57,3.08 4.78,3 5,3V3H19V3C19.22,3 19.43,3.08 19.62,3.22C20.05,3.56 20.13,4.19 19.79,4.62L14.03,12H14Z"],["aria-label","Mais op\xE7\xF5es do gr\xE1fico","tabindex","0",1,"action-button",3,"click"],["d","M12,16A2,2 0 0,1 14,18A2,2 0 0,1 12,20A2,2 0 0,1 10,18A2,2 0 0,1 12,16M12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12A2,2 0 0,1 12,10M12,4A2,2 0 0,1 14,6A2,2 0 0,1 12,8A2,2 0 0,1 10,6A2,2 0 0,1 12,4Z"],["role","img","aria-label","Gr\xE1fico de barras mostrando atividade dos \xFAltimos 7 dias",1,"chart-container"],[1,"chart-wrapper"],["aria-hidden","true",1,"chart-bars"],["class","chart-bar","tabindex","0",3,"height","mouseenter","mouseleave",4,"ngFor","ngForOf"],[1,"chart-labels"],["class","chart-label",4,"ngFor","ngForOf"],[1,"chart-tooltip"],[1,"tooltip-content"],["class","no-data-message-chart",4,"ngIf"],["aria-labelledby","tickets-title",1,"tickets-section"],["id","tickets-title",1,"card-title"],["routerLink","/chamados","tabindex","0","aria-label","Ver todos os tickets",1,"view-all-link"],["d","M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z"],["role","list",1,"tickets-list"],["class","ticket-item","role","listitem","tabindex","0",3,"click","keydown.enter","keydown.space",4,"ngFor","ngForOf","ngForTrackBy"],["class","no-data-message",4,"ngIf"],["aria-labelledby","assets-title",1,"assets-section"],["id","assets-title",1,"card-title"],["routerLink","/ativos","tabindex","0","aria-label","Ver todos os assets",1,"view-all-link"],["role","table","aria-label","Tabela de assets recentes",1,"assets-table"],["role","row",1,"table-header"],["role","columnheader",1,"table-cell","header-cell"],["class","table-row","role","row","tabindex","0",3,"click","keydown.enter","keydown.space",4,"ngFor","ngForOf","ngForTrackBy"],[1,"user-details"],[1,"user-name"],[1,"user-role"],["tabindex","0",1,"chart-bar",3,"mouseenter","mouseleave"],[1,"bar-fill"],[1,"chart-label"],[1,"no-data-message-chart"],["role","listitem","tabindex","0",1,"ticket-item",3,"click","keydown.enter","keydown.space"],[1,"ticket-priority"],[1,"ticket-content"],[1,"ticket-title"],[1,"ticket-meta"],[1,"ticket-time"],["aria-hidden","true",1,"ticket-separator"],[1,"ticket-author"],[1,"ticket-status"],[1,"priority-badge"],[1,"ticket-actions",3,"click"],[1,"no-data-message"],["role","row","tabindex","0",1,"table-row",3,"click","keydown.enter","keydown.space"],["role","gridcell",1,"table-cell"],[1,"asset-info"],["aria-hidden","true",1,"asset-icon"],[1,"asset-name"],[1,"status-badge"],[1,"action-button",3,"click"]],template:function(t,r){t&1&&(h(0,"div",1),oe(1,MQ,4,0,"div",2)(2,LQ,149,35,"ng-container",3),g(),V(3,"div",4)),t&2&&(C(),W("ngIf",r.isLoadingDashboard),C(),W("ngIf",!r.isLoadingDashboard))},dependencies:[Mt,hr,qt,Sb,fr],styles:['@charset "UTF-8";[_ngcontent-%COMP%]:root{--primary-bg: #0F1419;--secondary-bg: #16202A;--tertiary-bg: #1E2732;--hover-bg: #253341;--primary-text: #F7F9FA;--secondary-text: #8B98A5;--white-text: #FFFFFF;--accent-blue: #1D9BF0;--accent-blue-light: #4AB3F4;--accent-blue-dark: #1A8CD8;--border-color: #2F3336;--border-light: #3E4347;--success-color: #00BA7C;--warning-color: #FFD400;--error-color: #F4212E;--info-color: #1D9BF0;--gradient-primary: linear-gradient(135deg, #1D9BF0, #4AB3F4);--gradient-success: linear-gradient(135deg, #00BA7C, #00D084);--gradient-warning: linear-gradient(135deg, #FFD400, #FFDC00);--gradient-error: linear-gradient(135deg, #F4212E, #FF4757);--shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, .05);--shadow-md: 0 4px 6px -1px rgba(0, 0, 0, .1), 0 2px 4px -1px rgba(0, 0, 0, .06);--shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, .1), 0 4px 6px -2px rgba(0, 0, 0, .05);--shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, .1), 0 10px 10px -5px rgba(0, 0, 0, .04);--transition-fast: all .15s ease;--transition-normal: all .3s cubic-bezier(.4, 0, .2, 1);--transition-slow: all .5s cubic-bezier(.4, 0, .2, 1);--radius-sm: 4px;--radius-md: 8px;--radius-lg: 12px;--radius-xl: 16px;--radius-full: 9999px;--spacing-xs: 4px;--spacing-sm: 8px;--spacing-md: 16px;--spacing-lg: 24px;--spacing-xl: 32px;--spacing-2xl: 48px}.dashboard-wrapper[_ngcontent-%COMP%]{min-height:100vh;background-color:var(--primary-bg);padding:var(--spacing-lg);max-width:1400px;margin:0 auto}@media (max-width: 768px){.dashboard-wrapper[_ngcontent-%COMP%]{padding:var(--spacing-md)}}.dashboard-header[_ngcontent-%COMP%]{margin-bottom:var(--spacing-2xl)}.dashboard-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;gap:var(--spacing-lg)}@media (max-width: 768px){.dashboard-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch;gap:var(--spacing-md)}}.page-info[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{font-size:clamp(28px,4vw,36px);font-weight:700;color:var(--primary-text);margin:0 0 var(--spacing-sm) 0;line-height:1.2;background:var(--gradient-primary);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.page-info[_ngcontent-%COMP%]   .page-subtitle[_ngcontent-%COMP%]{font-size:16px;color:var(--secondary-text);margin:0;line-height:1.4}.user-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--spacing-sm);background-color:var(--secondary-bg);border:1px solid var(--border-color);border-radius:var(--radius-lg);padding:var(--spacing-md) var(--spacing-lg);transition:var(--transition-normal);box-shadow:var(--shadow-sm)}.user-info[_ngcontent-%COMP%]:hover{border-color:var(--accent-blue);box-shadow:var(--shadow-md);transform:translateY(-1px)}@media (max-width: 768px){.user-info[_ngcontent-%COMP%]{justify-content:center}}.user-avatar[_ngcontent-%COMP%]{width:48px;height:48px;background:var(--gradient-primary);border-radius:var(--radius-full);display:flex;align-items:center;justify-content:center;flex-shrink:0;box-shadow:var(--shadow-md)}.user-avatar[_ngcontent-%COMP%]   .avatar-initials[_ngcontent-%COMP%]{color:var(--white-text);font-weight:600;font-size:18px;letter-spacing:.5px}.user-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px}.user-details[_ngcontent-%COMP%]   .user-name[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:var(--primary-text);line-height:1.3}.user-details[_ngcontent-%COMP%]   .user-role[_ngcontent-%COMP%]{font-size:14px;color:var(--secondary-text);line-height:1.3}.user-status[_ngcontent-%COMP%]{display:flex;align-items:center}.user-status[_ngcontent-%COMP%]   .status-indicator[_ngcontent-%COMP%]{width:12px;height:12px;border-radius:var(--radius-full);border:2px solid var(--secondary-bg);transition:var(--transition-normal)}.user-status[_ngcontent-%COMP%]   .status-indicator.online[_ngcontent-%COMP%]{background-color:var(--success-color);box-shadow:0 0 0 2px #00ba7c33;animation:_ngcontent-%COMP%_pulse 2s infinite}.user-status[_ngcontent-%COMP%]   .status-indicator.offline[_ngcontent-%COMP%]{background-color:var(--secondary-text)}@keyframes _ngcontent-%COMP%_pulse{0%,to{box-shadow:0 0 0 2px #00ba7c33}50%{box-shadow:0 0 0 4px #00ba7c1a}}.metrics-section[_ngcontent-%COMP%]{margin-bottom:var(--spacing-2xl)}.metrics-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:var(--spacing-lg)}@media (max-width: 640px){.metrics-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:var(--spacing-md)}}.metric-card[_ngcontent-%COMP%]{background-color:var(--secondary-bg);border:1px solid var(--border-color);border-radius:var(--radius-lg);padding:var(--spacing-lg);display:flex;align-items:center;gap:var(--spacing-lg);transition:var(--transition-normal);cursor:pointer;position:relative;overflow:hidden;min-height:140px;box-shadow:var(--shadow-sm)}.metric-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:3px;background:var(--gradient-primary);transform:scaleX(0);transition:transform .3s ease}.metric-card[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:0;background:radial-gradient(circle at 50% 50%,rgba(29,155,240,.05) 0%,transparent 70%);opacity:0;transition:opacity .3s ease}.metric-card[_ngcontent-%COMP%]:hover, .metric-card[_ngcontent-%COMP%]:focus{border-color:var(--accent-blue);box-shadow:var(--shadow-lg);transform:translateY(-4px)}.metric-card[_ngcontent-%COMP%]:hover:before, .metric-card[_ngcontent-%COMP%]:focus:before{transform:scaleX(1)}.metric-card[_ngcontent-%COMP%]:hover:after, .metric-card[_ngcontent-%COMP%]:focus:after{opacity:1}.metric-card[_ngcontent-%COMP%]:focus{outline:2px solid var(--accent-blue);outline-offset:2px}.metric-card[_ngcontent-%COMP%]:active{transform:translateY(-2px)}.metric-icon[_ngcontent-%COMP%]{width:64px;height:64px;border-radius:var(--radius-lg);display:flex;align-items:center;justify-content:center;flex-shrink:0;position:relative;z-index:1}.metric-icon.assets-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);box-shadow:0 8px 16px #667eea4d}.metric-icon.tickets-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f093fb,#f5576c);box-shadow:0 8px 16px #f093fb4d}.metric-icon.users-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#4facfe,#00f2fe);box-shadow:0 8px 16px #4facfe4d}.metric-icon.uptime-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#43e97b,#38f9d7);box-shadow:0 8px 16px #43e97b4d}.metric-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:var(--white-text);filter:drop-shadow(0 2px 4px rgba(0,0,0,.2))}.metric-content[_ngcontent-%COMP%]{flex:1;position:relative;z-index:1}.metric-content[_ngcontent-%COMP%]   .metric-value[_ngcontent-%COMP%]{display:block;font-size:clamp(24px,3vw,32px);font-weight:700;color:var(--primary-text);line-height:1.1;margin-bottom:var(--spacing-xs)}.metric-content[_ngcontent-%COMP%]   .metric-label[_ngcontent-%COMP%]{display:block;font-size:14px;color:var(--secondary-text);font-weight:500;margin-bottom:var(--spacing-sm)}.metric-content[_ngcontent-%COMP%]   .metric-trend[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--spacing-xs);font-size:12px;font-weight:600}.metric-content[_ngcontent-%COMP%]   .metric-trend[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:16px;height:16px}.metric-content[_ngcontent-%COMP%]   .metric-trend.positive[_ngcontent-%COMP%]{color:var(--success-color)}.metric-content[_ngcontent-%COMP%]   .metric-trend.negative[_ngcontent-%COMP%]{color:var(--error-color)}.metric-content[_ngcontent-%COMP%]   .metric-trend.stable[_ngcontent-%COMP%]{color:var(--secondary-text)}.dashboard-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:var(--spacing-lg);margin-bottom:var(--spacing-2xl)}@media (max-width: 1024px){.dashboard-content[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:var(--spacing-lg)}}.section-card[_ngcontent-%COMP%]{background-color:var(--secondary-bg);border:1px solid var(--border-color);border-radius:var(--radius-lg);overflow:hidden;box-shadow:var(--shadow-sm);transition:var(--transition-normal)}.section-card[_ngcontent-%COMP%]:hover{box-shadow:var(--shadow-md);border-color:var(--border-light)}.card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;padding:var(--spacing-lg) var(--spacing-lg) var(--spacing-md);border-bottom:1px solid var(--border-color);background:linear-gradient(135deg,var(--secondary-bg) 0%,var(--tertiary-bg) 100%)}.card-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:20px;font-weight:600;color:var(--primary-text);margin:0 0 var(--spacing-xs) 0;line-height:1.3}.card-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .card-subtitle[_ngcontent-%COMP%]{font-size:14px;color:var(--secondary-text);margin:0;line-height:1.4}.card-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--spacing-sm)}.action-button[_ngcontent-%COMP%]{width:40px;height:40px;border:none;background-color:transparent;color:var(--secondary-text);border-radius:var(--radius-md);display:flex;align-items:center;justify-content:center;cursor:pointer;transition:var(--transition-normal)}.action-button[_ngcontent-%COMP%]:hover, .action-button[_ngcontent-%COMP%]:focus{background-color:var(--hover-bg);color:var(--primary-text);transform:scale(1.05)}.action-button[_ngcontent-%COMP%]:focus{outline:2px solid var(--accent-blue);outline-offset:2px}.action-button[_ngcontent-%COMP%]:active{transform:scale(.95)}.view-all-link[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--spacing-xs);color:var(--accent-blue);text-decoration:none;font-size:14px;font-weight:500;padding:var(--spacing-sm) var(--spacing-md);border-radius:var(--radius-md);transition:var(--transition-normal)}.view-all-link[_ngcontent-%COMP%]:hover, .view-all-link[_ngcontent-%COMP%]:focus{background-color:#1d9bf01a;text-decoration:none;transform:translate(2px)}.view-all-link[_ngcontent-%COMP%]:focus{outline:2px solid var(--accent-blue);outline-offset:2px}.view-all-link[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{transition:transform .2s ease}.view-all-link[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{transform:translate(4px)}.chart-section[_ngcontent-%COMP%]   .section-card[_ngcontent-%COMP%]{min-height:420px}.chart-container[_ngcontent-%COMP%]{padding:var(--spacing-lg);position:relative}.chart-wrapper[_ngcontent-%COMP%]{height:320px;display:flex;flex-direction:column;justify-content:space-between}.chart-bars[_ngcontent-%COMP%]{display:flex;align-items:flex-end;justify-content:space-between;height:240px;gap:var(--spacing-sm);padding:0 var(--spacing-sm);background:linear-gradient(to top,transparent 0%,rgba(29,155,240,.02) 100%);border-radius:var(--radius-md)}.chart-bar[_ngcontent-%COMP%]{flex:1;max-width:40px;background-color:var(--tertiary-bg);border-radius:var(--radius-sm) var(--radius-sm) 0 0;position:relative;cursor:pointer;transition:var(--transition-normal)}.chart-bar[_ngcontent-%COMP%]:hover, .chart-bar[_ngcontent-%COMP%]:focus{transform:translateY(-4px) scale(1.05);outline:2px solid var(--accent-blue);outline-offset:2px}.chart-bar[_ngcontent-%COMP%]   .bar-fill[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;right:0;background:var(--gradient-primary);border-radius:var(--radius-sm) var(--radius-sm) 0 0;transition:all .3s ease;min-height:8px;box-shadow:0 4px 8px #1d9bf04d}.chart-bar[_ngcontent-%COMP%]   .bar-fill[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;left:0;right:0;height:2px;background:var(--accent-blue-light);border-radius:var(--radius-sm) var(--radius-sm) 0 0}.chart-labels[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:var(--spacing-md) var(--spacing-sm) 0}.chart-labels[_ngcontent-%COMP%]   .chart-label[_ngcontent-%COMP%]{font-size:12px;color:var(--secondary-text);font-weight:500;text-align:center;flex:1}.chart-tooltip[_ngcontent-%COMP%]{position:absolute;background-color:var(--tertiary-bg);border:1px solid var(--border-color);border-radius:var(--radius-md);padding:var(--spacing-sm) var(--spacing-md);font-size:12px;color:var(--primary-text);pointer-events:none;opacity:0;transform:translateY(4px);transition:var(--transition-fast);z-index:10;box-shadow:var(--shadow-lg)}.chart-tooltip.visible[_ngcontent-%COMP%]{opacity:1;transform:translateY(0)}.chart-tooltip[_ngcontent-%COMP%]   .tooltip-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px}.chart-tooltip[_ngcontent-%COMP%]   .tooltip-content[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:600;color:var(--accent-blue)}.chart-tooltip[_ngcontent-%COMP%]   .tooltip-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--secondary-text)}.tickets-section[_ngcontent-%COMP%]   .section-card[_ngcontent-%COMP%]{min-height:420px}.tickets-list[_ngcontent-%COMP%]{padding:var(--spacing-sm);max-height:340px;overflow-y:auto}.tickets-list[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.tickets-list[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:var(--tertiary-bg);border-radius:var(--radius-sm)}.tickets-list[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:var(--border-color);border-radius:var(--radius-sm)}.tickets-list[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:var(--secondary-text)}.ticket-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--spacing-md);padding:var(--spacing-md);border-radius:var(--radius-md);cursor:pointer;transition:var(--transition-normal);border:1px solid transparent;margin-bottom:var(--spacing-xs)}.ticket-item[_ngcontent-%COMP%]:hover, .ticket-item[_ngcontent-%COMP%]:focus{background-color:var(--hover-bg);border-color:var(--border-color);transform:translate(4px)}.ticket-item[_ngcontent-%COMP%]:focus{outline:2px solid var(--accent-blue);outline-offset:2px}.ticket-priority[_ngcontent-%COMP%]{width:4px;height:48px;border-radius:var(--radius-sm);flex-shrink:0}.ticket-priority.priority-alta[_ngcontent-%COMP%]{background:var(--gradient-error);box-shadow:0 2px 4px #f4212e4d}.ticket-priority.priority-m\\e9 dia[_ngcontent-%COMP%]{background:var(--gradient-warning);box-shadow:0 2px 4px #ffd4004d}.ticket-priority.priority-baixa[_ngcontent-%COMP%]{background:var(--gradient-success);box-shadow:0 2px 4px #00ba7c4d}.ticket-content[_ngcontent-%COMP%]{flex:1;min-width:0}.ticket-content[_ngcontent-%COMP%]   .ticket-title[_ngcontent-%COMP%]{font-size:16px;font-weight:500;color:var(--primary-text);margin:0 0 var(--spacing-xs) 0;line-height:1.4;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ticket-content[_ngcontent-%COMP%]   .ticket-meta[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--spacing-sm);font-size:12px;color:var(--secondary-text)}.ticket-content[_ngcontent-%COMP%]   .ticket-meta[_ngcontent-%COMP%]   .ticket-separator[_ngcontent-%COMP%]{opacity:.5}.ticket-status[_ngcontent-%COMP%]{flex-shrink:0}.priority-badge[_ngcontent-%COMP%]{padding:var(--spacing-xs) var(--spacing-sm);border-radius:var(--radius-sm);font-size:11px;font-weight:600;text-transform:uppercase;letter-spacing:.5px}.priority-badge.badge-alta[_ngcontent-%COMP%]{background-color:#f4212e1a;color:var(--error-color);border:1px solid rgba(244,33,46,.2)}.priority-badge.badge-m\\e9 dia[_ngcontent-%COMP%]{background-color:#ffd4001a;color:var(--warning-color);border:1px solid rgba(255,212,0,.2)}.priority-badge.badge-baixa[_ngcontent-%COMP%]{background-color:#00ba7c1a;color:var(--success-color);border:1px solid rgba(0,186,124,.2)}.ticket-actions[_ngcontent-%COMP%]{width:32px;height:32px;border:none;background-color:transparent;color:var(--secondary-text);border-radius:var(--radius-md);display:flex;align-items:center;justify-content:center;cursor:pointer;transition:var(--transition-normal);flex-shrink:0}.ticket-actions[_ngcontent-%COMP%]:hover, .ticket-actions[_ngcontent-%COMP%]:focus{background-color:var(--hover-bg);color:var(--primary-text);transform:scale(1.1)}.ticket-actions[_ngcontent-%COMP%]:focus{outline:2px solid var(--accent-blue);outline-offset:2px}.assets-section[_ngcontent-%COMP%]{grid-column:1/-1}.assets-table[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]{display:grid;grid-template-columns:2fr 1fr 1fr 1.5fr 80px;gap:var(--spacing-md);padding:var(--spacing-md) var(--spacing-lg);background:linear-gradient(135deg,var(--tertiary-bg) 0%,var(--secondary-bg) 100%);border-bottom:1px solid var(--border-color)}.assets-table[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   .header-cell[_ngcontent-%COMP%]{font-size:12px;font-weight:600;color:var(--secondary-text);text-transform:uppercase;letter-spacing:.5px}.assets-table[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:2fr 1fr 1fr 1.5fr 80px;gap:var(--spacing-md);padding:var(--spacing-md) var(--spacing-lg);border-bottom:1px solid var(--border-color);cursor:pointer;transition:var(--transition-normal)}.assets-table[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]:hover, .assets-table[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]:focus{background-color:var(--hover-bg);transform:translate(4px)}.assets-table[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]:focus{outline:2px solid var(--accent-blue);outline-offset:-2px}.assets-table[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]:last-child{border-bottom:none}.assets-table[_ngcontent-%COMP%]   .table-cell[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:14px;color:var(--primary-text)}.assets-table[_ngcontent-%COMP%]   .table-cell[_ngcontent-%COMP%]:last-child{justify-content:center}.asset-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--spacing-sm)}.asset-info[_ngcontent-%COMP%]   .asset-icon[_ngcontent-%COMP%]{width:32px;height:32px;border-radius:var(--radius-md);display:flex;align-items:center;justify-content:center;flex-shrink:0}.asset-info[_ngcontent-%COMP%]   .asset-icon.icon-servidor[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea1a,#667eea33);color:#667eea;border:1px solid rgba(102,126,234,.2)}.asset-info[_ngcontent-%COMP%]   .asset-icon.icon-banco[_ngcontent-%COMP%]{background:linear-gradient(135deg,#4caf501a,#4caf5033);color:#4caf50;border:1px solid rgba(76,175,80,.2)}.asset-info[_ngcontent-%COMP%]   .asset-icon.icon-rede[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ff98001a,#ff980033);color:#ff9800;border:1px solid rgba(255,152,0,.2)}.asset-info[_ngcontent-%COMP%]   .asset-name[_ngcontent-%COMP%]{font-weight:500;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.status-badge[_ngcontent-%COMP%]{padding:var(--spacing-xs) var(--spacing-sm);border-radius:var(--radius-sm);font-size:11px;font-weight:600;text-transform:uppercase;letter-spacing:.5px}.status-badge.status-ativo[_ngcontent-%COMP%]{background-color:#00ba7c1a;color:var(--success-color);border:1px solid rgba(0,186,124,.2)}.status-badge.status-inativo[_ngcontent-%COMP%]{background-color:#f4212e1a;color:var(--error-color);border:1px solid rgba(244,33,46,.2)}.status-badge.status-manuten\\e7\\e3o[_ngcontent-%COMP%]{background-color:#ffd4001a;color:var(--warning-color);border:1px solid rgba(255,212,0,.2)}@media (max-width: 1024px){.assets-table[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%], .assets-table[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:var(--spacing-sm)}.assets-table[_ngcontent-%COMP%]   .table-cell[_ngcontent-%COMP%]{padding:var(--spacing-xs) 0}.assets-table[_ngcontent-%COMP%]   .table-cell[_ngcontent-%COMP%]:first-child{font-weight:600;border-bottom:1px solid var(--border-color);padding-bottom:var(--spacing-sm);margin-bottom:var(--spacing-xs)}.assets-table[_ngcontent-%COMP%]   .table-cell[_ngcontent-%COMP%]:last-child{justify-content:flex-start;margin-top:var(--spacing-sm)}}@media (max-width: 768px){.chart-bars[_ngcontent-%COMP%]{gap:var(--spacing-xs);padding:0 var(--spacing-xs)}.chart-bar[_ngcontent-%COMP%]{max-width:32px}.ticket-item[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:var(--spacing-sm)}.ticket-item[_ngcontent-%COMP%]   .ticket-priority[_ngcontent-%COMP%]{width:100%;height:3px}.ticket-item[_ngcontent-%COMP%]   .ticket-content[_ngcontent-%COMP%]{width:100%}.ticket-item[_ngcontent-%COMP%]   .ticket-status[_ngcontent-%COMP%], .ticket-item[_ngcontent-%COMP%]   .ticket-actions[_ngcontent-%COMP%]{align-self:flex-end}.metric-card[_ngcontent-%COMP%]{flex-direction:column;text-align:center;gap:var(--spacing-md)}.metric-card[_ngcontent-%COMP%]   .metric-content[_ngcontent-%COMP%]   .metric-value[_ngcontent-%COMP%]{font-size:28px}}@media (prefers-contrast: high){.metric-card[_ngcontent-%COMP%], .section-card[_ngcontent-%COMP%]{border-width:2px}.chart-bar[_ngcontent-%COMP%]:focus, .ticket-item[_ngcontent-%COMP%]:focus, .table-row[_ngcontent-%COMP%]:focus{outline-width:3px}.priority-badge[_ngcontent-%COMP%], .status-badge[_ngcontent-%COMP%]{border-width:2px}}@media (prefers-reduced-motion: reduce){.user-status[_ngcontent-%COMP%]   .status-indicator.online[_ngcontent-%COMP%]{animation:none}.metric-card[_ngcontent-%COMP%], .chart-bar[_ngcontent-%COMP%], .ticket-item[_ngcontent-%COMP%], .table-row[_ngcontent-%COMP%]{transform:none!important}}@media (prefers-color-scheme: dark){.chart-tooltip[_ngcontent-%COMP%], .section-card[_ngcontent-%COMP%]{backdrop-filter:blur(8px)}}.loading-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:rgba(var(--primary-bg-rgb),.8);display:flex;flex-direction:column;align-items:center;justify-content:center;z-index:9999;backdrop-filter:blur(5px)}.spinner[_ngcontent-%COMP%]{border:4px solid rgba(var(--accent-blue-rgb),.2);border-top:4px solid var(--accent-blue);border-radius:50%;width:50px;height:50px;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin-bottom:var(--spacing-md)}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.loading-text[_ngcontent-%COMP%]{color:var(--primary-text);font-size:18px;font-weight:500}.no-data-message[_ngcontent-%COMP%]{padding:var(--spacing-lg);text-align:center;color:var(--secondary-text);font-style:italic}.no-data-message-chart[_ngcontent-%COMP%]{padding:var(--spacing-lg);text-align:center;color:var(--secondary-text);font-style:italic;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:100%}.chart-bar[_ngcontent-%COMP%]   .bar-fill.bar-blue[_ngcontent-%COMP%]{background:var(--accent-blue);box-shadow:0 4px 8px #1d9bf04d}.chart-bar[_ngcontent-%COMP%]   .bar-fill.bar-blue[_ngcontent-%COMP%]:after{background:var(--accent-blue-light)}.chart-bar[_ngcontent-%COMP%]   .bar-fill.bar-orange[_ngcontent-%COMP%]{background:var(--warning-color);box-shadow:0 4px 8px #ff98004d}.chart-bar[_ngcontent-%COMP%]   .bar-fill.bar-orange[_ngcontent-%COMP%]:after{background:#ff980080}.chart-bar[_ngcontent-%COMP%]   .bar-fill.bar-red[_ngcontent-%COMP%]{background:var(--error-color);box-shadow:0 4px 8px #f4212e4d}.chart-bar[_ngcontent-%COMP%]   .bar-fill.bar-red[_ngcontent-%COMP%]:after{background:#f4212e80}.chart-bar[_ngcontent-%COMP%]   .bar-fill.bar-default[_ngcontent-%COMP%]{background:var(--secondary-text);box-shadow:0 4px 8px rgba(var(--secondary-text-rgb),.1)}.chart-bar[_ngcontent-%COMP%]   .bar-fill.bar-default[_ngcontent-%COMP%]:after{background:rgba(var(--secondary-text-rgb),.2)}']})};var kl=function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n}(kl||{});function II(n,e){return{type:kl.Trigger,name:n,definitions:e,options:{}}}function I_(n,e=null){return{type:kl.Animate,styles:e,timings:n}}function _h(n){return{type:kl.Style,styles:n,offset:null}}function S_(n,e,t=null){return{type:kl.Transition,expr:n,animation:e,options:t}}var Rl=class n{firestore=F(Jr);assetsCollection=Ir(this.firestore,"ativos");chamadosCollection=Ir(this.firestore,"chamados");constructor(){}convertTimestampsToDates(e){if(!e)return e;let t=z({},e);return t.createdAt instanceof ze&&(t.createdAt=t.createdAt.toDate()),t.updatedAt instanceof ze&&(t.updatedAt=t.updatedAt.toDate()),t.lastMaintenance instanceof ze&&(t.lastMaintenance=t.lastMaintenance.toDate()),t.dueDate instanceof ze&&(t.dueDate=t.dueDate.toDate()),t.resolvedAt instanceof ze&&(t.resolvedAt=t.resolvedAt.toDate()),t.maintenanceHistory&&Array.isArray(t.maintenanceHistory)&&(t.maintenanceHistory=t.maintenanceHistory.map(r=>ue(z({},r),{date:r.date instanceof ze?r.date.toDate():r.date}))),t}convertDatesToTimestamps(e){if(!e)return e;let t=z({},e);return t.createdAt instanceof Date&&(t.createdAt=ze.fromDate(t.createdAt)),t.updatedAt instanceof Date&&(t.updatedAt=ze.fromDate(t.updatedAt)),t.lastMaintenance instanceof Date&&(t.lastMaintenance=ze.fromDate(t.lastMaintenance)),t.dueDate instanceof Date&&(t.dueDate=ze.fromDate(t.dueDate)),t.resolvedAt instanceof Date&&(t.resolvedAt=ze.fromDate(t.resolvedAt)),t.maintenanceHistory&&Array.isArray(t.maintenanceHistory)&&(t.maintenanceHistory=t.maintenanceHistory.map(r=>ue(z({},r),{date:r.date instanceof Date?ze.fromDate(r.date):r.date}))),t}getAssets(){return Xr(this.assetsCollection,{idField:"id"}).pipe(le(e=>e.map(t=>this.convertTimestampsToDates(t))))}addAsset(e){let t=new Date,r=ue(z({},e),{createdAt:t,updatedAt:t,lastMaintenance:e.lastMaintenance||null,maintenanceHistory:e.maintenanceHistory||[]});return CI(this.assetsCollection,this.convertDatesToTimestamps(r))}updateAsset(e){if(!e.id)return Promise.reject(new Error("O ID do ativo \xE9 necess\xE1rio para atualiza\xE7\xE3o."));let t=Na(this.firestore,`ativos/${e.id}`),r=ue(z({},e),{updatedAt:new Date});return nV(t,this.convertDatesToTimestamps(r))}deleteAsset(e){let t=Na(this.firestore,`ativos/${e}`);return XF(t)}getRecentAssets(e=3){let t=Fa(this.assetsCollection,Pl("createdAt","desc"),mh(e));return Xr(t,{idField:"id"}).pipe(le(r=>r.map(i=>this.convertTimestampsToDates(i))))}getTotalAssetsCount(){return this.getAssets().pipe(le(e=>e.length))}getChamados(){return Xr(this.chamadosCollection,{idField:"id"}).pipe(le(e=>e.map(t=>this.convertTimestampsToDates(t))))}addChamado(e){let t=new Date,r=ue(z({},e),{createdAt:t});return CI(this.chamadosCollection,this.convertDatesToTimestamps(r))}static \u0275fac=function(t){return new(t||n)};static \u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})};function UQ(n,e){if(n&1){let t=Ge();h(0,"button",53),H("click",function(){U(t);let i=j();return B(i.clearSearch())}),$(),h(1,"svg",54),V(2,"path",55),g()()}}function BQ(n,e){if(n&1){let t=Ge();h(0,"div",56)(1,"div",57)(2,"div",58)(3,"label",59),w(4,"Status"),g(),h(5,"select",60),we("ngModelChange",function(i){U(t);let o=j();return Ee(o.selectedStatus,i)||(o.selectedStatus=i),B(i)}),H("change",function(){U(t);let i=j();return B(i.onFiltersChange())}),h(6,"option",61),w(7,"Todos"),g(),h(8,"option",62),w(9,"Ativo"),g(),h(10,"option",63),w(11,"Inativo"),g(),h(12,"option",64),w(13,"Manuten\xE7\xE3o"),g(),h(14,"option",65),w(15,"Aposentado"),g()()(),h(16,"div",58)(17,"label",66),w(18,"Localiza\xE7\xE3o"),g(),h(19,"select",67),we("ngModelChange",function(i){U(t);let o=j();return Ee(o.selectedLocation,i)||(o.selectedLocation=i),B(i)}),H("change",function(){U(t);let i=j();return B(i.onFiltersChange())}),h(20,"option",61),w(21,"Todas"),g(),h(22,"option",68),w(23,"TI"),g(),h(24,"option",69),w(25,"RH"),g(),h(26,"option",70),w(27,"Financeiro"),g(),h(28,"option",71),w(29,"Opera\xE7\xF5es"),g(),h(30,"option",72),w(31,"Almoxarifado"),g()()(),h(32,"div",58)(33,"label",73),w(34,"Respons\xE1vel"),g(),h(35,"select",74),we("ngModelChange",function(i){U(t);let o=j();return Ee(o.selectedResponsible,i)||(o.selectedResponsible=i),B(i)}),H("change",function(){U(t);let i=j();return B(i.onFiltersChange())}),h(36,"option",61),w(37,"Todos"),g(),h(38,"option",75),w(39,"Ana Silva"),g(),h(40,"option",76),w(41,"Jo\xE3o Carlos"),g(),h(42,"option",77),w(43,"Maria Santos"),g(),h(44,"option",78),w(45,"Pedro Oliveira"),g()()()()()}if(n&2){let t=j();W("@slideDown",void 0),C(5),ye("ngModel",t.selectedStatus),C(14),ye("ngModel",t.selectedLocation),C(16),ye("ngModel",t.selectedResponsible)}}function jQ(n,e){if(n&1&&(h(0,"div",98)(1,"div",99)(2,"span",100),w(3,"Tipo:"),g(),h(4,"span",101),w(5),g()(),h(6,"div",99)(7,"span",100),w(8,"Localiza\xE7\xE3o:"),g(),h(9,"span",101),w(10),g()(),h(11,"div",99)(12,"span",100),w(13,"Respons\xE1vel:"),g(),h(14,"span",101),w(15),g()(),h(16,"div",99)(17,"span",100),w(18,"\xDAltima Manuten\xE7\xE3o:"),g(),h(19,"span",101),w(20),jr(21,"date"),g()()()),n&2){let t=j().$implicit;C(5),ce(t.type),C(5),ce(t.location),C(5),ce(t.responsible),C(5),ce(no(21,4,t.lastMaintenance,"dd/MM/yyyy"))}}function HQ(n,e){if(n&1&&(h(0,"p",102),w(1),g()),n&2){let t=j().$implicit;C(),Be(" ",t.description," ")}}function $Q(n,e){if(n&1){let t=Ge();h(0,"article",81),H("click",function(){let i=U(t).$implicit,o=j(2);return B(o.selectAsset(i))})("keydown.enter",function(){let i=U(t).$implicit,o=j(2);return B(o.selectAsset(i))})("keydown.space",function(){let i=U(t).$implicit,o=j(2);return B(o.selectAsset(i))}),h(1,"div",82),$(),h(2,"svg",83),V(3,"path"),g()(),Y(),h(4,"div",84)(5,"div",85)(6,"h3",86),w(7),g(),h(8,"span",87),w(9),g()(),oe(10,jQ,22,7,"div",88)(11,HQ,2,1,"p",89),g(),h(12,"div",90)(13,"div",91)(14,"span",92),V(15,"span",93),w(16),g()(),h(17,"div",94)(18,"button",95),H("click",function(i){let o=U(t).$implicit,s=j(2);return i.stopPropagation(),B(s.editAsset(o))}),$(),h(19,"svg",54),V(20,"path",96),g()(),Y(),h(21,"button",95),H("click",function(i){let o=U(t).$implicit,s=j(2);return i.stopPropagation(),B(s.openAssetMenu(o))}),$(),h(22,"svg",54),V(23,"path",97),g()()()()()}if(n&2){let t=e.$implicit,r=j(2);_e("selected",(r.selectedAsset==null?null:r.selectedAsset.id)===t.id),ae("aria-label",r.getAssetAriaLabel(t)),C(),ut("icon-"+t.category),C(2),ae("d",r.getAssetIcon(t.category)),C(4),ce(t.name),C(2),Be("#",t.patrimony,""),C(),W("ngIf",r.viewMode==="list"),C(),W("ngIf",r.viewMode==="grid"),C(3),ut("status-"+t.status.toLowerCase()),ae("aria-label","Status: "+t.status),C(2),Be(" ",t.status," "),C(2),ae("aria-label","Editar ativo "+t.name),C(3),ae("aria-label","Mais op\xE7\xF5es para ativo "+t.name)}}function zQ(n,e){if(n&1&&(h(0,"div",79),oe(1,$Q,24,16,"article",80),g()),n&2){let t=j();C(),W("ngForOf",t.filteredAssets)("ngForTrackBy",t.trackAsset)}}function qQ(n,e){if(n&1){let t=Ge();h(0,"div",103)(1,"div",104),$(),h(2,"svg",105),V(3,"path",106),g()(),Y(),h(4,"h3",107),w(5,"Nenhum ativo encontrado"),g(),h(6,"p",108),w(7," N\xE3o h\xE1 ativos que correspondam aos filtros aplicados. Tente ajustar os par\xE2metros de busca. "),g(),h(8,"button",109),H("click",function(){U(t);let i=j();return B(i.clearAllFilters())}),w(9," Limpar Filtros "),g()()}}function GQ(n,e){if(n&1&&(h(0,"div",140)(1,"span",141),w(2),g(),h(3,"span",142),w(4),g()()),n&2){let t=e.$implicit;C(2),Be("",t.label,":"),C(2),ce(t.value)}}function WQ(n,e){if(n&1&&(h(0,"div",137)(1,"h3",115),w(2,"Especifica\xE7\xF5es T\xE9cnicas"),g(),h(3,"div",138),oe(4,GQ,5,2,"div",139),g()()),n&2){let t=j(2);C(4),W("ngForOf",t.getSpecifications(t.selectedAsset.specifications))}}function KQ(n,e){if(n&1&&(h(0,"div",145)(1,"div",146),w(2),jr(3,"date"),g(),h(4,"div",147)(5,"h4",148),w(6),g(),h(7,"p",149),w(8),g(),h(9,"span",150),w(10),g()()()),n&2){let t=e.$implicit;C(2),Be(" ",no(3,4,t.date,"dd/MM/yyyy")," "),C(4),ce(t.type),C(2),ce(t.description),C(2),Be("Por: ",t.technician,"")}}function YQ(n,e){if(n&1&&(h(0,"div",143),oe(1,KQ,11,7,"div",144),g()),n&2){let t=j(2);C(),W("ngForOf",t.selectedAsset==null?null:t.selectedAsset.maintenanceHistory)("ngForTrackBy",t.trackMaintenance)}}function QQ(n,e){n&1&&(h(0,"p",151),w(1,"Nenhuma manuten\xE7\xE3o registrada"),g())}function ZQ(n,e){if(n&1){let t=Ge();h(0,"aside",110)(1,"div",15)(2,"header",16)(3,"div",17)(4,"h2",111),w(5,"Detalhes do Ativo"),g(),h(6,"p",19),w(7),g()(),h(8,"div",8)(9,"button",112),H("click",function(){U(t);let i=j();return B(i.closeDetails())}),$(),h(10,"svg",10),V(11,"path",55),g()()()(),Y(),h(12,"div",113)(13,"div",114)(14,"h3",115),w(15,"Informa\xE7\xF5es B\xE1sicas"),g(),h(16,"div",116)(17,"div",117)(18,"span",118),w(19,"Patrim\xF4nio:"),g(),h(20,"span",119),w(21),g()(),h(22,"div",117)(23,"span",118),w(24,"Tipo:"),g(),h(25,"span",119),w(26),g()(),h(27,"div",117)(28,"span",118),w(29,"Categoria:"),g(),h(30,"span",119),w(31),g()(),h(32,"div",117)(33,"span",118),w(34,"Status:"),g(),h(35,"span",92),V(36,"span",93),w(37),g()(),h(38,"div",117)(39,"span",118),w(40,"Localiza\xE7\xE3o:"),g(),h(41,"span",119),w(42),g()(),h(43,"div",117)(44,"span",118),w(45,"Respons\xE1vel:"),g(),h(46,"span",119),w(47),g()()()(),oe(48,WQ,5,1,"div",120),h(49,"div",121)(50,"h3",115),w(51,"Hist\xF3rico de Manuten\xE7\xF5es"),g(),oe(52,YQ,2,2,"div",122)(53,QQ,2,0,"ng-template",null,1,hi),g(),h(55,"div",123)(56,"h3",115),w(57,"A\xE7\xF5es"),g(),h(58,"div",124)(59,"button",125),H("click",function(){U(t);let i=j();return B(i.assignAsset(i.selectedAsset))}),h(60,"div",126),$(),h(61,"svg",127),V(62,"path",128),g()(),Y(),h(63,"div",129)(64,"span",130),w(65,"Atribuir"),g(),h(66,"span",131),w(67,"Designar respons\xE1vel"),g()()(),h(68,"button",132),H("click",function(){U(t);let i=j();return B(i.scheduleMaintenance(i.selectedAsset))}),h(69,"div",126),$(),h(70,"svg",127),V(71,"path",133),g()(),Y(),h(72,"div",129)(73,"span",130),w(74,"Manuten\xE7\xE3o"),g(),h(75,"span",131),w(76,"Agendar servi\xE7o"),g()()(),h(77,"button",134),H("click",function(){U(t);let i=j();return B(i.changeStatus(i.selectedAsset))}),h(78,"div",126),$(),h(79,"svg",127),V(80,"path",135),g()(),Y(),h(81,"div",129)(82,"span",130),w(83,"Status"),g(),h(84,"span",131),w(85,"Alterar estado"),g()()(),h(86,"button",136),H("click",function(){U(t);let i=j();return B(i.generateReport(i.selectedAsset))}),h(87,"div",126),$(),h(88,"svg",127),V(89,"path",11),g()(),Y(),h(90,"div",129)(91,"span",130),w(92,"Relat\xF3rio"),g(),h(93,"span",131),w(94,"Gerar documento"),g()()()()()()()()}if(n&2){let t=Br(54),r=j();C(7),ce(r.selectedAsset.name),C(14),Be("#",r.selectedAsset.patrimony,""),C(5),ce(r.selectedAsset.type),C(5),ce(r.getCategoryLabel(r.selectedAsset.category)),C(4),ut("status-"+r.selectedAsset.status.toLowerCase()),C(2),Be(" ",r.selectedAsset.status," "),C(5),ce(r.selectedAsset.location),C(5),ce(r.selectedAsset.responsible),C(),W("ngIf",r.selectedAsset.specifications),C(4),W("ngIf",r.selectedAsset==null||r.selectedAsset.maintenanceHistory==null?null:r.selectedAsset.maintenanceHistory.length)("ngIfElse",t)}}function JQ(n,e){n&1&&(h(0,"aside",152)(1,"div",153)(2,"div",154),$(),h(3,"svg",155),V(4,"path",106),g()(),Y(),h(5,"h3",156),w(6,"Selecione um Ativo"),g(),h(7,"p",157),w(8," Escolha um ativo da lista para visualizar detalhes, hist\xF3rico e realizar a\xE7\xF5es. "),g()()())}function XQ(n,e){n&1&&($(),h(0,"svg",10),V(1,"path",162),g())}function eZ(n,e){n&1&&($(),h(0,"svg",10),V(1,"path",163),g())}function tZ(n,e){if(n&1){let t=Ge();h(0,"div",158)(1,"div",159),oe(2,XQ,2,0,"svg",160)(3,eZ,2,0,"svg",160),h(4,"span"),w(5),g()(),h(6,"button",161),H("click",function(){U(t);let i=j();return B(i.closeToast())}),$(),h(7,"svg",54),V(8,"path",55),g()()()}if(n&2){let t=j();ut("toast-"+t.toastType),C(2),W("ngIf",t.toastType==="success"),C(),W("ngIf",t.toastType==="error"),C(2),ce(t.toastMessage)}}var T_=class n{router=F(Ye);datePipe=F(Kt);firestoreService=F(Rl);destroy$=new Xe;viewMode="list";selectedAsset=null;showAdvancedFilters=!1;searchTerm="";selectedCategory="all";selectedStatus="all";selectedLocation="all";selectedResponsible="all";toastMessage="";toastType="info";toastTimeout;assets=[];filteredAssets=[];totalAssetsCount=0;ngOnInit(){this.loadAssets(),this.setupKeyboardShortcuts(),this.loadTotalAssetsCount()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.toastTimeout&&clearTimeout(this.toastTimeout)}importAssets(){this.announceAction("Abrindo importa\xE7\xE3o de ativos"),this.router.navigate(["/ativos/importar"])}createNewAsset(){this.announceAction("Abrindo formul\xE1rio de novo ativo"),this.router.navigate(["/ativos/novo"])}exportAssets(){this.announceAction("Exportando lista de ativos"),this.showToast("Funcionalidade de exporta\xE7\xE3o em desenvolvimento","info")}onSearchChange(){this.applyFilters()}clearSearch(){this.searchTerm="",this.applyFilters()}setCategory(e){this.selectedCategory=e,this.applyFilters(),this.announceAction(`Categoria alterada para ${this.getCategoryLabel(e)}`)}toggleAdvancedFilters(){this.showAdvancedFilters=!this.showAdvancedFilters,this.announceAction(`Filtros avan\xE7ados ${this.showAdvancedFilters?"abertos":"fechados"}`)}onFiltersChange(){this.applyFilters()}clearAllFilters(){this.searchTerm="",this.selectedCategory="all",this.selectedStatus="all",this.selectedLocation="all",this.selectedResponsible="all",this.applyFilters(),this.showToast("Filtros limpos","success")}applyFilters(){this.filteredAssets=this.assets.filter(e=>{let t=!this.searchTerm||e.name.toLowerCase().includes(this.searchTerm.toLowerCase())||e.serialNumber.toLowerCase().includes(this.searchTerm.toLowerCase())||e.patrimony&&e.patrimony.toLowerCase().includes(this.searchTerm.toLowerCase())||e.type.toLowerCase().includes(this.searchTerm.toLowerCase()),r=this.selectedCategory==="all"||e.category===this.selectedCategory,i=this.selectedStatus==="all"||e.status.toLowerCase()===this.selectedStatus.toLowerCase(),o=this.selectedLocation==="all"||e.location.toLowerCase()===this.selectedLocation.toLowerCase(),s=this.selectedResponsible==="all"||e.responsible.toLowerCase().replace(" ","-")===this.selectedResponsible.toLowerCase();return t&&r&&i&&o&&s}),this.announceAction(`${this.filteredAssets.length} ativos encontrados`)}setViewMode(e){this.viewMode=e,this.announceAction(`Modo de visualiza\xE7\xE3o alterado para ${e==="list"?"lista":"grade"}`)}selectAsset(e){this.selectedAsset=e,this.announceAction(`Ativo selecionado: ${e.name}`)}closeDetails(){this.selectedAsset=null,this.announceAction("Detalhes fechados")}editAsset(e){this.announceAction(`Editando ativo ${e.name}`),this.router.navigate(["/ativos",e.id,"editar"])}openAssetMenu(e){return I(this,null,function*(){if(this.announceAction(`Abrindo menu do ativo ${e.name}`),confirm(`Tem certeza que deseja deletar o ativo ${e.name}? Esta a\xE7\xE3o \xE9 irrevers\xEDvel.`))try{yield this.firestoreService.deleteAsset(e.id),this.showToast("Ativo deletado com sucesso!","success"),this.closeDetails()}catch(t){console.error("Erro ao deletar ativo:",t),this.showToast("Erro ao deletar ativo.","error")}})}assignAsset(e){return I(this,null,function*(){this.announceAction(`Atribuindo ativo ${e.name}`);let t=prompt(`Novo respons\xE1vel para ${e.name}:`);if(t){let r=ue(z({},e),{responsible:t});try{yield this.firestoreService.updateAsset(r),this.showToast("Respons\xE1vel atualizado com sucesso!","success"),this.selectedAsset=r}catch(i){console.error("Erro ao atribuir ativo:",i),this.showToast("Erro ao atribuir ativo.","error")}}})}scheduleMaintenance(e){this.announceAction(`Agendando manuten\xE7\xE3o para ${e.name}`),this.showToast("Funcionalidade de agendamento em desenvolvimento","info")}changeStatus(e){this.announceAction(`Alterando status do ativo ${e.name}`),this.showToast("Funcionalidade de altera\xE7\xE3o de status em desenvolvimento","info")}generateReport(e){this.announceAction(`Gerando relat\xF3rio do ativo ${e.name}`),this.showToast("Relat\xF3rio gerado com sucesso","success")}loadAssets(){this.firestoreService.getAssets().pipe(kr(this.destroy$)).subscribe({next:e=>{this.assets=e,this.applyFilters(),this.announceAction(`${this.assets.length} ativos carregados do Firestore`)},error:e=>{console.error("Erro ao carregar ativos do Firestore:",e),this.showToast("Erro ao carregar ativos. Verifique o console.","error")}})}loadTotalAssetsCount(){this.firestoreService.getTotalAssetsCount().pipe(kr(this.destroy$)).subscribe({next:e=>{this.totalAssetsCount=e},error:e=>{console.error("Erro ao carregar contagem total de ativos:",e)}})}setupKeyboardShortcuts(){document.addEventListener("keydown",e=>{if(e.ctrlKey||e.metaKey)switch(e.key){case"n":e.preventDefault(),this.createNewAsset();break;case"f":e.preventDefault(),this.toggleAdvancedFilters();break;case"e":e.preventDefault(),this.exportAssets();break}})}getTotalCount(){return this.totalAssetsCount}getCategoryCount(e){return this.assets.filter(t=>t.category===e).length}getCategoryLabel(e){return{all:"Todos",computers:"Computadores",printers:"Impressoras",monitors:"Monitores",accessories:"Acess\xF3rios"}[e]||e}getAssetAriaLabel(e){return`${e.name}, Patrim\xF4nio ${e.patrimony}, Status: ${e.status}, Localiza\xE7\xE3o: ${e.location}`}getAssetIcon(e){let t={computers:"M4,6H20V16H4M20,18A2,2 0 0,0 22,16V6C22,4.89 21.1,4 20,4H4C2.89,4 2,4.89 2,6V16A2,2 0 0,0 4,18H0V20H24V18H20Z",printers:"M18,3H6V7H18M19,12A1,1 0 0,1 18,11A1,1 0 0,1 19,10A1,1 0 0,1 20,11A1,1 0 0,1 19,12M16,19H8V14H16M19,8H5A3,3 0 0,0 2,11V17H6V21H18V17H22V11A3,3 0 0,0 19,8Z",monitors:"M21,16H3V4H21M21,2H3C1.89,2 1,2.89 1,4V16A2,2 0 0,0 3,18H10V20H8V22H16V20H14V18H21A2,2 0 0,0 23,16V4C23,2.89 22.1,2 21,2Z",accessories:"M12,2A2,2 0 0,1 14,4C14,4.74 13.6,5.39 13,5.73V7H14A7,7 0 0,1 21,14H22A1,1 0 0,1 23,15V18A1,1 0 0,1 22,19H21V20A2,2 0 0,1 19,22H5A2,2 0 0,1 3,20V19H2A1,1 0 0,1 1,18V15A1,1 0 0,1 2,14H3A7,7 0 0,1 10,7H11V5.73C10.4,5.39 10,4.74 10,4A2,2 0 0,1 12,2M7.5,13A2.5,2.5 0 0,0 5,15.5A2.5,2.5 0 0,0 7.5,18A2.5,2.5 0 0,0 10,15.5A2.5,2.5 0 0,0 7.5,13M16.5,13A2.5,2.5 0 0,0 14,15.5A2.5,2.5 0 0,0 16.5,18A2.5,2.5 0 0,0 19,15.5A2.5,2.5 0 0,0 16.5,13Z"};return t[e]||t.computers}getSpecifications(e){return e?Object.entries(e).map(([t,r])=>({label:this.getSpecLabel(t),value:r.toString()})):[]}getSpecLabel(e){return{processor:"Processador",memory:"Mem\xF3ria",storage:"Armazenamento",graphics:"Placa de V\xEDdeo",screen:"Tela",type:"Tipo",speed:"Velocidade",resolution:"Resolu\xE7\xE3o",connectivity:"Conectividade",paper:"Papel",size:"Tamanho",panel:"Painel",refresh:"Taxa de Atualiza\xE7\xE3o",switches:"Switches",layout:"Layout",backlight:"Ilumina\xE7\xE3o",dpi:"DPI",battery:"Bateria",buttons:"Bot\xF5es",ports:"Portas"}[e]||e}trackAsset(e,t){return t.id||e.toString()}trackMaintenance(e,t){return t.id||e.toString()}showToast(e,t){this.toastMessage=e,this.toastType=t,this.toastTimeout&&clearTimeout(this.toastTimeout),this.toastTimeout=window.setTimeout(()=>{this.closeToast()},4e3)}closeToast(){this.toastMessage="",this.toastTimeout&&(clearTimeout(this.toastTimeout),this.toastTimeout=void 0)}announceAction(e){let t=document.getElementById("status-announcements");t&&(t.textContent=e,setTimeout(()=>{t.textContent=""},1e3))}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Tt({type:n,selectors:[["app-ativos"]],features:[zt([Kt])],decls:87,vars:30,consts:[["noAssets",""],["noMaintenance",""],["role","main",1,"ativos-wrapper"],[1,"ativos-header"],[1,"header-content"],[1,"page-info"],[1,"page-title"],[1,"page-subtitle"],[1,"header-actions"],["aria-label","Importar ativos","tabindex","0",1,"btn","btn-secondary",3,"click"],["width","20","height","20","viewBox","0 0 24 24","fill","currentColor"],["d","M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M18,20H6V4H13V9H18V20Z"],["aria-label","Cadastrar novo ativo","tabindex","0",1,"btn","btn-primary",3,"click"],["d","M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z"],["aria-labelledby","search-title",1,"search-section"],[1,"section-card"],[1,"card-header"],[1,"header-left"],["id","search-title",1,"card-title"],[1,"card-subtitle"],["aria-label","Filtros avan\xE7ados","tabindex","0",1,"action-button",3,"click"],["d","M14,12V19.88C14.04,20.18 13.94,20.5 13.71,20.71C13.32,21.1 12.69,21.1 12.3,20.71L10.29,18.7C10.06,18.47 9.96,18.16 10,17.87V12H9.97L4.21,4.62C3.87,4.19 3.95,3.56 4.38,3.22C4.57,3.08 4.78,3 5,3V3H19V3C19.22,3 19.43,3.08 19.62,3.22C20.05,3.56 20.13,4.19 19.79,4.62L14.03,12H14Z"],[1,"search-content"],[1,"search-bar"],[1,"search-input-wrapper"],["width","20","height","20","viewBox","0 0 24 24","fill","currentColor",1,"search-icon"],["d","M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z"],["type","text","placeholder","Buscar por nome, patrim\xF4nio ou tipo...","aria-label","Campo de busca de ativos",1,"search-input",3,"ngModelChange","input","ngModel"],["class","search-clear","aria-label","Limpar busca",3,"click",4,"ngIf"],[1,"quick-filters"],["aria-label","Todos os ativos",1,"filter-chip",3,"click"],[1,"chip-count"],["aria-label","Computadores",1,"filter-chip",3,"click"],["aria-label","Impressoras",1,"filter-chip",3,"click"],["aria-label","Monitores",1,"filter-chip",3,"click"],["aria-label","Acess\xF3rios",1,"filter-chip",3,"click"],["class","advanced-filters",4,"ngIf"],[1,"ativos-content"],["aria-labelledby","assets-list-title",1,"assets-section"],["id","assets-list-title",1,"card-title"],[1,"view-options"],["aria-label","Visualiza\xE7\xE3o em lista","tabindex","0",1,"view-toggle",3,"click"],["d","M3,5H21V7H3V5M3,11H21V13H3V11M3,17H21V19H3V17Z"],["aria-label","Visualiza\xE7\xE3o em grade","tabindex","0",1,"view-toggle",3,"click"],["d","M3,11H11V3H3M3,21H11V13H3M13,21H21V13H13M13,3V11H21V3"],["aria-label","Exportar lista","tabindex","0",1,"action-button",3,"click"],[1,"assets-container"],["class","assets-list",4,"ngIf","ngIfElse"],["class","details-section","aria-labelledby","details-title",4,"ngIf"],["class","details-placeholder","role","complementary",4,"ngIf"],["aria-live","polite","aria-atomic","true",1,"toast-container"],["class","toast","role","alert",3,"class",4,"ngIf"],["aria-live","polite","id","status-announcements",1,"sr-only"],["aria-label","Limpar busca",1,"search-clear",3,"click"],["width","16","height","16","viewBox","0 0 24 24","fill","currentColor"],["d","M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"],[1,"advanced-filters"],[1,"filters-grid"],[1,"filter-group"],["for","status-filter",1,"filter-label"],["id","status-filter",1,"filter-select",3,"ngModelChange","change","ngModel"],["value","all"],["value","active"],["value","inactive"],["value","maintenance"],["value","retired"],["for","location-filter",1,"filter-label"],["id","location-filter",1,"filter-select",3,"ngModelChange","change","ngModel"],["value","ti"],["value","rh"],["value","financeiro"],["value","operacoes"],["value","almoxarifado"],["for","responsible-filter",1,"filter-label"],["id","responsible-filter",1,"filter-select",3,"ngModelChange","change","ngModel"],["value","ana-silva"],["value","joao-carlos"],["value","maria-santos"],["value","pedro-oliveira"],[1,"assets-list"],["class","asset-card","tabindex","0","role","button",3,"selected","click","keydown.enter","keydown.space",4,"ngFor","ngForOf","ngForTrackBy"],["tabindex","0","role","button",1,"asset-card",3,"click","keydown.enter","keydown.space"],[1,"asset-icon"],["width","32","height","32","viewBox","0 0 24 24","fill","currentColor"],[1,"asset-content"],[1,"asset-header"],[1,"asset-name"],[1,"asset-patrimony"],["class","asset-details",4,"ngIf"],["class","asset-description",4,"ngIf"],[1,"asset-footer"],[1,"asset-status"],[1,"status-badge"],[1,"status-indicator"],[1,"asset-actions"],[1,"action-btn",3,"click"],["d","M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z"],["d","M12,16A2,2 0 0,1 14,18A2,2 0 0,1 12,20A2,2 0 0,1 10,18A2,2 0 0,1 12,16M12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12A2,2 0 0,1 12,10M12,4A2,2 0 0,1 14,6A2,2 0 0,1 12,8A2,2 0 0,1 10,6A2,2 0 0,1 12,4Z"],[1,"asset-details"],[1,"detail-row"],[1,"detail-label"],[1,"detail-value"],[1,"asset-description"],["role","status","aria-label","Nenhum ativo encontrado",1,"empty-state"],[1,"empty-icon"],["width","64","height","64","viewBox","0 0 24 24","fill","currentColor"],["d","M4,1H20A1,1 0 0,1 21,2V6A1,1 0 0,1 20,7H4A1,1 0 0,1 3,6V2A1,1 0 0,1 4,1M4,9H20A1,1 0 0,1 21,10V14A1,1 0 0,1 20,15H4A1,1 0 0,1 3,14V10A1,1 0 0,1 4,9M4,17H20A1,1 0 0,1 21,18V22A1,1 0 0,1 20,23H4A1,1 0 0,1 3,22V18A1,1 0 0,1 4,17Z"],[1,"empty-title"],[1,"empty-description"],[1,"btn","btn-primary",3,"click"],["aria-labelledby","details-title",1,"details-section"],["id","details-title",1,"card-title"],["aria-label","Fechar detalhes","tabindex","0",1,"action-button",3,"click"],[1,"details-content"],[1,"info-section"],[1,"section-title"],[1,"info-grid"],[1,"info-item"],[1,"info-label"],[1,"info-value"],["class","specs-section",4,"ngIf"],[1,"maintenance-section"],["class","maintenance-list",4,"ngIf","ngIfElse"],[1,"asset-actions-section"],[1,"actions-grid"],["aria-label","Atribuir ativo",1,"action-card",3,"click"],[1,"action-icon"],["width","24","height","24","viewBox","0 0 24 24","fill","currentColor"],["d","M12,4A4,4 0 0,1 16,8A4,4 0 0,1 12,12A4,4 0 0,1 8,8A4,4 0 0,1 12,4M12,14C16.42,14 20,15.79 20,18V20H4V18C4,15.79 7.58,14 12,14Z"],[1,"action-info"],[1,"action-title"],[1,"action-description"],["aria-label","Agendar manuten\xE7\xE3o",1,"action-card",3,"click"],["d","M19,19H5V8H19M16,1V3H8V1H6V3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3H18V1M17,12H12V17H17V12Z"],["aria-label","Alterar status",1,"action-card",3,"click"],["d","M17.65,6.35C16.2,4.9 14.21,4 12,4A8,8 0 0,0 4,12A8,8 0 0,0 12,20C15.73,20 18.84,17.45 19.73,14H17.65C16.83,16.33 14.61,18 12,18A6,6 0 0,1 6,12A6,6 0 0,1 12,6C13.66,6 15.14,6.69 16.22,7.78L13,11H20V4L17.65,6.35Z"],["aria-label","Gerar relat\xF3rio",1,"action-card",3,"click"],[1,"specs-section"],[1,"specs-grid"],["class","spec-item",4,"ngFor","ngForOf"],[1,"spec-item"],[1,"spec-label"],[1,"spec-value"],[1,"maintenance-list"],["class","maintenance-item",4,"ngFor","ngForOf","ngForTrackBy"],[1,"maintenance-item"],[1,"maintenance-date"],[1,"maintenance-content"],[1,"maintenance-title"],[1,"maintenance-description"],[1,"maintenance-technician"],[1,"no-maintenance"],["role","complementary",1,"details-placeholder"],[1,"placeholder-content"],[1,"placeholder-icon"],["width","80","height","80","viewBox","0 0 24 24","fill","currentColor"],[1,"placeholder-title"],[1,"placeholder-description"],["role","alert",1,"toast"],[1,"toast-content"],["width","20","height","20","viewBox","0 0 24 24","fill","currentColor",4,"ngIf"],["aria-label","Fechar notifica\xE7\xE3o",1,"toast-close",3,"click"],["d","M12,2A10,10 0 0,1 22,12A10,10 0 0,1 12,22A10,10 0 0,1 2,12A10,10 0 0,1 12,2M11,16.5L18,9.5L16.59,8.09L11,13.67L7.91,10.59L6.5,12L11,16.5Z"],["d","M12,2A10,10 0 0,1 22,12A10,10 0 0,1 12,22A10,10 0 0,1 2,12A10,10 0 0,1 12,2M12,7A5,5 0 0,0 7,12A5,5 0 0,0 12,17A5,5 0 0,0 17,12A5,5 0 0,0 12,7M12,9A3,3 0 0,1 15,12A3,3 0 0,1 12,15A3,3 0 0,1 9,12A3,3 0 0,1 12,9Z"]],template:function(t,r){if(t&1){let i=Ge();h(0,"div",2)(1,"header",3)(2,"div",4)(3,"div",5)(4,"h1",6),w(5,"Ativos"),g(),h(6,"p",7),w(7,"Gerenciamento de patrim\xF4nio e equipamentos"),g()(),h(8,"div",8)(9,"button",9),H("click",function(){return U(i),B(r.importAssets())}),$(),h(10,"svg",10),V(11,"path",11),g(),w(12," Importar "),g(),Y(),h(13,"button",12),H("click",function(){return U(i),B(r.createNewAsset())}),$(),h(14,"svg",10),V(15,"path",13),g(),w(16," Novo Ativo "),g()()()(),Y(),h(17,"section",14)(18,"div",15)(19,"header",16)(20,"div",17)(21,"h2",18),w(22,"Busca e Filtros"),g(),h(23,"p",19),w(24,"Encontre ativos espec\xEDficos"),g()(),h(25,"div",8)(26,"button",20),H("click",function(){return U(i),B(r.toggleAdvancedFilters())}),$(),h(27,"svg",10),V(28,"path",21),g()()()(),Y(),h(29,"div",22)(30,"div",23)(31,"div",24),$(),h(32,"svg",25),V(33,"path",26),g(),Y(),h(34,"input",27),we("ngModelChange",function(s){return U(i),Ee(r.searchTerm,s)||(r.searchTerm=s),B(s)}),H("input",function(){return U(i),B(r.onSearchChange())}),g(),oe(35,UQ,3,0,"button",28),g()(),h(36,"div",29)(37,"button",30),H("click",function(){return U(i),B(r.setCategory("all"))}),w(38," Todos "),h(39,"span",31),w(40),g()(),h(41,"button",32),H("click",function(){return U(i),B(r.setCategory("computers"))}),w(42," Computadores "),h(43,"span",31),w(44),g()(),h(45,"button",33),H("click",function(){return U(i),B(r.setCategory("printers"))}),w(46," Impressoras "),h(47,"span",31),w(48),g()(),h(49,"button",34),H("click",function(){return U(i),B(r.setCategory("monitors"))}),w(50," Monitores "),h(51,"span",31),w(52),g()(),h(53,"button",35),H("click",function(){return U(i),B(r.setCategory("accessories"))}),w(54," Acess\xF3rios "),h(55,"span",31),w(56),g()()(),oe(57,BQ,46,4,"div",36),g()()(),h(58,"div",37)(59,"section",38)(60,"div",15)(61,"header",16)(62,"div",17)(63,"h2",39),w(64,"Lista de Ativos"),g(),h(65,"p",19),w(66),g()(),h(67,"div",8)(68,"div",40)(69,"button",41),H("click",function(){return U(i),B(r.setViewMode("list"))}),$(),h(70,"svg",10),V(71,"path",42),g()(),Y(),h(72,"button",43),H("click",function(){return U(i),B(r.setViewMode("grid"))}),$(),h(73,"svg",10),V(74,"path",44),g()()(),Y(),h(75,"button",45),H("click",function(){return U(i),B(r.exportAssets())}),$(),h(76,"svg",10),V(77,"path",11),g()()()(),Y(),h(78,"div",46),oe(79,zQ,2,2,"div",47)(80,qQ,10,0,"ng-template",null,0,hi),g()()(),oe(82,ZQ,95,12,"aside",48)(83,JQ,9,0,"aside",49),g(),h(84,"div",50),oe(85,tZ,9,5,"div",51),g()(),V(86,"div",52)}if(t&2){let i=Br(81);C(34),ye("ngModel",r.searchTerm),C(),W("ngIf",r.searchTerm),C(2),_e("active",r.selectedCategory==="all"),C(3),ce(r.getTotalCount()),C(),_e("active",r.selectedCategory==="computers"),C(3),ce(r.getCategoryCount("computers")),C(),_e("active",r.selectedCategory==="printers"),C(3),ce(r.getCategoryCount("printers")),C(),_e("active",r.selectedCategory==="monitors"),C(3),ce(r.getCategoryCount("monitors")),C(),_e("active",r.selectedCategory==="accessories"),C(3),ce(r.getCategoryCount("accessories")),C(),W("ngIf",r.showAdvancedFilters),C(9),Be("",r.filteredAssets.length," ativos encontrados"),C(3),_e("active",r.viewMode==="list"),C(3),_e("active",r.viewMode==="grid"),C(6),ut("view-"+r.viewMode),C(),W("ngIf",r.filteredAssets.length>0)("ngIfElse",i),C(3),W("ngIf",r.selectedAsset),C(),W("ngIf",!r.selectedAsset),C(2),W("ngIf",r.toastMessage)}},dependencies:[Mt,hr,qt,Kt,mr,ts,ns,pr,bi,gr,Xn],styles:['@charset "UTF-8";[_ngcontent-%COMP%]:root{--primary-bg: #0F1419;--secondary-bg: #16202A;--tertiary-bg: #1E2732;--hover-bg: #253341;--primary-text: #F7F9FA;--secondary-text: #8B98A5;--white-text: #FFFFFF;--accent-blue: #1D9BF0;--accent-blue-light: #4AB3F4;--accent-blue-dark: #1A8CD8;--border-color: #2F3336;--border-light: #3E4347;--success-color: #00BA7C;--warning-color: #FFD400;--error-color: #F4212E;--info-color: #1D9BF0;--gradient-primary: linear-gradient(135deg, #1D9BF0, #4AB3F4);--gradient-success: linear-gradient(135deg, #00BA7C, #00D084);--gradient-warning: linear-gradient(135deg, #FFD400, #FFDC00);--gradient-error: linear-gradient(135deg, #F4212E, #FF4757);--shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, .05);--shadow-md: 0 4px 6px -1px rgba(0, 0, 0, .1), 0 2px 4px -1px rgba(0, 0, 0, .06);--shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, .1), 0 4px 6px -2px rgba(0, 0, 0, .05);--shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, .1), 0 10px 10px -5px rgba(0, 0, 0, .04);--transition-fast: all .15s ease;--transition-normal: all .3s cubic-bezier(.4, 0, .2, 1);--transition-slow: all .5s cubic-bezier(.4, 0, .2, 1);--radius-sm: 4px;--radius-md: 8px;--radius-lg: 12px;--radius-xl: 16px;--radius-full: 9999px;--spacing-xs: 4px;--spacing-sm: 8px;--spacing-md: 16px;--spacing-lg: 24px;--spacing-xl: 32px;--spacing-2xl: 48px}.ativos-wrapper[_ngcontent-%COMP%]{min-height:100vh;background-color:var(--primary-bg);padding:var(--spacing-lg);max-width:1600px;margin:0 auto}@media (max-width: 768px){.ativos-wrapper[_ngcontent-%COMP%]{padding:var(--spacing-md)}}.ativos-header[_ngcontent-%COMP%]{margin-bottom:var(--spacing-2xl)}.ativos-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;gap:var(--spacing-lg)}@media (max-width: 768px){.ativos-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch;gap:var(--spacing-md)}}.page-info[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{font-size:clamp(28px,4vw,36px);font-weight:700;color:var(--primary-text);margin:0 0 var(--spacing-sm) 0;line-height:1.2;background:var(--gradient-primary);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.page-info[_ngcontent-%COMP%]   .page-subtitle[_ngcontent-%COMP%]{font-size:16px;color:var(--secondary-text);margin:0;line-height:1.4}.header-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--spacing-sm)}@media (max-width: 768px){.header-actions[_ngcontent-%COMP%]{justify-content:stretch}.header-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{flex:1}}.search-section[_ngcontent-%COMP%]{margin-bottom:var(--spacing-2xl)}.search-content[_ngcontent-%COMP%]{padding:var(--spacing-lg)}.search-bar[_ngcontent-%COMP%]{margin-bottom:var(--spacing-lg)}.search-input-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.search-input-wrapper[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%]{position:absolute;left:var(--spacing-md);color:var(--secondary-text);pointer-events:none}.search-input[_ngcontent-%COMP%]{width:100%;padding:var(--spacing-md) var(--spacing-2xl) var(--spacing-md) 48px;background-color:var(--tertiary-bg);border:1px solid var(--border-color);border-radius:var(--radius-lg);color:var(--primary-text);font-size:16px;transition:var(--transition-normal)}.search-input[_ngcontent-%COMP%]::placeholder{color:var(--secondary-text)}.search-input[_ngcontent-%COMP%]:hover{border-color:var(--border-light)}.search-input[_ngcontent-%COMP%]:focus{outline:2px solid var(--accent-blue);outline-offset:2px;border-color:var(--accent-blue)}.search-clear[_ngcontent-%COMP%]{position:absolute;right:var(--spacing-md);width:24px;height:24px;border:none;background-color:transparent;color:var(--secondary-text);border-radius:var(--radius-sm);display:flex;align-items:center;justify-content:center;cursor:pointer;transition:var(--transition-fast)}.search-clear[_ngcontent-%COMP%]:hover{background-color:#c0392b;color:var(--primary-text)}.quick-filters[_ngcontent-%COMP%]{display:flex;gap:var(--spacing-sm);flex-wrap:wrap;margin-bottom:var(--spacing-lg)}.filter-chip[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--spacing-xs);padding:var(--spacing-sm) var(--spacing-md);background-color:var(--tertiary-bg);border:1px solid var(--border-color);border-radius:var(--radius-full);color:var(--secondary-text);font-size:14px;font-weight:500;cursor:pointer;transition:var(--transition-normal)}.filter-chip[_ngcontent-%COMP%]:hover{border-color:var(--border-light);color:var(--primary-text)}.filter-chip.active[_ngcontent-%COMP%]{background-color:var(--accent-blue);border-color:var(--accent-blue);color:var(--white-text)}.filter-chip[_ngcontent-%COMP%]:focus{outline:2px solid var(--accent-blue);outline-offset:2px}.chip-count[_ngcontent-%COMP%]{background-color:#fff3;padding:2px 6px;border-radius:var(--radius-sm);font-size:12px;font-weight:600}.filter-chip[_ngcontent-%COMP%]:not(.active)   .chip-count[_ngcontent-%COMP%]{background-color:var(--secondary-bg);color:var(--primary-text)}.advanced-filters[_ngcontent-%COMP%]{padding:var(--spacing-lg);background-color:var(--tertiary-bg);border:1px solid var(--border-color);border-radius:var(--radius-lg);overflow:hidden}.filters-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:var(--spacing-lg)}@media (max-width: 768px){.filters-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:var(--spacing-md)}}.filter-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--spacing-xs)}.filter-label[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:var(--primary-text)}.filter-select[_ngcontent-%COMP%]{padding:var(--spacing-sm) var(--spacing-md);background-color:var(--secondary-bg);border:1px solid var(--border-color);border-radius:var(--radius-md);color:var(--primary-text);font-size:14px;transition:var(--transition-normal)}.filter-select[_ngcontent-%COMP%]:hover{border-color:var(--border-light)}.filter-select[_ngcontent-%COMP%]:focus{outline:2px solid var(--accent-blue);outline-offset:2px;border-color:var(--accent-blue)}.filter-select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{background-color:var(--secondary-bg);color:var(--primary-text)}.ativos-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 400px;gap:var(--spacing-lg);align-items:start}@media (max-width: 1200px){.ativos-content[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:var(--spacing-lg)}}.assets-section[_ngcontent-%COMP%]   .section-card[_ngcontent-%COMP%]{min-height:600px}.view-options[_ngcontent-%COMP%]{display:flex;background-color:var(--tertiary-bg);border-radius:var(--radius-md);padding:2px;border:1px solid var(--border-color)}.view-toggle[_ngcontent-%COMP%]{width:36px;height:36px;border:none;background-color:transparent;color:var(--secondary-text);border-radius:var(--radius-sm);display:flex;align-items:center;justify-content:center;cursor:pointer;transition:var(--transition-normal)}.view-toggle[_ngcontent-%COMP%]:hover{color:var(--primary-text);background-color:var(--hover-bg)}.view-toggle.active[_ngcontent-%COMP%]{background-color:var(--accent-blue);color:var(--white-text);box-shadow:var(--shadow-sm)}.view-toggle[_ngcontent-%COMP%]:focus{outline:2px solid var(--accent-blue);outline-offset:2px}.assets-container[_ngcontent-%COMP%]{padding:var(--spacing-sm);max-height:520px;overflow-y:auto}.assets-container[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.assets-container[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:var(--tertiary-bg);border-radius:var(--radius-sm)}.assets-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:var(--border-color);border-radius:var(--radius-sm)}.assets-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:var(--secondary-text)}.assets-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--spacing-sm)}.view-grid[_ngcontent-%COMP%]   .assets-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:var(--spacing-md)}.asset-card[_ngcontent-%COMP%]{background-color:var(--secondary-bg);border:1px solid var(--border-color);border-radius:var(--radius-lg);padding:var(--spacing-md);cursor:pointer;transition:var(--transition-normal);display:flex;align-items:center;gap:var(--spacing-md)}.asset-card[_ngcontent-%COMP%]:hover, .asset-card[_ngcontent-%COMP%]:focus{border-color:var(--accent-blue);box-shadow:var(--shadow-md);transform:translateY(-2px)}.asset-card.selected[_ngcontent-%COMP%]{border-color:var(--accent-blue);box-shadow:var(--shadow-lg);background-color:var(--hover-bg)}.asset-card[_ngcontent-%COMP%]:focus{outline:2px solid var(--accent-blue);outline-offset:2px}.view-grid[_ngcontent-%COMP%]   .asset-card[_ngcontent-%COMP%]{flex-direction:column;text-align:center;min-height:200px}.asset-icon[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:var(--radius-lg);display:flex;align-items:center;justify-content:center;flex-shrink:0}.asset-icon.icon-computers[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:var(--white-text)}.asset-icon.icon-printers[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f093fb,#f5576c);color:var(--white-text)}.asset-icon.icon-monitors[_ngcontent-%COMP%]{background:linear-gradient(135deg,#4facfe,#00f2fe);color:var(--white-text)}.asset-icon.icon-accessories[_ngcontent-%COMP%]{background:linear-gradient(135deg,#43e97b,#38f9d7);color:var(--white-text)}.view-grid[_ngcontent-%COMP%]   .asset-icon[_ngcontent-%COMP%]{width:64px;height:64px;margin-bottom:var(--spacing-md)}.asset-content[_ngcontent-%COMP%]{flex:1;min-width:0}.view-grid[_ngcontent-%COMP%]   .asset-content[_ngcontent-%COMP%]{width:100%}.asset-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;gap:var(--spacing-sm);margin-bottom:var(--spacing-sm)}.view-grid[_ngcontent-%COMP%]   .asset-header[_ngcontent-%COMP%]{flex-direction:column;align-items:center;text-align:center}.asset-header[_ngcontent-%COMP%]   .asset-name[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:var(--primary-text);margin:0;line-height:1.4;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.view-grid[_ngcontent-%COMP%]   .asset-header[_ngcontent-%COMP%]   .asset-name[_ngcontent-%COMP%]{white-space:normal;-webkit-line-clamp:2;display:-webkit-box;-webkit-box-orient:vertical;line-clamp:2}.asset-header[_ngcontent-%COMP%]   .asset-patrimony[_ngcontent-%COMP%]{font-size:12px;color:var(--secondary-text);font-weight:500;background-color:var(--tertiary-bg);padding:2px 6px;border-radius:var(--radius-sm);white-space:nowrap}.asset-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--spacing-xs);margin-bottom:var(--spacing-sm)}.detail-row[_ngcontent-%COMP%]{display:flex;font-size:12px}.detail-row[_ngcontent-%COMP%]   .detail-label[_ngcontent-%COMP%]{color:var(--secondary-text);font-weight:500;min-width:100px}.detail-row[_ngcontent-%COMP%]   .detail-value[_ngcontent-%COMP%]{color:var(--primary-text);flex:1}.asset-description[_ngcontent-%COMP%]{font-size:14px;color:var(--secondary-text);line-height:1.5;margin-bottom:var(--spacing-md);overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;line-clamp:2}.asset-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:var(--spacing-sm);margin-top:auto}.view-grid[_ngcontent-%COMP%]   .asset-footer[_ngcontent-%COMP%]{width:100%}.asset-status[_ngcontent-%COMP%]{flex-shrink:0}.status-badge[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--spacing-xs);padding:var(--spacing-xs) var(--spacing-sm);border-radius:var(--radius-sm);font-size:10px;font-weight:600;text-transform:uppercase;letter-spacing:.5px}.status-badge[_ngcontent-%COMP%]   .status-indicator[_ngcontent-%COMP%]{width:8px;height:8px;border-radius:var(--radius-full)}.status-badge.status-ativo[_ngcontent-%COMP%]{background-color:#00ba7c1a;color:var(--success-color);border:1px solid rgba(0,186,124,.2)}.status-badge.status-ativo[_ngcontent-%COMP%]   .status-indicator[_ngcontent-%COMP%]{background-color:var(--success-color)}.status-badge.status-inativo[_ngcontent-%COMP%]{background-color:#f4212e1a;color:var(--error-color);border:1px solid rgba(244,33,46,.2)}.status-badge.status-inativo[_ngcontent-%COMP%]   .status-indicator[_ngcontent-%COMP%]{background-color:var(--error-color)}.status-badge.status-manuten\\e7\\e3o[_ngcontent-%COMP%]{background-color:#ffd4001a;color:var(--warning-color);border:1px solid rgba(255,212,0,.2)}.status-badge.status-manuten\\e7\\e3o[_ngcontent-%COMP%]   .status-indicator[_ngcontent-%COMP%]{background-color:var(--warning-color)}.status-badge.status-aposentado[_ngcontent-%COMP%]{background-color:#8b98a51a;color:var(--secondary-text);border:1px solid rgba(139,152,165,.2)}.status-badge.status-aposentado[_ngcontent-%COMP%]   .status-indicator[_ngcontent-%COMP%]{background-color:var(--secondary-text)}.asset-actions[_ngcontent-%COMP%]{display:flex;gap:var(--spacing-xs)}.action-btn[_ngcontent-%COMP%]{width:32px;height:32px;border:none;background-color:transparent;color:var(--secondary-text);border-radius:var(--radius-md);display:flex;align-items:center;justify-content:center;cursor:pointer;transition:var(--transition-normal)}.action-btn[_ngcontent-%COMP%]:hover, .action-btn[_ngcontent-%COMP%]:focus{background-color:var(--hover-bg);color:var(--primary-text);transform:scale(1.1)}.action-btn[_ngcontent-%COMP%]:focus{outline:2px solid var(--accent-blue);outline-offset:2px}.empty-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:var(--spacing-2xl);text-align:center;min-height:400px}.empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{color:var(--secondary-text);margin-bottom:var(--spacing-lg);opacity:.5}.empty-state[_ngcontent-%COMP%]   .empty-title[_ngcontent-%COMP%]{font-size:20px;font-weight:600;color:var(--primary-text);margin:0 0 var(--spacing-sm) 0}.empty-state[_ngcontent-%COMP%]   .empty-description[_ngcontent-%COMP%]{font-size:14px;color:var(--secondary-text);margin:0 0 var(--spacing-lg) 0;max-width:400px;line-height:1.5}.details-section[_ngcontent-%COMP%]   .section-card[_ngcontent-%COMP%]{position:sticky;top:var(--spacing-lg);max-height:calc(100vh - var(--spacing-2xl));overflow-y:auto}.details-section[_ngcontent-%COMP%]   .section-card[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.details-section[_ngcontent-%COMP%]   .section-card[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:var(--tertiary-bg);border-radius:var(--radius-sm)}.details-section[_ngcontent-%COMP%]   .section-card[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:var(--border-color);border-radius:var(--radius-sm)}.details-section[_ngcontent-%COMP%]   .section-card[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:var(--secondary-text)}.details-content[_ngcontent-%COMP%]{padding:var(--spacing-lg)}.section-title[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:var(--primary-text);margin:0 0 var(--spacing-md) 0;padding-bottom:var(--spacing-sm);border-bottom:1px solid var(--border-color)}.info-section[_ngcontent-%COMP%], .specs-section[_ngcontent-%COMP%], .maintenance-section[_ngcontent-%COMP%], .asset-actions-section[_ngcontent-%COMP%]{margin-bottom:var(--spacing-2xl)}.info-section[_ngcontent-%COMP%]:last-child, .specs-section[_ngcontent-%COMP%]:last-child, .maintenance-section[_ngcontent-%COMP%]:last-child, .asset-actions-section[_ngcontent-%COMP%]:last-child{margin-bottom:0}.info-grid[_ngcontent-%COMP%], .specs-grid[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--spacing-sm)}.info-item[_ngcontent-%COMP%], .spec-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--spacing-xs);padding:var(--spacing-sm);background-color:var(--tertiary-bg);border-radius:var(--radius-md);border:1px solid var(--border-color)}.info-label[_ngcontent-%COMP%], .spec-label[_ngcontent-%COMP%]{font-size:12px;color:var(--secondary-text);font-weight:500;text-transform:uppercase;letter-spacing:.5px}.info-value[_ngcontent-%COMP%], .spec-value[_ngcontent-%COMP%]{font-size:14px;color:var(--primary-text);font-weight:500}.maintenance-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--spacing-md)}.maintenance-item[_ngcontent-%COMP%]{display:flex;gap:var(--spacing-md);padding:var(--spacing-md);background-color:var(--tertiary-bg);border-radius:var(--radius-lg);border:1px solid var(--border-color)}.maintenance-date[_ngcontent-%COMP%]{font-size:12px;color:var(--secondary-text);font-weight:600;min-width:80px;text-align:center;padding:var(--spacing-xs);background-color:var(--secondary-bg);border-radius:var(--radius-sm);height:fit-content}.maintenance-content[_ngcontent-%COMP%]{flex:1}.maintenance-content[_ngcontent-%COMP%]   .maintenance-title[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:var(--primary-text);margin:0 0 var(--spacing-xs) 0}.maintenance-content[_ngcontent-%COMP%]   .maintenance-description[_ngcontent-%COMP%]{font-size:13px;color:var(--secondary-text);line-height:1.4;margin:0 0 var(--spacing-xs) 0}.maintenance-content[_ngcontent-%COMP%]   .maintenance-technician[_ngcontent-%COMP%]{font-size:12px;color:var(--accent-blue);font-weight:500}.no-maintenance[_ngcontent-%COMP%]{font-size:14px;color:var(--secondary-text);text-align:center;padding:var(--spacing-lg);font-style:italic}.actions-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(120px,1fr));gap:var(--spacing-sm)}.action-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:var(--spacing-sm);padding:var(--spacing-md);background-color:var(--tertiary-bg);border:1px solid var(--border-color);border-radius:var(--radius-lg);cursor:pointer;transition:var(--transition-normal);text-align:center}.action-card[_ngcontent-%COMP%]:hover, .action-card[_ngcontent-%COMP%]:focus{border-color:var(--accent-blue);box-shadow:var(--shadow-md);transform:translateY(-2px)}.action-card[_ngcontent-%COMP%]:focus{outline:2px solid var(--accent-blue);outline-offset:2px}.action-icon[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:var(--radius-lg);background:var(--gradient-primary);color:var(--white-text);display:flex;align-items:center;justify-content:center}.action-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px}.action-info[_ngcontent-%COMP%]   .action-title[_ngcontent-%COMP%]{font-size:12px;font-weight:600;color:var(--primary-text)}.action-info[_ngcontent-%COMP%]   .action-description[_ngcontent-%COMP%]{font-size:10px;color:var(--secondary-text)}.details-placeholder[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background-color:var(--secondary-bg);border:1px solid var(--border-color);border-radius:var(--radius-lg);min-height:400px}@media (max-width: 1200px){.details-placeholder[_ngcontent-%COMP%]{min-height:200px}}.placeholder-content[_ngcontent-%COMP%]{text-align:center;padding:var(--spacing-lg)}.placeholder-content[_ngcontent-%COMP%]   .placeholder-icon[_ngcontent-%COMP%]{color:var(--secondary-text);margin-bottom:var(--spacing-lg);opacity:.5}.placeholder-content[_ngcontent-%COMP%]   .placeholder-title[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:var(--primary-text);margin:0 0 var(--spacing-sm) 0}.placeholder-content[_ngcontent-%COMP%]   .placeholder-description[_ngcontent-%COMP%]{font-size:14px;color:var(--secondary-text);margin:0;line-height:1.5;max-width:300px}.toast-container[_ngcontent-%COMP%]{position:fixed;top:var(--spacing-lg);right:var(--spacing-lg);z-index:1000}.toast[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--spacing-sm);padding:var(--spacing-md) var(--spacing-lg);background-color:var(--secondary-bg);border:1px solid var(--border-color);border-radius:var(--radius-lg);box-shadow:var(--shadow-lg);min-width:300px;animation:_ngcontent-%COMP%_slideIn .3s ease-out}.toast.toast-success[_ngcontent-%COMP%]{border-color:var(--success-color);background-color:#00ba7c1a}.toast.toast-success[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:var(--success-color)}.toast.toast-error[_ngcontent-%COMP%]{border-color:var(--error-color);background-color:#f4212e1a}.toast.toast-error[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:var(--error-color)}.toast.toast-info[_ngcontent-%COMP%]{border-color:var(--info-color);background-color:#1d9bf01a}.toast.toast-info[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:var(--info-color)}@keyframes _ngcontent-%COMP%_slideIn{0%{transform:translate(100%);opacity:0}to{transform:translate(0);opacity:1}}.toast-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--spacing-sm);flex:1}.toast-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;color:var(--primary-text);font-weight:500}.toast-close[_ngcontent-%COMP%]{width:24px;height:24px;border:none;background-color:transparent;color:var(--secondary-text);border-radius:var(--radius-sm);display:flex;align-items:center;justify-content:center;cursor:pointer;transition:var(--transition-fast)}.toast-close[_ngcontent-%COMP%]:hover{background-color:var(--hover-bg);color:var(--primary-text)}@media (max-width: 768px){.ativos-content[_ngcontent-%COMP%]{grid-template-columns:1fr}.assets-container[_ngcontent-%COMP%]{max-height:400px}.asset-card[_ngcontent-%COMP%]{flex-direction:column;text-align:center;gap:var(--spacing-sm)}.asset-card[_ngcontent-%COMP%]   .asset-content[_ngcontent-%COMP%]{width:100%}.asset-card[_ngcontent-%COMP%]   .asset-footer[_ngcontent-%COMP%]{width:100%;justify-content:center}.view-grid[_ngcontent-%COMP%]   .assets-list[_ngcontent-%COMP%]{grid-template-columns:1fr}.actions-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}.toast[_ngcontent-%COMP%]{min-width:280px;margin:0 var(--spacing-sm)}}@media (max-width: 480px){.quick-filters[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}.quick-filters[_ngcontent-%COMP%]   .filter-chip[_ngcontent-%COMP%]{justify-content:center}.actions-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}@media (prefers-contrast: high){.section-card[_ngcontent-%COMP%], .asset-card[_ngcontent-%COMP%], .action-card[_ngcontent-%COMP%], .status-badge[_ngcontent-%COMP%], .filter-chip[_ngcontent-%COMP%]{border-width:2px}}@media (prefers-reduced-motion: reduce){.asset-card[_ngcontent-%COMP%], .action-card[_ngcontent-%COMP%], .action-btn[_ngcontent-%COMP%]{transform:none!important}.toast[_ngcontent-%COMP%]{animation:none}}'],data:{animation:[II("slideDown",[S_(":enter",[_h({height:"0",opacity:0}),I_("300ms ease-in-out",_h({height:"*",opacity:1}))]),S_(":leave",[I_("300ms ease-in-out",_h({height:"0",opacity:0}))])])]}})};var E=function(n){return n.SEPARATOR="separator",n.PERCENT="percent",n.IP="IP",n.CPF_CNPJ="CPF_CNPJ",n.MONTH="M",n.MONTHS="M0",n.MINUTE="m",n.HOUR="h",n.HOURS="H",n.MINUTES="m0",n.HOURS_HOUR="Hh",n.SECONDS="s0",n.HOURS_MINUTES_SECONDS="Hh:m0:s0",n.EMAIL_MASK="A*@A*.A*",n.HOURS_MINUTES="Hh:m0",n.MINUTES_SECONDS="m0:s0",n.DAYS_MONTHS_YEARS="d0/M0/0000",n.DAYS_MONTHS="d0/M0",n.DAYS="d0",n.DAY="d",n.SECOND="s",n.LETTER_S="S",n.DOT=".",n.COMMA=",",n.CURLY_BRACKETS_LEFT="{",n.CURLY_BRACKETS_RIGHT="}",n.MINUS="-",n.OR="||",n.HASH="#",n.EMPTY_STRING="",n.SYMBOL_STAR="*",n.SYMBOL_QUESTION="?",n.SLASH="/",n.WHITE_SPACE=" ",n.NUMBER_ZERO="0",n.NUMBER_NINE="9",n.BACKSPACE="Backspace",n.DELETE="Delete",n.ARROW_LEFT="ArrowLeft",n.ARROW_UP="ArrowUp",n.DOUBLE_ZERO="00",n}(E||{}),x_=new J("ngx-mask config"),rV=new J("new ngx-mask config"),iV=new J("initial ngx-mask config"),nZ={suffix:"",prefix:"",thousandSeparator:" ",decimalMarker:[".",","],clearIfNotMatch:!1,showMaskTyped:!1,instantPrefix:!1,placeHolderCharacter:"_",dropSpecialCharacters:!0,hiddenInput:!1,shownMaskExpression:"",separatorLimit:"",allowNegativeNumbers:!1,validation:!0,specialCharacters:["-","/","(",")",".",":"," ","+",",","@","[","]",'"',"'"],leadZeroDateTime:!1,apm:!1,leadZero:!1,keepCharacterPositions:!1,triggerOnMaskChange:!1,inputTransformFn:n=>n,outputTransformFn:n=>n,maskFilled:new St,patterns:{0:{pattern:new RegExp("\\d")},9:{pattern:new RegExp("\\d"),optional:!0},X:{pattern:new RegExp("\\d"),symbol:"*"},A:{pattern:new RegExp("[a-zA-Z0-9]")},S:{pattern:new RegExp("[a-zA-Z]")},U:{pattern:new RegExp("[A-Z]")},L:{pattern:new RegExp("[a-z]")},d:{pattern:new RegExp("\\d")},m:{pattern:new RegExp("\\d")},M:{pattern:new RegExp("\\d")},H:{pattern:new RegExp("\\d")},h:{pattern:new RegExp("\\d")},s:{pattern:new RegExp("\\d")}}},rZ=[E.HOURS_MINUTES_SECONDS,E.HOURS_MINUTES,E.MINUTES_SECONDS],iZ=[E.PERCENT,E.HOURS_HOUR,E.SECONDS,E.MINUTES,E.SEPARATOR,E.DAYS_MONTHS_YEARS,E.DAYS_MONTHS,E.DAYS,E.MONTHS],oZ=(()=>{class n{_config=F(x_);dropSpecialCharacters=this._config.dropSpecialCharacters;hiddenInput=this._config.hiddenInput;clearIfNotMatch=this._config.clearIfNotMatch;specialCharacters=this._config.specialCharacters;patterns=this._config.patterns;prefix=this._config.prefix;suffix=this._config.suffix;thousandSeparator=this._config.thousandSeparator;decimalMarker=this._config.decimalMarker;customPattern;showMaskTyped=this._config.showMaskTyped;placeHolderCharacter=this._config.placeHolderCharacter;validation=this._config.validation;separatorLimit=this._config.separatorLimit;allowNegativeNumbers=this._config.allowNegativeNumbers;leadZeroDateTime=this._config.leadZeroDateTime;leadZero=this._config.leadZero;apm=this._config.apm;inputTransformFn=this._config.inputTransformFn;outputTransformFn=this._config.outputTransformFn;keepCharacterPositions=this._config.keepCharacterPositions;instantPrefix=this._config.instantPrefix;triggerOnMaskChange=this._config.triggerOnMaskChange;_shift=new Set;plusOnePosition=!1;maskExpression="";actualValue="";showKeepCharacterExp="";shownMaskExpression=this._config.shownMaskExpression;deletedSpecialCharacter=!1;ipError;cpfCnpjError;applyMask(t,r,i=0,o=!1,s=!1,a=()=>{}){if(!r||typeof t!="string")return E.EMPTY_STRING;let c=0,u="",d=!1,p=!1,_=1,y=!1,v=t,A=i,O=v.slice(0,this.prefix.length)===this.prefix,G=o&&v.length===this.prefix.length+r.length,ee=v===this.prefix+v.slice(this.prefix.length);O&&(G||ee)&&(v=v.slice(this.prefix.length)),this.suffix&&v.length>0&&(v=this.checkAndRemoveSuffix(v)),v==="("&&this.prefix&&(v="");let Z=v.toString().split(E.EMPTY_STRING);if(this.allowNegativeNumbers&&v.slice(c,c+1)===E.MINUS&&(u+=v.slice(c,c+1)),r===E.IP){let D=v.split(E.DOT);this.ipError=this._validIP(D),r="099.099.099.099"}let se=[];for(let D=0;D<v.length;D++)v[D]?.match("\\d")&&se.push(v[D]??E.EMPTY_STRING);if(r===E.CPF_CNPJ&&(this.cpfCnpjError=se.length!==11&&se.length!==14,se.length>11?r="00.000.000/0000-00":r="000.000.000-00"),r.startsWith(E.PERCENT)){if(v.match("[a-z]|[A-Z]")||v.match(/[-!$%^&*()_+|~=`{}\[\]:";'<>?,\/.]/)&&!s){v=this._stripToDecimal(v);let R=this.getPrecision(r);v=this.checkInputPrecision(v,R,this.decimalMarker)}let D=typeof this.decimalMarker=="string"?this.decimalMarker:E.DOT;if(v.indexOf(D)>0&&!this.percentage(v.substring(0,v.indexOf(D)))){let R=v.substring(0,v.indexOf(D)-1);this.allowNegativeNumbers&&v.slice(c,c+1)===E.MINUS&&!s&&(R=v.substring(0,v.indexOf(D))),v=`${R}${v.substring(v.indexOf(D),v.length)}`}let T="";this.allowNegativeNumbers&&v.slice(c,c+1)===E.MINUS?T=`${E.MINUS}${v.slice(c+1,c+v.length)}`:T=v,this.percentage(T)?u=this._splitPercentZero(v):u=this._splitPercentZero(v.substring(0,v.length-1))}else if(r.startsWith(E.SEPARATOR)){(v.match("[w\u0430-\u044F\u0410-\u042F]")||v.match("[\u0401\u0451\u0410-\u044F]")||v.match("[a-z]|[A-Z]")||v.match(/[-@#!$%\\^&*()_'+|~=`{}\]:";<>.?/]/)||v.match("[^A-Za-z0-9,]"))&&(v=this._stripToDecimal(v));let D=this.getPrecision(r),T=this.decimalMarker;if(Array.isArray(this.decimalMarker)&&(this.actualValue.includes(this.decimalMarker[0])||this.actualValue.includes(this.decimalMarker[1])?T=this.actualValue.includes(this.decimalMarker[0])?this.decimalMarker[0]:this.decimalMarker[1]:T=this.decimalMarker.find(Je=>Je!==this.thousandSeparator)),s){let{decimalMarkerIndex:Je,nonZeroIndex:wt}=this._findFirstNonZeroAndDecimalIndex(v,T),Dr=v[0]===E.MINUS,qn=v[0]===E.NUMBER_ZERO,At=v[0]===T,Ms=v[1]===T;(At&&!wt||Dr&&Ms&&!wt||qn&&!Je&&!wt)&&(v=E.NUMBER_ZERO),Je&&wt&&Dr&&A===1&&(Je<wt||Je>wt)&&(v=E.MINUS+v.slice(wt)),!Je&&wt&&v.length>wt&&(v=Dr?E.MINUS+v.slice(wt):v.slice(wt)),Je&&wt&&A===0&&(Je<wt&&(v=v.slice(Je-1)),Je>wt&&(v=v.slice(wt)))}D===0?v=this.allowNegativeNumbers?v.length>2&&v[0]===E.MINUS&&v[1]===E.NUMBER_ZERO&&v[2]!==this.thousandSeparator&&v[2]!==E.COMMA&&v[2]!==E.DOT?"-"+v.slice(2,v.length):v[0]===E.NUMBER_ZERO&&v.length>1&&v[1]!==this.thousandSeparator&&v[1]!==E.COMMA&&v[1]!==E.DOT?v.slice(1,v.length):v:v.length>1&&v[0]===E.NUMBER_ZERO&&v[1]!==this.thousandSeparator&&v[1]!==E.COMMA&&v[1]!==E.DOT?v.slice(1,v.length):v:(v[0]===T&&v.length>1&&!s&&(v=E.NUMBER_ZERO+v.slice(0,v.length+1),this.plusOnePosition=!0),v[0]===E.NUMBER_ZERO&&v[1]!==T&&v[1]!==this.thousandSeparator&&!s&&(v=v.length>1?v.slice(0,1)+T+v.slice(1,v.length+1):v,this.plusOnePosition=!0),this.allowNegativeNumbers&&!s&&v[0]===E.MINUS&&(v[1]===T||v[1]===E.NUMBER_ZERO)&&(v=v[1]===T&&v.length>2?v.slice(0,1)+E.NUMBER_ZERO+v.slice(1,v.length):v[1]===E.NUMBER_ZERO&&v.length>2&&v[2]!==T?v.slice(0,2)+T+v.slice(2,v.length):v,this.plusOnePosition=!0));let R=this._charToRegExpExpression(this.thousandSeparator),x='@#!$%^&*()_+|~=`{}\\[\\]:\\s,\\.";<>?\\/'.replace(R,"");if(Array.isArray(this.decimalMarker))for(let Je of this.decimalMarker)x=x.replace(this._charToRegExpExpression(Je),E.EMPTY_STRING);else x=x.replace(this._charToRegExpExpression(this.decimalMarker),"");let sn=new RegExp("["+x+"]");v.match(sn)&&(v=v.substring(0,v.length-1)),v=this.checkInputPrecision(v,D,this.decimalMarker);let zn=v.replace(new RegExp(R,"g"),"");u=this._formatWithSeparators(zn,this.thousandSeparator,this.decimalMarker,D);let tu=u.indexOf(E.COMMA)-v.indexOf(E.COMMA),an=u.length-v.length,ri=s&&u.length<t.length-this.suffix.length&&this.separatorLimit;if((u[A-1]===this.thousandSeparator||u[A-this.prefix.length])&&this.prefix&&s)A=A-1;else if(an>0&&u[A]!==this.thousandSeparator||ri){p=!0;let Je=0;do this._shift.add(A+Je),Je++;while(Je<an)}else u[A-1]===this.thousandSeparator||an===-4||an===-3||u[A]===this.thousandSeparator?(this._shift.clear(),this._shift.add(A-1)):tu!==0&&A>0&&!(u.indexOf(E.COMMA)>=A&&A>3)||!(u.indexOf(E.DOT)>=A&&A>3)&&an<=0?(this._shift.clear(),p=!0,_=an,A+=an,this._shift.add(A)):this._shift.clear()}else for(let D=0,T=Z[0];D<Z.length&&c!==r.length;D++,T=Z[D]??E.EMPTY_STRING){let R=E.SYMBOL_STAR in this.patterns;if(this._checkSymbolMask(T,r[c]??E.EMPTY_STRING)&&r[c+1]===E.SYMBOL_QUESTION)u+=T,c+=2;else if(r[c+1]===E.SYMBOL_STAR&&d&&this._checkSymbolMask(T,r[c+2]??E.EMPTY_STRING))u+=T,c+=3,d=!1;else if(this._checkSymbolMask(T,r[c]??E.EMPTY_STRING)&&r[c+1]===E.SYMBOL_STAR&&!R)u+=T,d=!0;else if(r[c+1]===E.SYMBOL_QUESTION&&this._checkSymbolMask(T,r[c+2]??E.EMPTY_STRING))u+=T,c+=3;else if(this._checkSymbolMask(T,r[c]??E.EMPTY_STRING)){if(r[c]===E.HOURS&&(this.apm?Number(T)>9:Number(T)>2)){A=this.leadZeroDateTime?A:A+1,c+=1,this._shiftStep(c),D--,this.leadZeroDateTime&&(u+="0");continue}if(r[c]===E.HOUR&&(this.apm?u.length===1&&Number(u)>1||u==="1"&&Number(T)>2||v.slice(c-1,c).length===1&&Number(v.slice(c-1,c))>2||v.slice(c-1,c)==="1"&&Number(T)>2:u==="2"&&Number(T)>3||(u.slice(c-2,c)==="2"||u.slice(c-3,c)==="2"||u.slice(c-4,c)==="2"||u.slice(c-1,c)==="2")&&Number(T)>3&&c>10)){A=A+1,c+=1,D--;continue}if((r[c]===E.MINUTE||r[c]===E.SECOND)&&Number(T)>5){A=this.leadZeroDateTime?A:A+1,c+=1,this._shiftStep(c),D--,this.leadZeroDateTime&&(u+="0");continue}let x=31,sn=v[c],zn=v[c+1],tu=v[c+2],an=v[c-1],ri=v[c-2],Je=v.slice(c-3,c-1),wt=v.slice(c-1,c+1),Dr=v.slice(c,c+2),qn=v.slice(c-2,c);if(r[c]===E.DAY){let At=r.slice(0,2)===E.MONTHS,Ms=r.slice(0,2)===E.MONTHS&&this.specialCharacters.includes(ri);if(Number(T)>3&&this.leadZeroDateTime||!At&&(Number(Dr)>x||Number(wt)>x||this.specialCharacters.includes(zn))||(Ms?Number(wt)>x||!this.specialCharacters.includes(sn)&&this.specialCharacters.includes(tu)||this.specialCharacters.includes(sn):Number(Dr)>x||this.specialCharacters.includes(zn)&&!s)){A=this.leadZeroDateTime?A:A+1,c+=1,this._shiftStep(c),D--,this.leadZeroDateTime&&(u+="0");continue}}if(r[c]===E.MONTH){let Ms=c===0&&(Number(T)>2||Number(Dr)>12||this.specialCharacters.includes(zn)&&!s),Ds=r.slice(c+2,c+3),cv=Je.includes(Ds)&&r.includes("d0")&&(this.specialCharacters.includes(ri)&&Number(wt)>12&&!this.specialCharacters.includes(sn)||this.specialCharacters.includes(sn)),As=Number(Je)<=x&&!this.specialCharacters.includes(Je)&&this.specialCharacters.includes(an)&&(Number(Dr)>12||this.specialCharacters.includes(zn)),lv=Number(Dr)>12&&c===5||this.specialCharacters.includes(zn)&&c===5,uv=Number(Je)>x&&!this.specialCharacters.includes(Je)&&!this.specialCharacters.includes(qn)&&Number(qn)>12&&r.includes("d0"),Ka=Number(Je)<=x&&!this.specialCharacters.includes(Je)&&!this.specialCharacters.includes(an)&&Number(wt)>12;if(Number(T)>1&&this.leadZeroDateTime||Ms||cv||Ka||uv||As||lv&&!this.leadZeroDateTime){A=this.leadZeroDateTime?A:A+1,c+=1,this._shiftStep(c),D--,this.leadZeroDateTime&&(u+="0");continue}}u+=T,c++}else this.specialCharacters.includes(T)&&r[c]===T?(u+=T,c++):this.specialCharacters.indexOf(r[c]??E.EMPTY_STRING)!==-1?(u+=r[c],c++,this._shiftStep(c),D--):r[c]===E.NUMBER_NINE&&this.showMaskTyped?this._shiftStep(c):this.patterns[r[c]??E.EMPTY_STRING]&&this.patterns[r[c]??E.EMPTY_STRING]?.optional?(Z[c]&&r!=="099.099.099.099"&&r!=="000.000.000-00"&&r!=="00.000.000/0000-00"&&!r.match(/^9+\.0+$/)&&!this.patterns[r[c]??E.EMPTY_STRING]?.optional&&(u+=Z[c]),r.includes(E.NUMBER_NINE+E.SYMBOL_STAR)&&r.includes(E.NUMBER_ZERO+E.SYMBOL_STAR)&&c++,c++,D--):this.maskExpression[c+1]===E.SYMBOL_STAR&&this._findSpecialChar(this.maskExpression[c+2]??E.EMPTY_STRING)&&this._findSpecialChar(T)===this.maskExpression[c+2]&&d||this.maskExpression[c+1]===E.SYMBOL_QUESTION&&this._findSpecialChar(this.maskExpression[c+2]??E.EMPTY_STRING)&&this._findSpecialChar(T)===this.maskExpression[c+2]&&d?(c+=3,u+=T):this.showMaskTyped&&this.specialCharacters.indexOf(T)<0&&T!==this.placeHolderCharacter&&this.placeHolderCharacter.length===1&&(y=!0)}u[A-1]&&u.length+1===r.length&&this.specialCharacters.indexOf(r[r.length-1]??E.EMPTY_STRING)!==-1&&(u+=r[r.length-1]);let De=A+1;for(;this._shift.has(De);)_++,De++;let fe=o&&!r.startsWith(E.SEPARATOR)?c:this._shift.has(A)?_:0;y&&fe--,a(fe,p),_<0&&this._shift.clear();let P=!1;s&&(P=Z.every(D=>this.specialCharacters.includes(D)));let S=`${this.prefix}${P?E.EMPTY_STRING:u}${this.showMaskTyped?"":this.suffix}`;u.length===0&&(S=this.instantPrefix?`${this.prefix}${u}`:`${u}`);let M=v.length===1&&this.specialCharacters.includes(r[0])&&v!==r[0];if(!this._checkSymbolMask(v,r[1])&&M)return"";if(u.includes(E.MINUS)&&this.prefix&&this.allowNegativeNumbers){if(s&&u===E.MINUS)return"";S=`${E.MINUS}${this.prefix}${u.split(E.MINUS).join(E.EMPTY_STRING)}${this.suffix}`}return S}_findDropSpecialChar(t){return Array.isArray(this.dropSpecialCharacters)?this.dropSpecialCharacters.find(r=>r===t):this._findSpecialChar(t)}_findSpecialChar(t){return this.specialCharacters.find(r=>r===t)}_checkSymbolMask(t,r){return this.patterns=this.customPattern?this.customPattern:this.patterns,(this.patterns[r]?.pattern&&this.patterns[r]?.pattern.test(t))??!1}_formatWithSeparators=(t,r,i,o)=>{let s=[],a="";if(Array.isArray(i)){let _=new RegExp(i.map(y=>"[\\^$.|?*+()".indexOf(y)>=0?`\\${y}`:y).join("|"));s=t.split(_),a=t.match(_)?.[0]??E.EMPTY_STRING}else s=t.split(i),a=i;let c=s.length>1?`${a}${s[1]}`:E.EMPTY_STRING,u=s[0]??E.EMPTY_STRING,d=this.separatorLimit.replace(/\s/g,E.EMPTY_STRING);d&&+d&&(u[0]===E.MINUS?u=`-${u.slice(1,u.length).slice(0,d.length)}`:u=u.slice(0,d.length));let p=/(\d+)(\d{3})/;for(;r&&p.test(u);)u=u.replace(p,"$1"+r+"$2");return typeof o>"u"?u+c:o===0?u:u+c.substring(0,o+1)};percentage=t=>{let r=t.replace(",","."),i=Number(this.allowNegativeNumbers&&t.includes(E.MINUS)?r.slice(1,t.length):r);return!isNaN(i)&&i>=0&&i<=100};getPrecision=t=>{let r=t.split(E.DOT);return r.length>1?Number(r[r.length-1]):1/0};checkAndRemoveSuffix=t=>{for(let r=this.suffix?.length-1;r>=0;r--){let i=this.suffix.substring(r,this.suffix?.length);if(t.includes(i)&&r!==this.suffix?.length-1&&(r-1<0||!t.includes(this.suffix.substring(r-1,this.suffix?.length))))return t.replace(i,E.EMPTY_STRING)}return t};checkInputPrecision=(t,r,i)=>{let o=t,s=i;if(r<1/0){if(Array.isArray(s)){let d=s.find(p=>p!==this.thousandSeparator);s=d||s[0]}let a=new RegExp(this._charToRegExpExpression(s)+`\\d{${r}}.*$`),c=o.match(a),u=(c&&c[0]?.length)??0;if(u-1>r){let d=u-1-r;o=o.substring(0,o.length-d)}r===0&&this._compareOrIncludes(o[o.length-1],s,this.thousandSeparator)&&(o=o.substring(0,o.length-1))}return o};_stripToDecimal(t){return t.split(E.EMPTY_STRING).filter((r,i)=>{let o=typeof this.decimalMarker=="string"?r===this.decimalMarker:this.decimalMarker.includes(r);return r.match("^-?\\d")||r===this.thousandSeparator||o||r===E.MINUS&&i===0&&this.allowNegativeNumbers}).join(E.EMPTY_STRING)}_charToRegExpExpression(t){return t&&(t===" "?"\\s":"[\\^$.|?*+()".indexOf(t)>=0?`\\${t}`:t)}_shiftStep(t){this._shift.add(t+this.prefix.length||0)}_compareOrIncludes(t,r,i){return Array.isArray(r)?r.filter(o=>o!==i).includes(t):t===r}_validIP(t){return!(t.length===4&&!t.some((r,i)=>t.length!==i+1?r===E.EMPTY_STRING||Number(r)>255:r===E.EMPTY_STRING||Number(r.substring(0,3))>255))}_splitPercentZero(t){if(t===E.MINUS&&this.allowNegativeNumbers)return t;let r=typeof this.decimalMarker=="string"?t.indexOf(this.decimalMarker):t.indexOf(E.DOT),i=this.allowNegativeNumbers&&t.includes(E.MINUS)?"-":"";if(r===-1){let o=parseInt(i?t.slice(1,t.length):t,10);return isNaN(o)?E.EMPTY_STRING:`${i}${o}`}else{let o=parseInt(t.replace("-","").substring(0,r),10),s=t.substring(r+1),a=isNaN(o)?"":o.toString(),c=typeof this.decimalMarker=="string"?this.decimalMarker:E.DOT;return a===E.EMPTY_STRING?E.EMPTY_STRING:`${i}${a}${c}${s}`}}_findFirstNonZeroAndDecimalIndex(t,r){let i=null,o=null;for(let s=0;s<t.length;s++){let a=t[s];if(a===r&&i===null&&(i=s),a&&a>="1"&&a<="9"&&o===null&&(o=s),i!==null&&o!==null)break}return{decimalMarkerIndex:i,nonZeroIndex:o}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=re({token:n,factory:n.\u0275fac})}return n})(),SI=(()=>{class n extends oZ{isNumberValue=!1;maskIsShown="";selStart=null;selEnd=null;maskChanged=!1;maskExpressionArray=[];previousValue="";currentValue="";writingValue=!1;isInitialized=!1;_emitValue=!1;_start;_end;onChange=t=>{};_elementRef=F(mn,{optional:!0});document=F(Ot);_config=F(x_);_renderer=F(lr,{optional:!0});applyMask(t,r,i=0,o=!1,s=!1,a=()=>{}){if(!r)return t!==this.actualValue?this.actualValue:t;if(this.maskIsShown=this.showMaskTyped?this.showMaskInInput():E.EMPTY_STRING,this.maskExpression===E.IP&&this.showMaskTyped&&(this.maskIsShown=this.showMaskInInput(t||E.HASH)),this.maskExpression===E.CPF_CNPJ&&this.showMaskTyped&&(this.maskIsShown=this.showMaskInInput(t||E.HASH)),!t&&this.showMaskTyped)return this.formControlResult(this.prefix),`${this.prefix}${this.maskIsShown}${this.suffix}`;let c=t&&typeof this.selStart=="number"?t[this.selStart]??E.EMPTY_STRING:E.EMPTY_STRING,u="",d=i;if((this.hiddenInput||t&&t.indexOf(E.SYMBOL_STAR)>=0)&&!this.writingValue){let v=t&&t.length===1?t.split(E.EMPTY_STRING):this.actualValue.split(E.EMPTY_STRING);s&&(v=v.slice(0,i).concat(v.slice(i+1))),this.showMaskTyped&&(t=this.removeMask(t),v=this.removeMask(v.join("")).split(E.EMPTY_STRING)),typeof this.selStart=="object"&&typeof this.selEnd=="object"?(this.selStart=Number(this.selStart),this.selEnd=Number(this.selEnd)):t!==E.EMPTY_STRING&&v.length?typeof this.selStart=="number"&&typeof this.selEnd=="number"&&(t.length>v.length?v.splice(this.selStart,0,c):t.length<v.length&&(v.length-t.length===1?s?v.splice(this.selStart-1,1):v.splice(t.length-1,1):v.splice(this.selStart,this.selEnd-this.selStart))):v=[],this.showMaskTyped&&!this.hiddenInput&&(u=this.removeMask(t)),this.actualValue.length?v.length<t.length?u=this.shiftTypedSymbols(v.join(E.EMPTY_STRING)):v.length===t.length?u=v.join(E.EMPTY_STRING):u=t:u=t}if(o&&(this.hiddenInput||!this.hiddenInput)&&(u=t),s&&this.specialCharacters.indexOf(this.maskExpression[d]??E.EMPTY_STRING)!==-1&&this.showMaskTyped&&!this.prefix&&(u=this.currentValue),this.deletedSpecialCharacter&&d&&(this.specialCharacters.includes(this.actualValue.slice(d,d+1))?d=d+1:r.slice(d-1,d+1)!==E.MONTHS&&(d=d-2),this.deletedSpecialCharacter=!1),this.showMaskTyped&&this.placeHolderCharacter.length===1&&!this.leadZeroDateTime&&(u=this.removeMask(u)),this.maskChanged?u=t:u=u&&u.length?u:t,this.showMaskTyped&&this.keepCharacterPositions&&this.actualValue&&!o&&!this.writingValue){let v=this.dropSpecialCharacters?this.removeMask(this.actualValue):this.actualValue;return this.formControlResult(v),this.actualValue?this.actualValue:`${this.prefix}${this.maskIsShown}${this.suffix}`}let p=super.applyMask(u,r,d,o,s,a);if(this.actualValue=this.getActualValue(p),this.thousandSeparator===E.DOT&&this.decimalMarker===E.DOT&&(this.decimalMarker=E.COMMA),this.maskExpression.startsWith(E.SEPARATOR)&&this.dropSpecialCharacters===!0&&(this.specialCharacters=this.specialCharacters.filter(v=>!this._compareOrIncludes(v,this.decimalMarker,this.thousandSeparator))),(p||p==="")&&(this.previousValue=this.currentValue,this.currentValue=p,this._emitValue=this.previousValue!==this.currentValue||this.previousValue===this.currentValue&&o),this._emitValue&&this.formControlResult(p),!this.showMaskTyped||this.showMaskTyped&&this.hiddenInput)return this.hiddenInput?`${this.hideInput(p,this.maskExpression)}${this.maskIsShown.slice(p.length)}`:p;let _=p.length,y=`${this.prefix}${this.maskIsShown}${this.suffix}`;if(this.maskExpression.includes(E.HOURS)){let v=this._numberSkipedSymbols(p);return`${p}${y.slice(_+v)}`}else if(this.maskExpression===E.IP||this.maskExpression===E.CPF_CNPJ)return`${p}${y}`;return`${p}${y.slice(_)}`}_numberSkipedSymbols(t){let r=/(^|\D)(\d\D)/g,i=r.exec(t),o=0;for(;i!=null;)o+=1,i=r.exec(t);return o}applyValueChanges(t,r,i,o=()=>{}){let s=this._elementRef?.nativeElement;s&&(s.value=this.applyMask(s.value,this.maskExpression,t,r,i,o),s!==this._getActiveElement()&&this.clearIfNotMatchFn())}hideInput(t,r){return t.split(E.EMPTY_STRING).map((i,o)=>this.patterns&&this.patterns[r[o]??E.EMPTY_STRING]&&this.patterns[r[o]??E.EMPTY_STRING]?.symbol?this.patterns[r[o]??E.EMPTY_STRING]?.symbol:i).join(E.EMPTY_STRING)}getActualValue(t){let r=t.split(E.EMPTY_STRING).filter((i,o)=>{let s=this.maskExpression[o]??E.EMPTY_STRING;return this._checkSymbolMask(i,s)||this.specialCharacters.includes(s)&&i===s});return r.join(E.EMPTY_STRING)===t?r.join(E.EMPTY_STRING):t}shiftTypedSymbols(t){let r="";return(t&&t.split(E.EMPTY_STRING).map((o,s)=>{if(this.specialCharacters.includes(t[s+1]??E.EMPTY_STRING)&&t[s+1]!==this.maskExpression[s+1])return r=o,t[s+1];if(r.length){let a=r;return r=E.EMPTY_STRING,a}return o})||[]).join(E.EMPTY_STRING)}numberToString(t){return!t&&t!==0||this.maskExpression.startsWith(E.SEPARATOR)&&(this.leadZero||!this.dropSpecialCharacters)||this.maskExpression.startsWith(E.SEPARATOR)&&this.separatorLimit.length>14&&String(t).length>14?String(t):Number(t).toLocaleString("fullwide",{useGrouping:!1,maximumFractionDigits:20}).replace(`/${E.MINUS}/`,E.MINUS)}showMaskInInput(t){if(this.showMaskTyped&&this.shownMaskExpression){if(this.maskExpression.length!==this.shownMaskExpression.length)throw new Error("Mask expression must match mask placeholder length");return this.shownMaskExpression}else if(this.showMaskTyped){if(t){if(this.maskExpression===E.IP)return this._checkForIp(t);if(this.maskExpression===E.CPF_CNPJ)return this._checkForCpfCnpj(t)}return this.placeHolderCharacter.length===this.maskExpression.length?this.placeHolderCharacter:this.maskExpression.replace(/\w/g,this.placeHolderCharacter)}return""}clearIfNotMatchFn(){let t=this._elementRef?.nativeElement;t&&this.clearIfNotMatch&&this.prefix.length+this.maskExpression.length+this.suffix.length!==t.value.replace(this.placeHolderCharacter,E.EMPTY_STRING).length&&(this.formElementProperty=["value",E.EMPTY_STRING],this.applyMask("",this.maskExpression))}set formElementProperty([t,r]){!this._renderer||!this._elementRef||Promise.resolve().then(()=>this._renderer?.setProperty(this._elementRef?.nativeElement,t,r))}checkDropSpecialCharAmount(t){return t.split(E.EMPTY_STRING).filter(i=>this._findDropSpecialChar(i)).length}removeMask(t){return this._removeMask(this._removeSuffix(this._removePrefix(t)),this.specialCharacters.concat("_").concat(this.placeHolderCharacter))}_checkForIp(t){if(t===E.HASH)return`${this.placeHolderCharacter}.${this.placeHolderCharacter}.${this.placeHolderCharacter}.${this.placeHolderCharacter}`;let r=[];for(let i=0;i<t.length;i++){let o=t[i]??E.EMPTY_STRING;o&&o.match("\\d")&&r.push(o)}return r.length<=3?`${this.placeHolderCharacter}.${this.placeHolderCharacter}.${this.placeHolderCharacter}`:r.length>3&&r.length<=6?`${this.placeHolderCharacter}.${this.placeHolderCharacter}`:r.length>6&&r.length<=9?this.placeHolderCharacter:(r.length>9&&r.length<=12,"")}_checkForCpfCnpj(t){let r=`${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}-${this.placeHolderCharacter}${this.placeHolderCharacter}`,i=`${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}/${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}-${this.placeHolderCharacter}${this.placeHolderCharacter}`;if(t===E.HASH)return r;let o=[];for(let s=0;s<t.length;s++){let a=t[s]??E.EMPTY_STRING;a&&a.match("\\d")&&o.push(a)}return o.length<=3?r.slice(o.length,r.length):o.length>3&&o.length<=6?r.slice(o.length+1,r.length):o.length>6&&o.length<=9?r.slice(o.length+2,r.length):o.length>9&&o.length<11?r.slice(o.length+3,r.length):o.length===11?"":o.length===12?t.length===17?i.slice(16,i.length):i.slice(15,i.length):o.length>12&&o.length<=14?i.slice(o.length+4,i.length):""}_getActiveElement(t=this.document){let r=t?.activeElement?.shadowRoot;return r?.activeElement?this._getActiveElement(r):t.activeElement}formControlResult(t){let r=this.outputTransformFn?this.outputTransformFn:i=>i;this.writingValue=!1,this.maskChanged=!1,!(!this.isInitialized&&this._emitValue)&&(Array.isArray(this.dropSpecialCharacters)?this.onChange(r(this._toNumber(this._checkSymbols(this._removeMask(this._removeSuffix(this._removePrefix(t)),this.dropSpecialCharacters))))):this.dropSpecialCharacters||!this.dropSpecialCharacters&&this.prefix===t?this.onChange(r(this._toNumber(this._checkSymbols(this._removeSuffix(this._removePrefix(t)))))):this.onChange(r(this._toNumber(t))))}_toNumber(t){if(!this.isNumberValue||t===E.EMPTY_STRING||this.maskExpression.startsWith(E.SEPARATOR)&&(this.leadZero||!this.dropSpecialCharacters))return t;if(String(t).length>14&&this.maskExpression.startsWith(E.SEPARATOR))return String(t);let r=Number(t);if(this.maskExpression.startsWith(E.SEPARATOR)&&Number.isNaN(r)){let i=String(t).replace(",",".");return Number(i)}return Number.isNaN(r)?t:r}_removeMask(t,r){return this.maskExpression.startsWith(E.PERCENT)&&t.includes(E.DOT)?t:t&&t.replace(this._regExpForRemove(r),E.EMPTY_STRING)}_removePrefix(t){return this.prefix?t&&t.replace(this.prefix,E.EMPTY_STRING):t}_removeSuffix(t){return this.suffix?t&&t.replace(this.suffix,E.EMPTY_STRING):t}_retrieveSeparatorValue(t){let r=Array.isArray(this.dropSpecialCharacters)?this.specialCharacters.filter(i=>this.dropSpecialCharacters.includes(i)):this.specialCharacters;return!this.deletedSpecialCharacter&&this._checkPatternForSpace()&&t.includes(E.WHITE_SPACE)&&this.maskExpression.includes(E.SYMBOL_STAR)&&(r=r.filter(i=>i!==E.WHITE_SPACE)),this._removeMask(t,r)}_regExpForRemove(t){return new RegExp(t.map(r=>`\\${r}`).join("|"),"gi")}_replaceDecimalMarkerToDot(t){let r=Array.isArray(this.decimalMarker)?this.decimalMarker:[this.decimalMarker];return t.replace(this._regExpForRemove(r),E.DOT)}_checkSymbols(t){let r=t;if(r===E.EMPTY_STRING)return r;this.maskExpression.startsWith(E.PERCENT)&&this.decimalMarker===E.COMMA&&(r=r.replace(E.COMMA,E.DOT));let i=this._retrieveSeparatorPrecision(this.maskExpression),o=this.specialCharacters.length===0?this._retrieveSeparatorValue(r):this._replaceDecimalMarkerToDot(this._retrieveSeparatorValue(r));return this.isNumberValue&&i?r===this.decimalMarker?null:o.length>14?String(o):this._checkPrecision(this.maskExpression,o):o}_checkPatternForSpace(){for(let t in this.patterns)if(this.patterns[t]&&this.patterns[t]?.hasOwnProperty("pattern")){let r=this.patterns[t]?.pattern.toString(),i=this.patterns[t]?.pattern;if(r?.includes(E.WHITE_SPACE)&&i?.test(this.maskExpression))return!0}return!1}_retrieveSeparatorPrecision(t){let r=t.match(new RegExp("^separator\\.([^d]*)"));return r?Number(r[1]):null}_checkPrecision(t,r){let i=this.getPrecision(t),o=r;return t.indexOf("2")>0||this.leadZero&&Number(i)>0&&Number.isFinite(i)?(this.decimalMarker===E.COMMA&&this.leadZero&&(o=o.replace(",",".")),this.leadZero?Number(o).toFixed(Number(i)):Number(o).toFixed(2)):this.numberToString(o)}_repeatPatternSymbols(t){return t.match(/{[0-9]+}/)&&t.split(E.EMPTY_STRING).reduce((r,i,o)=>{if(this._start=i===E.CURLY_BRACKETS_LEFT?o:this._start,i!==E.CURLY_BRACKETS_RIGHT)return this._findSpecialChar(i)?r+i:r;this._end=o;let s=Number(t.slice(this._start+1,this._end)),a=new Array(s+1).join(t[this._start-1]);if(t.slice(0,this._start).length>1&&t.includes(E.LETTER_S)){let c=t.slice(0,this._start-1);return c.includes(E.CURLY_BRACKETS_LEFT)?r+a:c+r+a}else return r+a},"")||t}currentLocaleDecimalMarker(){return 1.1.toLocaleString().substring(1,2)}static \u0275fac=(()=>{let t;return function(i){return(t||(t=cr(n)))(i||n)}})();static \u0275prov=re({token:n,factory:n.\u0275fac})}return n})();function sZ(){let n=F(iV),e=F(rV);return e instanceof Function?z(z({},n),e()):z(z({},n),e)}function oV(n){return[{provide:rV,useValue:n},{provide:iV,useValue:nZ},{provide:x_,useFactory:sZ},SI]}var sV=(()=>{class n{mask=ct("");specialCharacters=ct([]);patterns=ct({});prefix=ct("");suffix=ct("");thousandSeparator=ct(" ");decimalMarker=ct(".");dropSpecialCharacters=ct(null);hiddenInput=ct(null);showMaskTyped=ct(null);placeHolderCharacter=ct(null);shownMaskExpression=ct(null);clearIfNotMatch=ct(null);validation=ct(null);separatorLimit=ct("");allowNegativeNumbers=ct(null);leadZeroDateTime=ct(null);leadZero=ct(null);triggerOnMaskChange=ct(null);apm=ct(null);inputTransformFn=ct(null);outputTransformFn=ct(null);keepCharacterPositions=ct(null);instantPrefix=ct(null);maskFilled=$D();_maskValue=xn("");_inputValue=xn("");_position=xn(null);_code=xn("");_maskExpressionArray=xn([]);_justPasted=xn(!1);_isFocused=xn(!1);_isComposing=xn(!1);_maskService=F(SI,{self:!0});document=F(Ot);_config=F(x_);onChange=t=>{};onTouch=()=>{};ngOnChanges(t){let{mask:r,specialCharacters:i,patterns:o,prefix:s,suffix:a,thousandSeparator:c,decimalMarker:u,dropSpecialCharacters:d,hiddenInput:p,showMaskTyped:_,placeHolderCharacter:y,shownMaskExpression:v,clearIfNotMatch:A,validation:O,separatorLimit:G,allowNegativeNumbers:ee,leadZeroDateTime:Z,leadZero:se,triggerOnMaskChange:De,apm:fe,inputTransformFn:P,outputTransformFn:S,keepCharacterPositions:M,instantPrefix:D}=t;if(r&&(r.currentValue!==r.previousValue&&!r.firstChange&&(this._maskService.maskChanged=!0),r.currentValue&&r.currentValue.split(E.OR).length>1?(this._maskExpressionArray.set(r.currentValue.split(E.OR).sort((T,R)=>T.length-R.length)),this._setMask()):(this._maskExpressionArray.set([]),this._maskValue.set(r.currentValue||E.EMPTY_STRING),this._maskService.maskExpression=this._maskValue())),i){if(!i.currentValue||!Array.isArray(i.currentValue))return;this._maskService.specialCharacters=i.currentValue||[]}if(ee&&(this._maskService.allowNegativeNumbers=ee.currentValue,this._maskService.allowNegativeNumbers&&(this._maskService.specialCharacters=this._maskService.specialCharacters.filter(T=>T!==E.MINUS))),o&&o.currentValue&&(this._maskService.patterns=o.currentValue),fe&&fe.currentValue&&(this._maskService.apm=fe.currentValue),D&&(this._maskService.instantPrefix=D.currentValue),s&&(this._maskService.prefix=s.currentValue),a&&(this._maskService.suffix=a.currentValue),c&&(this._maskService.thousandSeparator=c.currentValue,c.previousValue&&c.currentValue)){let T=this._maskService.decimalMarker;c.currentValue===this._maskService.decimalMarker&&(this._maskService.decimalMarker=c.currentValue===E.COMMA?E.DOT:E.COMMA),this._maskService.dropSpecialCharacters===!0&&(this._maskService.specialCharacters=this._config.specialCharacters),typeof T=="string"&&typeof this._maskService.decimalMarker=="string"&&(this._inputValue.set(this._inputValue().split(c.previousValue).join("").replace(T,this._maskService.decimalMarker)),this._maskService.actualValue=this._inputValue()),this._maskService.writingValue=!0}u&&(this._maskService.decimalMarker=u.currentValue),d&&(this._maskService.dropSpecialCharacters=d.currentValue),p&&(this._maskService.hiddenInput=p.currentValue,p.previousValue===!0&&p.currentValue===!1&&this._inputValue.set(this._maskService.actualValue)),_&&(this._maskService.showMaskTyped=_.currentValue,_.previousValue===!1&&_.currentValue===!0&&this._isFocused()&&requestAnimationFrame(()=>{this._maskService._elementRef?.nativeElement.click()})),y&&(this._maskService.placeHolderCharacter=y.currentValue),v&&(this._maskService.shownMaskExpression=v.currentValue),A&&(this._maskService.clearIfNotMatch=A.currentValue),O&&(this._maskService.validation=O.currentValue),G&&(this._maskService.separatorLimit=G.currentValue),Z&&(this._maskService.leadZeroDateTime=Z.currentValue),se&&(this._maskService.leadZero=se.currentValue),De&&(this._maskService.triggerOnMaskChange=De.currentValue),P&&(this._maskService.inputTransformFn=P.currentValue),S&&(this._maskService.outputTransformFn=S.currentValue),M&&(this._maskService.keepCharacterPositions=M.currentValue),this._applyMask()}validate({value:t}){let r=typeof t=="number"?String(t):t,i=this._maskValue();if(!this._maskService.validation||!i)return null;if(this._maskService.ipError)return this._createValidationError(r);if(this._maskService.cpfCnpjError)return this._createValidationError(r);if(i.startsWith(E.SEPARATOR)||iZ.includes(i)||this._maskService.clearIfNotMatch)return null;if(rZ.includes(i))return this._validateTime(r);if(i===E.EMAIL_MASK)return!/^[^@]+@[^@]+\.[^@]+$/.test(r)&&r?this._createValidationError(r):null;if(r&&r.length>=1){let o=0;if(i.includes(E.CURLY_BRACKETS_LEFT)&&i.includes(E.CURLY_BRACKETS_RIGHT))return i.slice(i.indexOf(E.CURLY_BRACKETS_LEFT)+1,i.indexOf(E.CURLY_BRACKETS_RIGHT))===String(r.length)?null:this._createValidationError(r);if(i.startsWith(E.PERCENT))return null;for(let s in this._maskService.patterns)if(this._maskService.patterns[s]?.optional){if(i.indexOf(s)!==i.lastIndexOf(s)){let a=i.split(E.EMPTY_STRING).filter(c=>c===s).join(E.EMPTY_STRING);o+=a.length}else i.indexOf(s)!==-1&&o++;if(i.indexOf(s)!==-1&&r.length>=i.indexOf(s)||o===i.length)return null}if(i.indexOf(E.SYMBOL_STAR)>1&&r.length<i.indexOf(E.SYMBOL_STAR)||i.indexOf(E.SYMBOL_QUESTION)>1&&r.length<i.indexOf(E.SYMBOL_QUESTION))return this._createValidationError(r);if(i.indexOf(E.SYMBOL_STAR)===-1||i.indexOf(E.SYMBOL_QUESTION)===-1){let s=i.split("*"),a=this._maskService.dropSpecialCharacters?i.length-this._maskService.checkDropSpecialCharAmount(i)-o:this.prefix()?i.length+this.prefix().length-o:i.length-o;if(s.length===1&&r.length<a)return this._createValidationError(r);if(s.length>1){let c=s[s.length-1];if(c&&this._maskService.specialCharacters.includes(c[0])&&String(r).includes(c[0]??"")&&!this.dropSpecialCharacters()){let u=t.split(c[0]);return u[u.length-1].length===c.length-1?null:this._createValidationError(r)}else return(c&&!this._maskService.specialCharacters.includes(c[0])||!c||this._maskService.dropSpecialCharacters)&&r.length>=a-1?null:this._createValidationError(r)}}if(i.indexOf(E.SYMBOL_STAR)===1||i.indexOf(E.SYMBOL_QUESTION)===1)return null}return t&&this.maskFilled.emit(),null}onPaste(){this._justPasted.set(!0)}onFocus(){this._isFocused.set(!0)}onModelChange(t){(t===E.EMPTY_STRING||t===null||typeof t>"u")&&this._maskService.actualValue&&(this._maskService.actualValue=this._maskService.getActualValue(E.EMPTY_STRING))}onInput(t){if(this._maskService.isInitialized=!0,this._isComposing())return;let r=t.target,i=this._maskService.inputTransformFn?this._maskService.inputTransformFn(r.value):r.value;if(r.type!=="number")if(typeof i=="string"||typeof i=="number"){if(r.value=i.toString(),this._inputValue.set(r.value),this._setMask(),!this._maskValue()){this.onChange(r.value);return}let o=r.selectionStart===1?r.selectionStart+this._maskService.prefix.length:r.selectionStart;if(this.showMaskTyped()&&this.keepCharacterPositions()&&this._maskService.placeHolderCharacter.length===1){let u=this.suffix(),d=this.prefix(),p=r.value.slice(o-1,o),_=d.length,y=this._maskService._checkSymbolMask(p,this._maskService.maskExpression[o-1-_]??E.EMPTY_STRING),v=this._maskService._checkSymbolMask(p,this._maskService.maskExpression[o+1-_]??E.EMPTY_STRING),A=this._maskService.selStart===this._maskService.selEnd,O=Number(this._maskService.selStart)-_,G=Number(this._maskService.selEnd)-_,ee=this._code()===E.BACKSPACE||this._code()===E.DELETE;if(ee){if(!A)this._maskService.selStart===_?this._maskService.actualValue=`${d}${this._maskService.maskIsShown.slice(0,G)}${this._inputValue().split(d).join("")}`:this._maskService.selStart===this._maskService.maskIsShown.length+_?this._maskService.actualValue=`${this._inputValue()}${this._maskService.maskIsShown.slice(O,G)}`:this._maskService.actualValue=`${d}${this._inputValue().split(d).join("").slice(0,O)}${this._maskService.maskIsShown.slice(O,G)}${this._maskService.actualValue.slice(G+_,this._maskService.maskIsShown.length+_)}${u}`;else if(!this._maskService.specialCharacters.includes(this._maskService.maskExpression.slice(o-_,o+1-_))&&A)if(O===1&&d)this._maskService.actualValue=`${d}${this._maskService.placeHolderCharacter}${r.value.split(d).join("").split(u).join("")}${u}`,o=o-1;else{let Z=r.value.substring(0,o),se=r.value.substring(o);this._maskService.actualValue=`${Z}${this._maskService.placeHolderCharacter}${se}`}o=this._code()===E.DELETE?o+1:o}ee||(!y&&!v&&A?o=Number(r.selectionStart)-1:this._maskService.specialCharacters.includes(r.value.slice(o,o+1))&&v&&!this._maskService.specialCharacters.includes(r.value.slice(o+1,o+2))?(this._maskService.actualValue=`${r.value.slice(0,o-1)}${r.value.slice(o,o+1)}${p}${r.value.slice(o+2)}`,o=o+1):y?r.value.length===1&&o===1?this._maskService.actualValue=`${d}${p}${this._maskService.maskIsShown.slice(1,this._maskService.maskIsShown.length)}${u}`:this._maskService.actualValue=`${r.value.slice(0,o-1)}${p}${r.value.slice(o+1).split(u).join("")}${u}`:d&&r.value.length===1&&o-_===1&&this._maskService._checkSymbolMask(r.value,this._maskService.maskExpression[o-1-_]??E.EMPTY_STRING)&&(this._maskService.actualValue=`${d}${r.value}${this._maskService.maskIsShown.slice(1,this._maskService.maskIsShown.length)}${u}`))}let s=0,a=!1;if(this._code()===E.DELETE&&E.SEPARATOR&&(this._maskService.deletedSpecialCharacter=!0),this._inputValue().length>=this._maskService.maskExpression.length-1&&this._code()!==E.BACKSPACE&&this._maskService.maskExpression===E.DAYS_MONTHS_YEARS&&o<10){let u=this._inputValue().slice(o-1,o);r.value=this._inputValue().slice(0,o-1)+u+this._inputValue().slice(o+1)}if(this._maskService.maskExpression===E.DAYS_MONTHS_YEARS&&this.leadZeroDateTime()&&(o<3&&Number(r.value)>31&&Number(r.value)<40||o===5&&Number(r.value.slice(3,5))>12)&&(o=o+2),this._maskService.maskExpression===E.HOURS_MINUTES_SECONDS&&this.apm()&&(this._justPasted()&&r.value.slice(0,2)===E.DOUBLE_ZERO&&(r.value=r.value.slice(1,2)+r.value.slice(2,r.value.length)),r.value=r.value===E.DOUBLE_ZERO?E.NUMBER_ZERO:r.value),this._maskService.applyValueChanges(o,this._justPasted(),this._code()===E.BACKSPACE||this._code()===E.DELETE,(u,d)=>{this._justPasted.set(!1),s=u,a=d}),this._getActiveElement()!==r)return;if(this._maskService.plusOnePosition&&(o=o+1,this._maskService.plusOnePosition=!1),this._maskExpressionArray().length)if(this._code()===E.BACKSPACE){let u=this.specialCharacters().includes(this._maskService.actualValue.slice(o-1,o)),d=this._maskService.removeMask(this._inputValue())?.length===this._maskService.removeMask(this._maskService.maskExpression)?.length,p=this.specialCharacters().includes(this._maskService.actualValue.slice(o,o+1));d&&!p?o=r.selectionStart+1:o=u?o-1:o}else o=r.selectionStart===1?r.selectionStart+this._maskService.prefix.length:r.selectionStart;this._position.set(this._position()===1&&this._inputValue().length===1?null:this._position());let c=this._position()?this._inputValue().length+o+s:o+(this._code()===E.BACKSPACE&&!a?0:s);c>this._getActualInputLength()&&(c=r.value===this._maskService.decimalMarker&&r.value.length===1?this._getActualInputLength()+1:this._getActualInputLength()),c<0&&(c=0),r.setSelectionRange(c,c),this._position.set(null)}else console.warn("Ngx-mask writeValue work with string | number, your current value:",typeof i);else{if(!this._maskValue()){this.onChange(r.value);return}this._maskService.applyValueChanges(r.value.length,this._justPasted(),this._code()===E.BACKSPACE||this._code()===E.DELETE)}}onCompositionStart(){this._isComposing.set(!0)}onCompositionEnd(t){this._isComposing.set(!1),this._justPasted.set(!0),this.onInput(t)}onBlur(t){if(this._maskValue()){let r=t.target;if(this._maskService.leadZero&&r.value.length>0&&typeof this._maskService.decimalMarker=="string"){let i=this._maskService.maskExpression,o=this._maskService.decimalMarker,s=this._maskService.suffix,a=Number(this._maskService.maskExpression.slice(i.length-1,i.length));if(a>0){r.value=s?r.value.split(s).join(""):r.value;let c=r.value.split(o)[1];r.value=r.value.includes(o)?r.value+E.NUMBER_ZERO.repeat(a-c.length)+s:r.value+o+E.NUMBER_ZERO.repeat(a)+s,this._maskService.actualValue=r.value}}this._maskService.clearIfNotMatchFn()}this._isFocused.set(!1),this.onTouch()}onClick(t){if(!this._maskValue())return;let r=t.target,i=0,o=0;r!==null&&r.selectionStart!==null&&r.selectionStart===r.selectionEnd&&r.selectionStart>this._maskService.prefix.length&&t.keyCode!==38&&this._maskService.showMaskTyped&&!this.keepCharacterPositions()&&(this._maskService.maskIsShown=this._maskService.showMaskInInput(),r.setSelectionRange&&this._maskService.prefix+this._maskService.maskIsShown===r.value?(r.focus(),r.setSelectionRange(i,o)):r.selectionStart>this._maskService.actualValue.length&&r.setSelectionRange(this._maskService.actualValue.length,this._maskService.actualValue.length));let s=r&&(r.value===this._maskService.prefix?this._maskService.prefix+this._maskService.maskIsShown:r.value);if(r&&r.value!==s&&(r.value=s),r&&r.type!=="number"&&(r.selectionStart||r.selectionEnd)<=this._maskService.prefix.length){let a=this._maskService.maskExpression.match(new RegExp(`^[${this._maskService.specialCharacters.map(c=>`\\${c}`).join("")}]+`))?.[0].length||0;r.selectionStart=this._maskService.prefix.length+a;return}r&&r.selectionEnd>this._getActualInputLength()&&(r.selectionEnd=this._getActualInputLength())}onKeyDown(t){if(!this._maskValue())return;if(this._isComposing()){t.key==="Enter"&&this.onCompositionEnd(t);return}this._code.set(t.code?t.code:t.key);let r=t.target;this._inputValue.set(r.value),this._setMask();let i=r.tagName.toLowerCase()==="textarea";if(r.type!=="number"){if(t.key===E.ARROW_UP&&!i&&t.preventDefault(),t.key===E.ARROW_LEFT||t.key===E.BACKSPACE||t.key===E.DELETE){if(t.key===E.BACKSPACE&&r.value.length===0&&(r.selectionStart=r.selectionEnd),t.key===E.BACKSPACE&&r.selectionStart!==0){let s=this.prefix().length,a=this.specialCharacters().length?this.specialCharacters():this._config.specialCharacters;if(s>1&&r.selectionStart<=s)r.setSelectionRange(s,r.selectionEnd);else if(this._inputValue().length!==r.selectionStart&&r.selectionStart!==1)for(;a.includes((this._inputValue()[r.selectionStart-1]??E.EMPTY_STRING).toString())&&(s>=1&&r.selectionStart>s||s===0);)r.setSelectionRange(r.selectionStart-1,r.selectionEnd)}this.checkSelectionOnDeletion(r),this._maskService.prefix.length&&r.selectionStart<=this._maskService.prefix.length&&r.selectionEnd<=this._maskService.prefix.length&&t.preventDefault();let o=r.selectionStart;t.key===E.BACKSPACE&&!r.readOnly&&o===0&&r.selectionEnd===r.value.length&&r.value.length!==0&&(this._position.set(this._maskService.prefix?this._maskService.prefix.length:0),this._maskService.applyMask(this._maskService.prefix,this._maskService.maskExpression,this._position()))}this.suffix()&&this.suffix().length>1&&this._inputValue().length-this.suffix().length<r.selectionStart?r.setSelectionRange(this._inputValue().length-this.suffix().length,this._inputValue().length):(t.code==="KeyA"&&t.ctrlKey||t.code==="KeyA"&&t.metaKey)&&(r.setSelectionRange(0,this._getActualInputLength()),t.preventDefault()),this._maskService.selStart=r.selectionStart,this._maskService.selEnd=r.selectionEnd}}writeValue(t){return I(this,null,function*(){let r=t,i=this._maskService.inputTransformFn;if(typeof r=="object"&&r!==null&&"value"in r&&("disable"in r&&this.setDisabledState(!!r.disable),r=r.value),r!==null&&(r=i?i(r):r),typeof r=="string"||typeof r=="number"||r===null||typeof r>"u"){(r===null||typeof r>"u"||r==="")&&(this._maskService.currentValue="",this._maskService.previousValue="");let o=r;if(typeof o=="number"||this._maskValue().startsWith(E.SEPARATOR)){o=String(o);let s=this._maskService.currentLocaleDecimalMarker();Array.isArray(this._maskService.decimalMarker)||(o=this._maskService.decimalMarker!==s?o.replace(s,this._maskService.decimalMarker):o),this._maskService.leadZero&&o&&this.mask()&&this.dropSpecialCharacters()!==!1&&(o=this._maskService._checkPrecision(this._maskService.maskExpression,o)),(this._maskService.decimalMarker===E.COMMA||Array.isArray(this._maskService.decimalMarker)&&this._maskService.thousandSeparator===E.DOT)&&(o=o.toString().replace(E.DOT,E.COMMA)),this.mask()?.startsWith(E.SEPARATOR)&&this.leadZero()&&requestAnimationFrame(()=>{this._maskService.applyMask(o?.toString()??"",this._maskService.maskExpression)}),this._maskService.isNumberValue=!0}(typeof o!="string"||r===null||typeof r>"u")&&(o=""),this._inputValue.set(o),this._setMask(),o&&this._maskService.maskExpression||this._maskService.maskExpression&&(this._maskService.prefix||this._maskService.showMaskTyped)?(this._maskService.writingValue=!0,this._maskService.formElementProperty=["value",this._maskService.applyMask(o,this._maskService.maskExpression)],this._maskService.writingValue=!1,this._maskService.isInitialized=!0):(this._maskService.formElementProperty=["value",o],this._maskService.isInitialized=!0),this._inputValue.set(o)}else console.warn("Ngx-mask writeValue work with string | number, your current value:",typeof r)})}registerOnChange(t){this._maskService.onChange=this.onChange=t}registerOnTouched(t){this.onTouch=t}_getActiveElement(t=this.document){let r=t?.activeElement?.shadowRoot;return r?.activeElement?this._getActiveElement(r):t.activeElement}checkSelectionOnDeletion(t){let r=this.prefix().length,i=this.suffix().length,o=this._inputValue().length;t.selectionStart=Math.min(Math.max(r,t.selectionStart),o-i),t.selectionEnd=Math.min(Math.max(r,t.selectionEnd),o-i)}setDisabledState(t){this._maskService.formElementProperty=["disabled",t]}_applyMask(){this._maskService.maskExpression=this._maskService._repeatPatternSymbols(this._maskValue()||""),this._maskService.formElementProperty=["value",this._maskService.applyMask(this._inputValue(),this._maskService.maskExpression)]}_validateTime(t){let r=this._maskValue().split(E.EMPTY_STRING).filter(i=>i!==":").length;return t&&(+(t[t.length-1]??-1)==0&&t.length<r||t.length<=r-2)?this._createValidationError(t):null}_getActualInputLength(){return this._maskService.actualValue.length||this._maskService.actualValue.length+this._maskService.prefix.length}_createValidationError(t){return{mask:{requiredMask:this._maskValue(),actualValue:t}}}_setMask(){this._maskExpressionArray().some(t=>{if(t.split(E.EMPTY_STRING).some(i=>this._maskService.specialCharacters.includes(i))&&this._inputValue()&&this._areAllCharactersInEachStringSame(this._maskExpressionArray())||t.includes(E.CURLY_BRACKETS_LEFT)){let i=this._maskService.removeMask(this._inputValue())?.length<=this._maskService.removeMask(t)?.length;if(i){let o=t.includes(E.CURLY_BRACKETS_LEFT)?this._maskService._repeatPatternSymbols(t):t;return this._maskValue.set(o),this._maskService.maskExpression=o,i}else{let o=this._maskExpressionArray()[this._maskExpressionArray().length-1]??E.EMPTY_STRING,s=o.includes(E.CURLY_BRACKETS_LEFT)?this._maskService._repeatPatternSymbols(o):o;this._maskValue.set(s),this._maskService.maskExpression=s}}else{let i=this._maskService.removeMask(t),o=this._maskService.removeMask(this._inputValue())?.split(E.EMPTY_STRING).every((s,a)=>{let c=i.charAt(a);return this._maskService._checkSymbolMask(s,c)});if(o||this._justPasted())return this._maskValue.set(t),this._maskService.maskExpression=t,o}})}_areAllCharactersInEachStringSame(t){let r=this._maskService.specialCharacters;function i(s){let a=new RegExp(`[${r.map(c=>`\\${c}`).join("")}]`,"g");return s.replace(a,"")}return t.map(i).every(s=>new Set(s).size===1)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=lt({type:n,selectors:[["input","mask",""],["textarea","mask",""]],hostBindings:function(r,i){r&1&&H("paste",function(){return i.onPaste()})("focus",function(s){return i.onFocus(s)})("ngModelChange",function(s){return i.onModelChange(s)})("input",function(s){return i.onInput(s)})("compositionstart",function(s){return i.onCompositionStart(s)})("compositionend",function(s){return i.onCompositionEnd(s)})("blur",function(s){return i.onBlur(s)})("click",function(s){return i.onClick(s)})("keydown",function(s){return i.onKeyDown(s)})},inputs:{mask:[1,"mask"],specialCharacters:[1,"specialCharacters"],patterns:[1,"patterns"],prefix:[1,"prefix"],suffix:[1,"suffix"],thousandSeparator:[1,"thousandSeparator"],decimalMarker:[1,"decimalMarker"],dropSpecialCharacters:[1,"dropSpecialCharacters"],hiddenInput:[1,"hiddenInput"],showMaskTyped:[1,"showMaskTyped"],placeHolderCharacter:[1,"placeHolderCharacter"],shownMaskExpression:[1,"shownMaskExpression"],clearIfNotMatch:[1,"clearIfNotMatch"],validation:[1,"validation"],separatorLimit:[1,"separatorLimit"],allowNegativeNumbers:[1,"allowNegativeNumbers"],leadZeroDateTime:[1,"leadZeroDateTime"],leadZero:[1,"leadZero"],triggerOnMaskChange:[1,"triggerOnMaskChange"],apm:[1,"apm"],inputTransformFn:[1,"inputTransformFn"],outputTransformFn:[1,"outputTransformFn"],keepCharacterPositions:[1,"keepCharacterPositions"],instantPrefix:[1,"instantPrefix"]},outputs:{maskFilled:"maskFilled"},exportAs:["mask","ngxMask"],features:[zt([{provide:fa,useExisting:n,multi:!0},{provide:Yc,useExisting:n,multi:!0},SI]),Ur]})}return n})();function aZ(n,e){if(n&1){let t=Ge();h(0,"div",51)(1,"span"),w(2),g(),h(3,"button",52),H("click",function(){let i=U(t).$implicit,o=j(2);return B(o.removeSpecification(i.key))}),w(4,"X"),g()()}if(n&2){let t=e.$implicit;C(2),Bu("",t.key,": ",t.value,"")}}function cZ(n,e){if(n&1&&(h(0,"div",49),oe(1,aZ,5,2,"div",50),g()),n&2){let t=j();C(),W("ngForOf",t.getSpecificationsArray(t.newAsset.specifications))}}function lZ(n,e){n&1&&(h(0,"p",53),w(1,"Nenhuma especifica\xE7\xE3o adicionada."),g())}function uZ(n,e){if(n&1){let t=Ge();h(0,"div",56)(1,"span"),w(2),jr(3,"date"),g(),h(4,"button",52),H("click",function(){let i=U(t).index,o=j(2);return B(o.removeMaintenance(i))}),w(5,"X"),g()()}if(n&2){let t=e.$implicit;C(2),Iw("",no(3,3,t.date,"dd/MM/yyyy")," - ",t.type," por ",t.technician,"")}}function dZ(n,e){if(n&1&&(h(0,"div",54),oe(1,uZ,6,6,"div",55),g()),n&2){let t=j();C(),W("ngForOf",t.newAsset.maintenanceHistory)}}function hZ(n,e){n&1&&(h(0,"p",53),w(1,"Nenhum registro de manuten\xE7\xE3o."),g())}var M_=class n{firestoreService=F(Rl);router=F(Ye);newAsset;currentSpecKey="";currentSpecValue="";newMaintenanceRecord={date:new Date,type:"",description:"",technician:""};constructor(){this.newAsset={name:"",serialNumber:"",type:"",category:"computers",status:"Ativo",location:"",responsible:"",description:"",patrimony:"",lastMaintenance:new Date,specifications:{},maintenanceHistory:[]}}ngOnInit(){}addSpecification(){this.currentSpecKey&&this.currentSpecValue&&(this.newAsset.specifications||(this.newAsset.specifications={}),this.newAsset.specifications[this.currentSpecKey]=this.currentSpecValue,this.currentSpecKey="",this.currentSpecValue="")}removeSpecification(e){this.newAsset.specifications&&delete this.newAsset.specifications[e]}addMaintenance(){this.newMaintenanceRecord.type&&this.newMaintenanceRecord.description&&this.newMaintenanceRecord.technician&&(this.newAsset.maintenanceHistory||(this.newAsset.maintenanceHistory=[]),this.newAsset.maintenanceHistory.push(ue(z({},this.newMaintenanceRecord),{date:new Date(this.newMaintenanceRecord.date)})),this.newMaintenanceRecord={date:new Date,type:"",description:"",technician:""})}removeMaintenance(e){this.newAsset.maintenanceHistory&&this.newAsset.maintenanceHistory.splice(e,1)}onSubmit(){return I(this,null,function*(){let e={name:this.newAsset.name||"",serialNumber:this.newAsset.serialNumber||"",type:this.newAsset.type||"",category:this.newAsset.category||"computers",status:this.newAsset.status||"Ativo",location:this.newAsset.location||"",responsible:this.newAsset.responsible||"",description:this.newAsset.description||"",patrimony:this.newAsset.patrimony||"",lastMaintenance:this.newAsset.lastMaintenance||new Date,specifications:this.newAsset.specifications||{},maintenanceHistory:this.newAsset.maintenanceHistory||[]};try{yield this.firestoreService.addAsset(e),alert("Ativo adicionado com sucesso!"),this.router.navigate(["/ativos"])}catch(t){console.error("Erro ao adicionar ativo:",t),alert("Erro ao adicionar ativo.")}})}getSpecificationsArray(e){return e?Object.entries(e).map(([t,r])=>({key:t,value:r})):[]}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Tt({type:n,selectors:[["app-asset-form"]],features:[zt([Kt,oV()])],decls:93,vars:20,consts:[[1,"form-container"],[3,"ngSubmit"],[1,"form-section"],[1,"form-grid"],[1,"form-group"],["for","name"],["id","name","type","text","name","name","required","",3,"ngModelChange","ngModel"],["for","patrimony"],["id","patrimony","type","text","name","patrimony","required","","mask","000",3,"ngModelChange","ngModel"],["for","serialNumber"],["id","serialNumber","type","text","name","serialNumber","required","",3,"ngModelChange","ngModel"],["for","type"],["id","type","type","text","name","type","required","",3,"ngModelChange","ngModel"],["for","category"],["id","category","name","category","required","",3,"ngModelChange","ngModel"],["value","computers"],["value","printers"],["value","monitors"],["value","accessories"],["value","other"],["for","status"],["id","status","name","status","required","",3,"ngModelChange","ngModel"],["value","Ativo"],["value","Inativo"],["value","Manuten\xE7\xE3o"],["value","Aposentado"],["for","location"],["id","location","type","text","name","location","required","",3,"ngModelChange","ngModel"],["for","responsible"],["id","responsible","type","text","name","responsible","required","",3,"ngModelChange","ngModel"],[1,"form-group","full-width"],["for","description"],["id","description","name","description","rows","3",3,"ngModelChange","ngModel"],["for","lastMaintenance"],["id","lastMaintenance","type","date","name","lastMaintenance",3,"ngModelChange","ngModel"],[1,"spec-input-group"],["type","text","placeholder","Chave (Ex: Processador)","name","currentSpecKey",3,"ngModelChange","ngModel"],["type","text","placeholder","Valor (Ex: Intel i7)","name","currentSpecValue",3,"ngModelChange","ngModel"],["type","button",1,"btn","btn-secondary",3,"click"],["class","spec-list",4,"ngIf"],["class","no-items",4,"ngIf"],[1,"maintenance-input-group"],["type","date","name","maintenanceDate",3,"ngModelChange","ngModel"],["type","text","placeholder","Tipo (Ex: Preventiva)","name","maintenanceType",3,"ngModelChange","ngModel"],["type","text","placeholder","Descri\xE7\xE3o","name","maintenanceDescription",3,"ngModelChange","ngModel"],["type","text","placeholder","T\xE9cnico","name","maintenanceTechnician",3,"ngModelChange","ngModel"],["class","maintenance-list",4,"ngIf"],[1,"form-actions"],["type","submit",1,"btn","btn-primary"],[1,"spec-list"],["class","spec-item",4,"ngFor","ngForOf"],[1,"spec-item"],["type","button",1,"btn-remove",3,"click"],[1,"no-items"],[1,"maintenance-list"],["class","maintenance-item",4,"ngFor","ngForOf"],[1,"maintenance-item"]],template:function(t,r){t&1&&(h(0,"div",0)(1,"h1"),w(2,"Cadastrar Novo Ativo"),g(),h(3,"form",1),H("ngSubmit",function(){return r.onSubmit()}),h(4,"section",2)(5,"h2"),w(6,"Informa\xE7\xF5es B\xE1sicas"),g(),h(7,"div",3)(8,"div",4)(9,"label",5),w(10,"Nome do Ativo"),g(),h(11,"input",6),we("ngModelChange",function(o){return Ee(r.newAsset.name,o)||(r.newAsset.name=o),o}),g()(),h(12,"div",4)(13,"label",7),w(14,"Patrim\xF4nio"),g(),h(15,"input",8),we("ngModelChange",function(o){return Ee(r.newAsset.patrimony,o)||(r.newAsset.patrimony=o),o}),g()(),h(16,"div",4)(17,"label",9),w(18,"N\xFAmero de S\xE9rie"),g(),h(19,"input",10),we("ngModelChange",function(o){return Ee(r.newAsset.serialNumber,o)||(r.newAsset.serialNumber=o),o}),g()(),h(20,"div",4)(21,"label",11),w(22,"Tipo"),g(),h(23,"input",12),we("ngModelChange",function(o){return Ee(r.newAsset.type,o)||(r.newAsset.type=o),o}),g()(),h(24,"div",4)(25,"label",13),w(26,"Categoria"),g(),h(27,"select",14),we("ngModelChange",function(o){return Ee(r.newAsset.category,o)||(r.newAsset.category=o),o}),h(28,"option",15),w(29,"Computadores"),g(),h(30,"option",16),w(31,"Impressoras"),g(),h(32,"option",17),w(33,"Monitores"),g(),h(34,"option",18),w(35,"Acess\xF3rios"),g(),h(36,"option",19),w(37,"Outros"),g()()(),h(38,"div",4)(39,"label",20),w(40,"Status"),g(),h(41,"select",21),we("ngModelChange",function(o){return Ee(r.newAsset.status,o)||(r.newAsset.status=o),o}),h(42,"option",22),w(43,"Ativo"),g(),h(44,"option",23),w(45,"Inativo"),g(),h(46,"option",24),w(47,"Manuten\xE7\xE3o"),g(),h(48,"option",25),w(49,"Aposentado"),g()()(),h(50,"div",4)(51,"label",26),w(52,"Localiza\xE7\xE3o"),g(),h(53,"input",27),we("ngModelChange",function(o){return Ee(r.newAsset.location,o)||(r.newAsset.location=o),o}),g()(),h(54,"div",4)(55,"label",28),w(56,"Respons\xE1vel"),g(),h(57,"input",29),we("ngModelChange",function(o){return Ee(r.newAsset.responsible,o)||(r.newAsset.responsible=o),o}),g()(),h(58,"div",30)(59,"label",31),w(60,"Descri\xE7\xE3o"),g(),h(61,"textarea",32),we("ngModelChange",function(o){return Ee(r.newAsset.description,o)||(r.newAsset.description=o),o}),g()(),h(62,"div",4)(63,"label",33),w(64,"\xDAltima Manuten\xE7\xE3o (opcional)"),g(),h(65,"input",34),we("ngModelChange",function(o){return Ee(r.newAsset.lastMaintenance,o)||(r.newAsset.lastMaintenance=o),o}),g()()()(),h(66,"section",2)(67,"h2"),w(68,"Especifica\xE7\xF5es T\xE9cnicas (Opcional)"),g(),h(69,"div",35)(70,"input",36),we("ngModelChange",function(o){return Ee(r.currentSpecKey,o)||(r.currentSpecKey=o),o}),g(),h(71,"input",37),we("ngModelChange",function(o){return Ee(r.currentSpecValue,o)||(r.currentSpecValue=o),o}),g(),h(72,"button",38),H("click",function(){return r.addSpecification()}),w(73,"Adicionar"),g()(),oe(74,cZ,2,1,"div",39)(75,lZ,2,0,"p",40),g(),h(76,"section",2)(77,"h2"),w(78,"Hist\xF3rico de Manuten\xE7\xE3o (Opcional)"),g(),h(79,"div",41)(80,"input",42),we("ngModelChange",function(o){return Ee(r.newMaintenanceRecord.date,o)||(r.newMaintenanceRecord.date=o),o}),g(),h(81,"input",43),we("ngModelChange",function(o){return Ee(r.newMaintenanceRecord.type,o)||(r.newMaintenanceRecord.type=o),o}),g(),h(82,"input",44),we("ngModelChange",function(o){return Ee(r.newMaintenanceRecord.description,o)||(r.newMaintenanceRecord.description=o),o}),g(),h(83,"input",45),we("ngModelChange",function(o){return Ee(r.newMaintenanceRecord.technician,o)||(r.newMaintenanceRecord.technician=o),o}),g(),h(84,"button",38),H("click",function(){return r.addMaintenance()}),w(85,"Adicionar"),g()(),oe(86,dZ,2,1,"div",46)(87,hZ,2,0,"p",40),g(),h(88,"div",47)(89,"button",38),H("click",function(){return r.router.navigate(["/ativos"])}),w(90,"Cancelar"),g(),h(91,"button",48),w(92,"Salvar Ativo"),g()()()()),t&2&&(C(11),ye("ngModel",r.newAsset.name),C(4),ye("ngModel",r.newAsset.patrimony),C(4),ye("ngModel",r.newAsset.serialNumber),C(4),ye("ngModel",r.newAsset.type),C(4),ye("ngModel",r.newAsset.category),C(14),ye("ngModel",r.newAsset.status),C(12),ye("ngModel",r.newAsset.location),C(4),ye("ngModel",r.newAsset.responsible),C(4),ye("ngModel",r.newAsset.description),C(4),ye("ngModel",r.newAsset.lastMaintenance),C(5),ye("ngModel",r.currentSpecKey),C(),ye("ngModel",r.currentSpecValue),C(3),W("ngIf",r.newAsset.specifications&&r.getSpecificationsArray(r.newAsset.specifications).length>0),C(),W("ngIf",!r.newAsset.specifications||r.getSpecificationsArray(r.newAsset.specifications).length===0),C(5),ye("ngModel",r.newMaintenanceRecord.date),C(),ye("ngModel",r.newMaintenanceRecord.type),C(),ye("ngModel",r.newMaintenanceRecord.description),C(),ye("ngModel",r.newMaintenanceRecord.technician),C(3),W("ngIf",r.newAsset.maintenanceHistory&&r.newAsset.maintenanceHistory.length>0),C(),W("ngIf",!r.newAsset.maintenanceHistory||r.newAsset.maintenanceHistory.length===0))},dependencies:[Mt,hr,qt,Kt,mr,es,ts,ns,pr,bi,gr,Xo,Ci,Xn,io,sV],styles:[".form-container[_ngcontent-%COMP%]{max-width:800px;margin:var(--spacing-2xl) auto;padding:var(--spacing-lg);background-color:var(--secondary-bg);border-radius:var(--radius-lg);box-shadow:var(--shadow-md);color:var(--primary-text)}.form-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:24px;margin-bottom:var(--spacing-xl);color:var(--primary-text);text-align:center}.form-container[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{margin-bottom:var(--spacing-xl);padding-bottom:var(--spacing-md);border-bottom:1px solid var(--border-color)}.form-container[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:18px;color:var(--accent-blue);margin-bottom:var(--spacing-lg);border-bottom:2px solid var(--accent-blue);padding-bottom:var(--spacing-sm)}.form-container[_ngcontent-%COMP%]   .form-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:var(--spacing-md)}.form-container[_ngcontent-%COMP%]   .form-grid[_ngcontent-%COMP%]   .full-width[_ngcontent-%COMP%]{grid-column:1/-1}.form-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:var(--spacing-sm)}.form-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:14px;font-weight:500;margin-bottom:var(--spacing-xs);color:var(--secondary-text)}.form-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], .form-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=date][_ngcontent-%COMP%], .form-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%], .form-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:var(--spacing-sm);border:1px solid var(--border-color);border-radius:var(--radius-md);background-color:var(--tertiary-bg);color:var(--primary-text);font-size:16px;transition:border-color .2s ease}.form-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]:focus, .form-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=date][_ngcontent-%COMP%]:focus, .form-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus, .form-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--accent-blue)}.form-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical}.form-container[_ngcontent-%COMP%]   .spec-input-group[_ngcontent-%COMP%], .form-container[_ngcontent-%COMP%]   .maintenance-input-group[_ngcontent-%COMP%]{display:flex;gap:var(--spacing-sm);margin-bottom:var(--spacing-md);flex-wrap:wrap}.form-container[_ngcontent-%COMP%]   .spec-input-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-container[_ngcontent-%COMP%]   .maintenance-input-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1;min-width:120px;padding:var(--spacing-sm);border:1px solid var(--border-color);border-radius:var(--radius-md);background-color:var(--tertiary-bg);color:var(--primary-text);font-size:14px}.form-container[_ngcontent-%COMP%]   .spec-input-group[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%], .form-container[_ngcontent-%COMP%]   .maintenance-input-group[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]{flex-shrink:0}.form-container[_ngcontent-%COMP%]   .spec-list[_ngcontent-%COMP%], .form-container[_ngcontent-%COMP%]   .maintenance-list[_ngcontent-%COMP%]{background-color:var(--tertiary-bg);border:1px solid var(--border-color);border-radius:var(--radius-md);padding:var(--spacing-sm);max-height:200px;overflow-y:auto}.form-container[_ngcontent-%COMP%]   .spec-item[_ngcontent-%COMP%], .form-container[_ngcontent-%COMP%]   .maintenance-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:var(--spacing-xs) var(--spacing-sm);border-bottom:1px dashed var(--border-color)}.form-container[_ngcontent-%COMP%]   .spec-item[_ngcontent-%COMP%]:last-child, .form-container[_ngcontent-%COMP%]   .maintenance-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.form-container[_ngcontent-%COMP%]   .spec-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .form-container[_ngcontent-%COMP%]   .maintenance-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--primary-text);font-size:14px}.form-container[_ngcontent-%COMP%]   .spec-item[_ngcontent-%COMP%]   .btn-remove[_ngcontent-%COMP%], .form-container[_ngcontent-%COMP%]   .maintenance-item[_ngcontent-%COMP%]   .btn-remove[_ngcontent-%COMP%]{background-color:var(--error-color);color:#fff;border:none;border-radius:var(--radius-sm);width:24px;height:24px;display:flex;align-items:center;justify-content:center;cursor:pointer;font-size:12px;line-height:1;transition:background-color .2s ease}.form-container[_ngcontent-%COMP%]   .spec-item[_ngcontent-%COMP%]   .btn-remove[_ngcontent-%COMP%]:hover, .form-container[_ngcontent-%COMP%]   .maintenance-item[_ngcontent-%COMP%]   .btn-remove[_ngcontent-%COMP%]:hover{background-color:#c71a25}.form-container[_ngcontent-%COMP%]   .no-items[_ngcontent-%COMP%]{color:var(--secondary-text);font-style:italic;text-align:center;padding:var(--spacing-md)}.form-container[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:var(--spacing-md);margin-top:var(--spacing-xl)}@media (max-width: 768px){.form-container[_ngcontent-%COMP%]   .form-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.form-container[_ngcontent-%COMP%]   .spec-input-group[_ngcontent-%COMP%], .form-container[_ngcontent-%COMP%]   .maintenance-input-group[_ngcontent-%COMP%]{flex-direction:column}.form-container[_ngcontent-%COMP%]   .spec-input-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-container[_ngcontent-%COMP%]   .maintenance-input-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{min-width:unset}.form-container[_ngcontent-%COMP%]   .spec-input-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .form-container[_ngcontent-%COMP%]   .maintenance-input-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}}"]})};var aL=Z3(sL());var sJ=["qrCanvas"];function aJ(n,e){if(n&1){let t=Ge();h(0,"article",35),H("click",function(){let i=U(t).$implicit,o=j(2);return B(o.selectTicket(i))})("keydown.enter",function(){let i=U(t).$implicit,o=j(2);return B(o.selectTicket(i))})("keydown.space",function(){let i=U(t).$implicit,o=j(2);return B(o.selectTicket(i))}),V(1,"div",36),h(2,"div",37)(3,"div",38)(4,"h3",39),w(5),g(),h(6,"div",40)(7,"span",41),w(8),g(),h(9,"span",42),w(10,"\u2022"),g(),h(11,"span",43),w(12),jr(13,"date"),g()()(),h(14,"p",44),w(15),g(),h(16,"div",45)(17,"div",46)(18,"span",47),w(19,"Equipamento:"),g(),h(20,"span",48),w(21),g()(),h(22,"div",46)(23,"span",47),w(24,"Solicitante:"),g(),h(25,"span",48),w(26),g()(),h(27,"div",46)(28,"span",47),w(29,"\xDAltima modifica\xE7\xE3o:"),g(),h(30,"span",48),w(31),jr(32,"date"),g()()()(),h(33,"div",49)(34,"div",50)(35,"span",51),w(36),g(),h(37,"span",52),w(38),g()(),h(39,"div",53)(40,"button",54),H("click",function(i){let o=U(t).$implicit,s=j(2);return i.stopPropagation(),B(s.editTicket(o))}),$(),h(41,"svg",55),V(42,"path",56),g()(),Y(),h(43,"button",54),H("click",function(i){let o=U(t).$implicit,s=j(2);return i.stopPropagation(),B(s.openTicketMenu(o))}),$(),h(44,"svg",55),V(45,"path",57),g()()()()()}if(n&2){let t=e.$implicit,r=j(2);_e("selected",(r.selectedTicket==null?null:r.selectedTicket.id)===t.id),ae("aria-label","Chamado "+t.id+": "+t.title+". Prioridade: "+t.priority+". Status: "+t.status),C(),ut("priority-"+t.priority.toLowerCase()),ae("aria-label","Prioridade "+t.priority),C(4),ce(t.title),C(3),Be("#",t.id,""),C(4),ce(no(13,23,t.createdAt,"dd/MM/yyyy")),C(3),ce(t.description),C(6),ce(t.equipment),C(5),ce(t.requester),C(5),ce(no(32,26,t.lastModified,"dd/MM/yyyy HH:mm")),C(4),ut("badge-"+t.priority.toLowerCase()),ae("aria-label","Prioridade "+t.priority),C(),Be(" ",t.priority," "),C(),ut("status-"+t.status.toLowerCase().replace(" ","-")),ae("aria-label","Status "+t.status),C(),Be(" ",t.status," "),C(2),ae("aria-label","Editar chamado "+t.id),C(3),ae("aria-label","Mais op\xE7\xF5es para chamado "+t.id)}}function cJ(n,e){if(n&1&&(h(0,"div",33),oe(1,aJ,46,29,"article",34),g()),n&2){let t=j();C(),W("ngForOf",t.tickets)("ngForTrackBy",t.trackTicket)}}function lJ(n,e){if(n&1){let t=Ge();h(0,"div",58)(1,"div",59),$(),h(2,"svg",60),V(3,"path",61),g()(),Y(),h(4,"h3",62),w(5,"Nenhum chamado encontrado"),g(),h(6,"p",63),w(7,"N\xE3o h\xE1 chamados que correspondam aos filtros aplicados."),g(),h(8,"button",64),H("click",function(){U(t);let i=j();return B(i.clearFilters())}),w(9," Limpar Filtros "),g()()}}function uJ(n,e){n&1&&(h(0,"div",87),V(1,"div",88),h(2,"span"),w(3,"Gerando QR Code..."),g()())}function dJ(n,e){if(n&1){let t=Ge();h(0,"aside",65)(1,"div",16)(2,"header",17)(3,"div",18)(4,"h2",66),w(5,"QR Code do Chamado"),g(),h(6,"p",20),w(7),g()(),h(8,"div",8)(9,"button",67),H("click",function(){U(t);let i=j();return B(i.regenerateQRCode())}),$(),h(10,"svg",10),V(11,"path",68),g()()()(),Y(),h(12,"div",69)(13,"div",70)(14,"div",71),V(15,"canvas",72,1),oe(17,uJ,4,0,"div",73),g()(),h(18,"div",74)(19,"h3",75),w(20,"Informa\xE7\xF5es Codificadas"),g(),h(21,"div",76)(22,"div",77)(23,"span",78),w(24,"ID do Chamado:"),g(),h(25,"span",79),w(26),g()(),h(27,"div",77)(28,"span",78),w(29,"Equipamento:"),g(),h(30,"span",79),w(31),g()(),h(32,"div",77)(33,"span",78),w(34,"Data de Modifica\xE7\xE3o:"),g(),h(35,"span",79),w(36),jr(37,"date"),g()(),h(38,"div",77)(39,"span",78),w(40,"\xDAltima Altera\xE7\xE3o:"),g(),h(41,"span",79),w(42),g()()()(),h(43,"div",80)(44,"button",81),H("click",function(){U(t);let i=j();return B(i.printQRCode())}),$(),h(45,"svg",10),V(46,"path",82),g(),w(47," Imprimir "),g(),Y(),h(48,"button",83),H("click",function(){U(t);let i=j();return B(i.downloadQRCode())}),$(),h(49,"svg",10),V(50,"path",84),g(),w(51," Baixar Etiqueta "),g(),Y(),h(52,"button",85),H("click",function(){U(t);let i=j();return B(i.copyQRData())}),$(),h(53,"svg",10),V(54,"path",86),g(),w(55," Copiar Dados "),g()()()()()}if(n&2){let t=j();C(7),ce(t.selectedTicket.title),C(6),ae("aria-label","QR Code para o chamado "+t.selectedTicket.id),C(2),ae("aria-label","QR Code contendo informa\xE7\xF5es do chamado "+t.selectedTicket.id),C(2),W("ngIf",t.isGeneratingQR),C(9),Be("#",t.selectedTicket.id,""),C(5),ce(t.selectedTicket.equipment),C(5),ce(no(37,8,t.selectedTicket.lastModified,"dd/MM/yyyy HH:mm")),C(6),ce(t.selectedTicket.lastChange)}}function hJ(n,e){n&1&&(h(0,"aside",89)(1,"div",90)(2,"div",91),$(),h(3,"svg",92),V(4,"path",93),g()(),Y(),h(5,"h3",94),w(6,"Selecione um Chamado"),g(),h(7,"p",95),w(8," Escolha um chamado da lista para visualizar e gerar o QR Code correspondente. "),g()()())}function fJ(n,e){n&1&&($(),h(0,"svg",10),V(1,"path",101),g())}function pJ(n,e){n&1&&($(),h(0,"svg",10),V(1,"path",102),g())}function gJ(n,e){if(n&1){let t=Ge();h(0,"div",96)(1,"div",97),oe(2,fJ,2,0,"svg",98)(3,pJ,2,0,"svg",98),h(4,"span"),w(5),g()(),h(6,"button",99),H("click",function(){U(t);let i=j();return B(i.closeToast())}),$(),h(7,"svg",55),V(8,"path",100),g()()()}if(n&2){let t=j();ut("toast-"+t.toastType),C(2),W("ngIf",t.toastType==="success"),C(),W("ngIf",t.toastType==="error"),C(2),ce(t.toastMessage)}}var B_=class n{qrCanvas;router=F(Ye);datePipe=F(Kt);destroy$=new Xe;viewMode="list";selectedTicket=null;isGeneratingQR=!1;toastMessage="";toastType="info";toastTimeout;tickets=[{id:"001",title:"Problema na impressora HP LaserJet",description:"Impressora n\xE3o est\xE1 funcionando corretamente, apresentando falhas de impress\xE3o e ru\xEDdos estranhos.",priority:"Alta",status:"Aberto",equipment:"HP LaserJet Pro 404n",requester:"Maria Santos",createdAt:new Date("2024-10-08T09:30:00"),lastModified:new Date("2024-10-10T14:20:00"),lastChange:"Substitui\xE7\xE3o do toner"},{id:"002",title:"Computador n\xE3o liga",description:"Desktop do setor financeiro n\xE3o est\xE1 ligando. LED da fonte pisca mas n\xE3o h\xE1 resposta.",priority:"M\xE9dia",status:"Em Andamento",equipment:"Dell OptiPlex 3070",requester:"Jo\xE3o Silva",createdAt:new Date("2024-10-09T11:15:00"),lastModified:new Date("2024-10-10T16:45:00"),lastChange:"Verifica\xE7\xE3o da fonte de alimenta\xE7\xE3o"},{id:"003",title:"Monitor com tela piscando",description:"Monitor do usu\xE1rio apresenta intermit\xEAncia na imagem, principalmente ao ligar.",priority:"Baixa",status:"Pendente",equipment:"LG UltraWide 29WP60G",requester:"Ana Costa",createdAt:new Date("2024-10-07T15:45:00"),lastModified:new Date("2024-10-09T10:30:00"),lastChange:"Ajuste de configura\xE7\xF5es de v\xEDdeo"},{id:"004",title:"Notebook com superaquecimento",description:"Laptop apresenta temperatura elevada e desligamentos inesperados durante uso intenso.",priority:"Alta",status:"Resolvido",equipment:"Lenovo ThinkPad E14",requester:"Pedro Oliveira",createdAt:new Date("2024-10-05T13:20:00"),lastModified:new Date("2024-10-08T09:15:00"),lastChange:"Limpeza do sistema de refrigera\xE7\xE3o"}];ngOnInit(){this.loadTickets(),this.setupKeyboardShortcuts()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.toastTimeout&&clearTimeout(this.toastTimeout)}ngAfterViewInit(){this.tickets.length>0&&!this.selectedTicket&&this.selectTicket(this.tickets[0])}openFilters(){this.announceAction("Abrindo filtros de chamados")}createNewTicket(){this.announceAction("Abrindo formul\xE1rio de novo chamado"),this.router.navigate(["/chamados/novo"])}clearFilters(){this.announceAction("Filtros limpos"),this.showToast("Filtros removidos com sucesso","success")}setViewMode(e){this.viewMode=e,this.announceAction(`Modo de visualiza\xE7\xE3o alterado para ${e==="list"?"lista":"grade"}`)}selectTicket(e){this.selectedTicket=e,this.announceAction(`Chamado ${e.id} selecionado: ${e.title}`),setTimeout(()=>{this.generateQRCode()},100)}editTicket(e){this.announceAction(`Editando chamado ${e.id}`),this.router.navigate(["/chamados",e.id,"editar"])}openTicketMenu(e){this.announceAction(`Abrindo menu do chamado ${e.id}`)}trackTicket(e,t){return t.id}generateQRCode(){return I(this,null,function*(){if(!(!this.selectedTicket||!this.qrCanvas)){this.isGeneratingQR=!0;try{let e=this.buildQRData(this.selectedTicket),t=this.qrCanvas.nativeElement;yield aL.toCanvas(t,e,{width:200,margin:2,color:{dark:"#000000",light:"#FFFFFF"},errorCorrectionLevel:"M"}),this.announceAction(`QR Code gerado para o chamado ${this.selectedTicket.id}`)}catch(e){console.error("Erro ao gerar QR Code:",e),this.showToast("Erro ao gerar QR Code","error")}finally{this.isGeneratingQR=!1}}})}regenerateQRCode(){this.announceAction("Regenerando QR Code"),this.generateQRCode()}printQRCode(){if(!this.selectedTicket){this.showToast("Nenhum chamado selecionado","error");return}this.announceAction(`Imprimindo QR Code do chamado ${this.selectedTicket.id}`);let e=window.open("","_blank");if(!e){this.showToast("Erro ao abrir janela de impress\xE3o","error");return}let r=this.qrCanvas.nativeElement.toDataURL("image/png");e.document.write(`
      <html>
        <head>
          <title>QR Code - Chamado #${this.selectedTicket.id}</title>
          <style>
            body { 
              font-family: Arial, sans-serif; 
              text-align: center; 
              padding: 20px; 
            }
            .qr-label { 
              margin-bottom: 20px; 
              font-size: 18px; 
              font-weight: bold; 
            }
            .qr-info { 
              margin-top: 20px; 
              font-size: 14px; 
              text-align: left; 
              max-width: 400px; 
              margin-left: auto; 
              margin-right: auto; 
            }
            .info-item { 
              margin-bottom: 8px; 
            }
            .info-label { 
              font-weight: bold; 
            }
          </style>
        </head>
        <body>
          <div class="qr-label">Chamado #${this.selectedTicket.id}</div>
          <img src="${r}" alt="QR Code do Chamado ${this.selectedTicket.id}">
          <div class="qr-info">
            <div class="info-item">
              <span class="info-label">T\xEDtulo:</span> ${this.selectedTicket.title}
            </div>
            <div class="info-item">
              <span class="info-label">Equipamento:</span> ${this.selectedTicket.equipment}
            </div>
            <div class="info-item">
              <span class="info-label">Data de Modifica\xE7\xE3o:</span> ${this.datePipe.transform(this.selectedTicket.lastModified,"dd/MM/yyyy HH:mm")}
            </div>
            <div class="info-item">
              <span class="info-label">\xDAltima Altera\xE7\xE3o:</span> ${this.selectedTicket.lastChange}
            </div>
          </div>
        </body>
      </html>
    `),e.document.close(),e.focus(),setTimeout(()=>{e.print(),e.close()},500),this.showToast("QR Code enviado para impress\xE3o","success")}downloadQRCode(){if(!this.selectedTicket){this.showToast("Nenhum chamado selecionado","error");return}this.announceAction(`Baixando QR Code do chamado ${this.selectedTicket.id}`);let t=this.qrCanvas.nativeElement.toDataURL("image/png"),r=document.createElement("a");r.download=`qr-code-chamado-${this.selectedTicket.id}.png`,r.href=t,r.click(),this.showToast("QR Code baixado com sucesso","success")}copyQRData(){return I(this,null,function*(){if(!this.selectedTicket){this.showToast("Nenhum chamado selecionado","error");return}let e=this.buildQRData(this.selectedTicket);try{yield navigator.clipboard.writeText(e),this.showToast("Dados do QR Code copiados","success"),this.announceAction("Dados do QR Code copiados para a \xE1rea de transfer\xEAncia")}catch(t){console.error("Erro ao copiar dados:",t),this.showToast("Erro ao copiar dados","error")}})}buildQRData(e){let t={id:e.id,title:e.title,equipment:e.equipment,lastModified:this.datePipe.transform(e.lastModified,"dd/MM/yyyy HH:mm"),lastChange:e.lastChange,url:`${window.location.origin}/chamados/${e.id}`};return JSON.stringify(t)}loadTickets(){this.announceAction(`${this.tickets.length} chamados carregados`)}setupKeyboardShortcuts(){document.addEventListener("keydown",e=>{if(e.ctrlKey||e.metaKey)switch(e.key){case"n":e.preventDefault(),this.createNewTicket();break;case"f":e.preventDefault(),this.openFilters();break;case"p":this.selectedTicket&&(e.preventDefault(),this.printQRCode());break}})}showToast(e,t){this.toastMessage=e,this.toastType=t,this.toastTimeout&&clearTimeout(this.toastTimeout),this.toastTimeout=window.setTimeout(()=>{this.closeToast()},4e3)}closeToast(){this.toastMessage="",this.toastTimeout&&(clearTimeout(this.toastTimeout),this.toastTimeout=void 0)}announceAction(e){let t=document.getElementById("status-announcements");t&&(t.textContent=e,setTimeout(()=>{t.textContent=""},1e3))}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Tt({type:n,selectors:[["app-chamados"]],viewQuery:function(t,r){if(t&1&&rP(sJ,5),t&2){let i;Hp(i=$p())&&(r.qrCanvas=i.first)}},features:[zt([Kt])],decls:43,vars:12,consts:[["noTickets",""],["qrCanvas",""],["role","main",1,"chamados-wrapper"],[1,"chamados-header"],[1,"header-content"],[1,"page-info"],[1,"page-title"],[1,"page-subtitle"],[1,"header-actions"],["aria-label","Filtrar chamados","tabindex","0",1,"btn","btn-secondary",3,"click"],["width","20","height","20","viewBox","0 0 24 24","fill","currentColor"],["d","M14,12V19.88C14.04,20.18 13.94,20.5 13.71,20.71C13.32,21.1 12.69,21.1 12.3,20.71L10.29,18.7C10.06,18.47 9.96,18.16 10,17.87V12H9.97L4.21,4.62C3.87,4.19 3.95,3.56 4.38,3.22C4.57,3.08 4.78,3 5,3V3H19V3C19.22,3 19.43,3.08 19.62,3.22C20.05,3.56 20.13,4.19 19.79,4.62L14.03,12H14Z"],["aria-label","Criar novo chamado","tabindex","0",1,"btn","btn-primary",3,"click"],["d","M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z"],[1,"chamados-content"],["aria-labelledby","tickets-list-title",1,"tickets-section"],[1,"section-card"],[1,"card-header"],[1,"header-left"],["id","tickets-list-title",1,"card-title"],[1,"card-subtitle"],[1,"view-options"],["aria-label","Visualiza\xE7\xE3o em lista","tabindex","0",1,"view-toggle",3,"click"],["d","M3,5H21V7H3V5M3,11H21V13H3V11M3,17H21V19H3V17Z"],["aria-label","Visualiza\xE7\xE3o em grade","tabindex","0",1,"view-toggle",3,"click"],["d","M3,11H11V3H3M3,21H11V13H3M13,21H21V13H13M13,3V11H21V3"],[1,"tickets-container"],["class","tickets-list","role","list",4,"ngIf","ngIfElse"],["class","qr-section","aria-labelledby","qr-section-title",4,"ngIf"],["class","qr-placeholder","role","complementary",4,"ngIf"],["aria-live","polite","aria-atomic","true",1,"toast-container"],["class","toast","role","alert",3,"class",4,"ngIf"],["aria-live","polite","id","status-announcements",1,"sr-only"],["role","list",1,"tickets-list"],["class","ticket-card","role","listitem","tabindex","0",3,"selected","click","keydown.enter","keydown.space",4,"ngFor","ngForOf","ngForTrackBy"],["role","listitem","tabindex","0",1,"ticket-card",3,"click","keydown.enter","keydown.space"],[1,"priority-indicator"],[1,"ticket-content"],[1,"ticket-header"],[1,"ticket-title"],[1,"ticket-meta"],[1,"ticket-id"],["aria-hidden","true",1,"ticket-separator"],[1,"ticket-date"],[1,"ticket-description"],[1,"ticket-details"],[1,"detail-item"],[1,"detail-label"],[1,"detail-value"],[1,"ticket-footer"],[1,"ticket-badges"],[1,"priority-badge"],[1,"status-badge"],[1,"ticket-actions"],[1,"action-btn",3,"click"],["width","16","height","16","viewBox","0 0 24 24","fill","currentColor"],["d","M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z"],["d","M12,16A2,2 0 0,1 14,18A2,2 0 0,1 12,20A2,2 0 0,1 10,18A2,2 0 0,1 12,16M12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12A2,2 0 0,1 12,10M12,4A2,2 0 0,1 14,6A2,2 0 0,1 12,8A2,2 0 0,1 10,6A2,2 0 0,1 12,4Z"],["role","status","aria-label","Nenhum chamado encontrado",1,"empty-state"],[1,"empty-icon"],["width","64","height","64","viewBox","0 0 24 24","fill","currentColor"],["d","M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3M19,5V19H5V5H19Z"],[1,"empty-title"],[1,"empty-description"],[1,"btn","btn-primary",3,"click"],["aria-labelledby","qr-section-title",1,"qr-section"],["id","qr-section-title",1,"card-title"],["aria-label","Regenerar QR Code","tabindex","0",1,"action-button",3,"click"],["d","M17.65,6.35C16.2,4.9 14.21,4 12,4A8,8 0 0,0 4,12A8,8 0 0,0 12,20C15.73,20 18.84,17.45 19.73,14H17.65C16.83,16.33 14.61,18 12,18A6,6 0 0,1 6,12A6,6 0 0,1 12,6C13.66,6 15.14,6.69 16.22,7.78L13,11H20V4L17.65,6.35Z"],[1,"qr-container"],["role","img",1,"qr-display"],[1,"qr-wrapper"],[1,"qr-canvas"],["class","qr-loading","aria-live","polite",4,"ngIf"],[1,"qr-info"],[1,"qr-info-title"],[1,"qr-data"],[1,"data-item"],[1,"data-label"],[1,"data-value"],[1,"qr-actions"],["aria-label","Imprimir QR Code","tabindex","0",1,"btn","btn-primary",3,"click"],["d","M18,3H6V7H18M19,12A1,1 0 0,1 18,11A1,1 0 0,1 19,10A1,1 0 0,1 20,11A1,1 0 0,1 19,12M16,19H8V14H16M19,8H5A3,3 0 0,0 2,11V17H6V21H18V17H22V11A3,3 0 0,0 19,8Z"],["aria-label","Baixar QR Code como imagem","tabindex","0",1,"btn","btn-secondary",3,"click"],["d","M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M18,20H6V4H13V9H18V20Z"],["aria-label","Copiar dados do QR Code","tabindex","0",1,"btn","btn-ghost",3,"click"],["d","M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"],["aria-live","polite",1,"qr-loading"],[1,"loading-spinner"],["role","complementary",1,"qr-placeholder"],[1,"placeholder-content"],[1,"placeholder-icon"],["width","80","height","80","viewBox","0 0 24 24","fill","currentColor"],["d","M3,11H5V13H3V11M11,5H13V9H11V5M9,11H13V15H9V11M15,11H17V13H15V11M19,5H21V9H19V5M5,5H9V9H5V5M3,19H5V21H3V19M9,19H13V21H9V19M15,19H17V21H15V19M19,15H21V19H19V15M19,11H21V13H19V11M3,15H5V17H3V15M5,11H7V13H5V11"],[1,"placeholder-title"],[1,"placeholder-description"],["role","alert",1,"toast"],[1,"toast-content"],["width","20","height","20","viewBox","0 0 24 24","fill","currentColor",4,"ngIf"],["aria-label","Fechar notifica\xE7\xE3o",1,"toast-close",3,"click"],["d","M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"],["d","M12,2A10,10 0 0,1 22,12A10,10 0 0,1 12,22A10,10 0 0,1 2,12A10,10 0 0,1 12,2M11,16.5L18,9.5L16.59,8.09L11,13.67L7.91,10.59L6.5,12L11,16.5Z"],["d","M12,2A10,10 0 0,1 22,12A10,10 0 0,1 12,22A10,10 0 0,1 2,12A10,10 0 0,1 12,2M12,7A5,5 0 0,0 7,12A5,5 0 0,0 12,17A5,5 0 0,0 17,12A5,5 0 0,0 12,7M12,9A3,3 0 0,1 15,12A3,3 0 0,1 12,15A3,3 0 0,1 9,12A3,3 0 0,1 12,9Z"]],template:function(t,r){if(t&1){let i=Ge();h(0,"div",2)(1,"header",3)(2,"div",4)(3,"div",5)(4,"h1",6),w(5,"Chamados"),g(),h(6,"p",7),w(7,"Gerenciamento de tickets e solicita\xE7\xF5es"),g()(),h(8,"div",8)(9,"button",9),H("click",function(){return U(i),B(r.openFilters())}),$(),h(10,"svg",10),V(11,"path",11),g(),w(12," Filtros "),g(),Y(),h(13,"button",12),H("click",function(){return U(i),B(r.createNewTicket())}),$(),h(14,"svg",10),V(15,"path",13),g(),w(16," Novo Chamado "),g()()()(),Y(),h(17,"div",14)(18,"section",15)(19,"div",16)(20,"header",17)(21,"div",18)(22,"h2",19),w(23,"Lista de Chamados"),g(),h(24,"p",20),w(25),g()(),h(26,"div",8)(27,"div",21)(28,"button",22),H("click",function(){return U(i),B(r.setViewMode("list"))}),$(),h(29,"svg",10),V(30,"path",23),g()(),Y(),h(31,"button",24),H("click",function(){return U(i),B(r.setViewMode("grid"))}),$(),h(32,"svg",10),V(33,"path",25),g()()()()(),Y(),h(34,"div",26),oe(35,cJ,2,2,"div",27)(36,lJ,10,0,"ng-template",null,0,hi),g()()(),oe(38,dJ,56,11,"aside",28)(39,hJ,9,0,"aside",29),g(),h(40,"div",30),oe(41,gJ,9,5,"div",31),g()(),V(42,"div",32)}if(t&2){let i=Br(37);C(25),Be("",r.tickets.length," chamados encontrados"),C(3),_e("active",r.viewMode==="list"),C(3),_e("active",r.viewMode==="grid"),C(3),ut("view-"+r.viewMode),C(),W("ngIf",r.tickets.length>0)("ngIfElse",i),C(3),W("ngIf",r.selectedTicket),C(),W("ngIf",!r.selectedTicket),C(2),W("ngIf",r.toastMessage)}},dependencies:[Mt,hr,qt,Kt],styles:['@charset "UTF-8";[_ngcontent-%COMP%]:root{--primary-bg: #0F1419;--secondary-bg: #16202A;--tertiary-bg: #1E2732;--hover-bg: #253341;--primary-text: #F7F9FA;--secondary-text: #8B98A5;--white-text: #FFFFFF;--accent-blue: #1D9BF0;--accent-blue-light: #4AB3F4;--accent-blue-dark: #1A8CD8;--border-color: #2F3336;--border-light: #3E4347;--success-color: #00BA7C;--warning-color: #FFD400;--error-color: #F4212E;--info-color: #1D9BF0;--gradient-primary: linear-gradient(135deg, #1D9BF0, #4AB3F4);--gradient-success: linear-gradient(135deg, #00BA7C, #00D084);--gradient-warning: linear-gradient(135deg, #FFD400, #FFDC00);--gradient-error: linear-gradient(135deg, #F4212E, #FF4757);--shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, .05);--shadow-md: 0 4px 6px -1px rgba(0, 0, 0, .1), 0 2px 4px -1px rgba(0, 0, 0, .06);--shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, .1), 0 4px 6px -2px rgba(0, 0, 0, .05);--shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, .1), 0 10px 10px -5px rgba(0, 0, 0, .04);--transition-fast: all .15s ease;--transition-normal: all .3s cubic-bezier(.4, 0, .2, 1);--transition-slow: all .5s cubic-bezier(.4, 0, .2, 1);--radius-sm: 4px;--radius-md: 8px;--radius-lg: 12px;--radius-xl: 16px;--radius-full: 9999px;--spacing-xs: 4px;--spacing-sm: 8px;--spacing-md: 16px;--spacing-lg: 24px;--spacing-xl: 32px;--spacing-2xl: 48px}.chamados-wrapper[_ngcontent-%COMP%]{min-height:100vh;background-color:var(--primary-bg);padding:var(--spacing-lg);max-width:1600px;margin:0 auto}@media (max-width: 768px){.chamados-wrapper[_ngcontent-%COMP%]{padding:var(--spacing-md)}}.chamados-header[_ngcontent-%COMP%]{margin-bottom:var(--spacing-2xl)}.chamados-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;gap:var(--spacing-lg)}@media (max-width: 768px){.chamados-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch;gap:var(--spacing-md)}}.page-info[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{font-size:clamp(28px,4vw,36px);font-weight:700;color:var(--primary-text);margin:0 0 var(--spacing-sm) 0;line-height:1.2;background:var(--gradient-primary);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.page-info[_ngcontent-%COMP%]   .page-subtitle[_ngcontent-%COMP%]{font-size:16px;color:var(--secondary-text);margin:0;line-height:1.4}.header-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--spacing-sm)}@media (max-width: 768px){.header-actions[_ngcontent-%COMP%]{justify-content:stretch}.header-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{flex:1}}.chamados-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 400px;gap:var(--spacing-lg);align-items:start}@media (max-width: 1200px){.chamados-content[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:var(--spacing-lg)}}.tickets-section[_ngcontent-%COMP%]   .section-card[_ngcontent-%COMP%]{min-height:600px}.card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;padding:var(--spacing-lg) var(--spacing-lg) var(--spacing-md);border-bottom:1px solid var(--border-color);background:linear-gradient(135deg,var(--secondary-bg) 0%,var(--tertiary-bg) 100%)}.card-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:20px;font-weight:600;color:var(--primary-text);margin:0 0 var(--spacing-xs) 0;line-height:1.3}.card-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .card-subtitle[_ngcontent-%COMP%]{font-size:14px;color:var(--secondary-text);margin:0;line-height:1.4}.card-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--spacing-sm)}.view-options[_ngcontent-%COMP%]{display:flex;background-color:var(--tertiary-bg);border-radius:var(--radius-md);padding:2px;border:1px solid var(--border-color)}.view-toggle[_ngcontent-%COMP%]{width:36px;height:36px;border:none;background-color:transparent;color:var(--secondary-text);border-radius:var(--radius-sm);display:flex;align-items:center;justify-content:center;cursor:pointer;transition:var(--transition-normal)}.view-toggle[_ngcontent-%COMP%]:hover{color:var(--primary-text);background-color:var(--hover-bg)}.view-toggle.active[_ngcontent-%COMP%]{background-color:var(--accent-blue);color:var(--white-text);box-shadow:var(--shadow-sm)}.view-toggle[_ngcontent-%COMP%]:focus{outline:2px solid var(--accent-blue);outline-offset:2px}.tickets-container[_ngcontent-%COMP%]{padding:var(--spacing-sm);max-height:520px;overflow-y:auto}.tickets-container[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.tickets-container[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:var(--tertiary-bg);border-radius:var(--radius-sm)}.tickets-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:var(--border-color);border-radius:var(--radius-sm)}.tickets-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:var(--secondary-text)}.tickets-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--spacing-sm)}.view-grid[_ngcontent-%COMP%]   .tickets-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:var(--spacing-md)}.ticket-card[_ngcontent-%COMP%]{background-color:var(--secondary-bg);border:1px solid var(--border-color);border-radius:var(--radius-lg);padding:var(--spacing-md);cursor:pointer;transition:var(--transition-normal);position:relative;overflow:hidden}.ticket-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:3px;background:var(--gradient-primary);transform:scaleX(0);transition:transform .3s ease}.ticket-card[_ngcontent-%COMP%]:hover, .ticket-card[_ngcontent-%COMP%]:focus{border-color:var(--accent-blue);box-shadow:var(--shadow-md);transform:translateY(-2px)}.ticket-card[_ngcontent-%COMP%]:hover:before, .ticket-card[_ngcontent-%COMP%]:focus:before{transform:scaleX(1)}.ticket-card.selected[_ngcontent-%COMP%]{border-color:var(--accent-blue);box-shadow:var(--shadow-lg);background-color:var(--hover-bg)}.ticket-card.selected[_ngcontent-%COMP%]:before{transform:scaleX(1)}.ticket-card[_ngcontent-%COMP%]:focus{outline:2px solid var(--accent-blue);outline-offset:2px}.view-grid[_ngcontent-%COMP%]   .ticket-card[_ngcontent-%COMP%]{min-height:200px;display:flex;flex-direction:column}.priority-indicator[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:4px;height:100%;border-radius:var(--radius-sm) 0 0 var(--radius-sm)}.priority-indicator.priority-alta[_ngcontent-%COMP%]{background:var(--gradient-error)}.priority-indicator.priority-m\\e9 dia[_ngcontent-%COMP%]{background:var(--gradient-warning)}.priority-indicator.priority-baixa[_ngcontent-%COMP%]{background:var(--gradient-success)}.ticket-content[_ngcontent-%COMP%]{margin-left:var(--spacing-md);flex:1}.view-grid[_ngcontent-%COMP%]   .ticket-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}.ticket-header[_ngcontent-%COMP%]{margin-bottom:var(--spacing-sm)}.ticket-header[_ngcontent-%COMP%]   .ticket-title[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:var(--primary-text);margin:0 0 var(--spacing-xs) 0;line-height:1.4;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}.ticket-header[_ngcontent-%COMP%]   .ticket-meta[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--spacing-sm);font-size:12px;color:var(--secondary-text)}.ticket-header[_ngcontent-%COMP%]   .ticket-meta[_ngcontent-%COMP%]   .ticket-separator[_ngcontent-%COMP%]{opacity:.5}.ticket-description[_ngcontent-%COMP%]{font-size:14px;color:var(--secondary-text);line-height:1.5;margin-bottom:var(--spacing-md);overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}.view-grid[_ngcontent-%COMP%]   .ticket-description[_ngcontent-%COMP%]{flex:1;-webkit-line-clamp:3}.ticket-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--spacing-xs);margin-bottom:var(--spacing-md)}.view-grid[_ngcontent-%COMP%]   .ticket-details[_ngcontent-%COMP%]{display:none}.detail-item[_ngcontent-%COMP%]{display:flex;font-size:12px}.detail-item[_ngcontent-%COMP%]   .detail-label[_ngcontent-%COMP%]{color:var(--secondary-text);font-weight:500;min-width:120px}.detail-item[_ngcontent-%COMP%]   .detail-value[_ngcontent-%COMP%]{color:var(--primary-text);flex:1}.ticket-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:var(--spacing-sm);margin-top:auto}.ticket-badges[_ngcontent-%COMP%]{display:flex;gap:var(--spacing-xs);flex-wrap:wrap}.priority-badge[_ngcontent-%COMP%], .status-badge[_ngcontent-%COMP%]{padding:var(--spacing-xs) var(--spacing-sm);border-radius:var(--radius-sm);font-size:10px;font-weight:600;text-transform:uppercase;letter-spacing:.5px;white-space:nowrap}.priority-badge.badge-alta[_ngcontent-%COMP%]{background-color:#f4212e1a;color:var(--error-color);border:1px solid rgba(244,33,46,.2)}.priority-badge.badge-m\\e9 dia[_ngcontent-%COMP%]{background-color:#ffd4001a;color:var(--warning-color);border:1px solid rgba(255,212,0,.2)}.priority-badge.badge-baixa[_ngcontent-%COMP%]{background-color:#00ba7c1a;color:var(--success-color);border:1px solid rgba(0,186,124,.2)}.status-badge.status-aberto[_ngcontent-%COMP%]{background-color:#1d9bf01a;color:var(--info-color);border:1px solid rgba(29,155,240,.2)}.status-badge.status-em-andamento[_ngcontent-%COMP%]{background-color:#ffd4001a;color:var(--warning-color);border:1px solid rgba(255,212,0,.2)}.status-badge.status-pendente[_ngcontent-%COMP%]{background-color:#8b98a51a;color:var(--secondary-text);border:1px solid rgba(139,152,165,.2)}.status-badge.status-resolvido[_ngcontent-%COMP%]{background-color:#00ba7c1a;color:var(--success-color);border:1px solid rgba(0,186,124,.2)}.status-badge.status-fechado[_ngcontent-%COMP%]{background-color:#2f33361a;color:var(--secondary-text);border:1px solid rgba(47,51,54,.2)}.ticket-actions[_ngcontent-%COMP%]{display:flex;gap:var(--spacing-xs)}.action-btn[_ngcontent-%COMP%]{width:32px;height:32px;border:none;background-color:transparent;color:var(--secondary-text);border-radius:var(--radius-md);display:flex;align-items:center;justify-content:center;cursor:pointer;transition:var(--transition-normal)}.action-btn[_ngcontent-%COMP%]:hover, .action-btn[_ngcontent-%COMP%]:focus{background-color:var(--hover-bg);color:var(--primary-text);transform:scale(1.1)}.action-btn[_ngcontent-%COMP%]:focus{outline:2px solid var(--accent-blue);outline-offset:2px}.empty-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:var(--spacing-2xl);text-align:center;min-height:400px}.empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{color:var(--secondary-text);margin-bottom:var(--spacing-lg);opacity:.5}.empty-state[_ngcontent-%COMP%]   .empty-title[_ngcontent-%COMP%]{font-size:20px;font-weight:600;color:var(--primary-text);margin:0 0 var(--spacing-sm) 0}.empty-state[_ngcontent-%COMP%]   .empty-description[_ngcontent-%COMP%]{font-size:14px;color:var(--secondary-text);margin:0 0 var(--spacing-lg) 0;max-width:400px;line-height:1.5}.qr-section[_ngcontent-%COMP%]   .section-card[_ngcontent-%COMP%]{position:sticky;top:var(--spacing-lg)}.qr-container[_ngcontent-%COMP%]{padding:var(--spacing-lg)}.qr-display[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-bottom:var(--spacing-lg)}.qr-wrapper[_ngcontent-%COMP%]{position:relative;background-color:var(--white-text);padding:var(--spacing-md);border-radius:var(--radius-lg);box-shadow:var(--shadow-md)}.qr-canvas[_ngcontent-%COMP%]{display:block;border-radius:var(--radius-sm)}.qr-loading[_ngcontent-%COMP%]{position:absolute;inset:0;display:flex;flex-direction:column;align-items:center;justify-content:center;background-color:#ffffffe6;border-radius:var(--radius-lg);font-size:14px;color:var(--secondary-text);gap:var(--spacing-sm)}.loading-spinner[_ngcontent-%COMP%]{width:24px;height:24px;border:2px solid var(--border-color);border-top:2px solid var(--accent-blue);border-radius:var(--radius-full);animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.qr-info[_ngcontent-%COMP%]{margin-bottom:var(--spacing-lg)}.qr-info[_ngcontent-%COMP%]   .qr-info-title[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:var(--primary-text);margin:0 0 var(--spacing-md) 0}.qr-data[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--spacing-sm)}.data-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--spacing-xs);padding:var(--spacing-sm);background-color:var(--tertiary-bg);border-radius:var(--radius-md);border:1px solid var(--border-color)}.data-item[_ngcontent-%COMP%]   .data-label[_ngcontent-%COMP%]{font-size:12px;color:var(--secondary-text);font-weight:500;text-transform:uppercase;letter-spacing:.5px}.data-item[_ngcontent-%COMP%]   .data-value[_ngcontent-%COMP%]{font-size:14px;color:var(--primary-text);font-weight:500}.qr-actions[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--spacing-sm)}.qr-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{justify-content:flex-start;width:100%}.qr-placeholder[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background-color:var(--secondary-bg);border:1px solid var(--border-color);border-radius:var(--radius-lg);min-height:400px}@media (max-width: 1200px){.qr-placeholder[_ngcontent-%COMP%]{min-height:200px}}.placeholder-content[_ngcontent-%COMP%]{text-align:center;padding:var(--spacing-lg)}.placeholder-content[_ngcontent-%COMP%]   .placeholder-icon[_ngcontent-%COMP%]{color:var(--secondary-text);margin-bottom:var(--spacing-lg);opacity:.5}.placeholder-content[_ngcontent-%COMP%]   .placeholder-title[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:var(--primary-text);margin:0 0 var(--spacing-sm) 0}.placeholder-content[_ngcontent-%COMP%]   .placeholder-description[_ngcontent-%COMP%]{font-size:14px;color:var(--secondary-text);margin:0;line-height:1.5;max-width:300px}.toast-container[_ngcontent-%COMP%]{position:fixed;top:var(--spacing-lg);right:var(--spacing-lg);z-index:1000}.toast[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--spacing-sm);padding:var(--spacing-md) var(--spacing-lg);background-color:var(--secondary-bg);border:1px solid var(--border-color);border-radius:var(--radius-lg);box-shadow:var(--shadow-lg);min-width:300px;animation:_ngcontent-%COMP%_slideIn .3s ease-out}.toast.toast-success[_ngcontent-%COMP%]{border-color:var(--success-color);background-color:#00ba7c1a}.toast.toast-success[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:var(--success-color)}.toast.toast-error[_ngcontent-%COMP%]{border-color:var(--error-color);background-color:#f4212e1a}.toast.toast-error[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:var(--error-color)}.toast.toast-info[_ngcontent-%COMP%]{border-color:var(--info-color);background-color:#1d9bf01a}.toast.toast-info[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:var(--info-color)}@keyframes _ngcontent-%COMP%_slideIn{0%{transform:translate(100%);opacity:0}to{transform:translate(0);opacity:1}}.toast-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--spacing-sm);flex:1}.toast-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;color:var(--primary-text);font-weight:500}.toast-close[_ngcontent-%COMP%]{width:24px;height:24px;border:none;background-color:transparent;color:var(--secondary-text);border-radius:var(--radius-sm);display:flex;align-items:center;justify-content:center;cursor:pointer;transition:var(--transition-fast)}.toast-close[_ngcontent-%COMP%]:hover{background-color:var(--hover-bg);color:var(--primary-text)}@media (max-width: 768px){.chamados-content[_ngcontent-%COMP%]{grid-template-columns:1fr}.tickets-container[_ngcontent-%COMP%]{max-height:400px}.ticket-card[_ngcontent-%COMP%]   .ticket-details[_ngcontent-%COMP%]{display:none}.view-grid[_ngcontent-%COMP%]   .tickets-list[_ngcontent-%COMP%]{grid-template-columns:1fr}.qr-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{font-size:14px;padding:var(--spacing-sm) var(--spacing-md)}.toast[_ngcontent-%COMP%]{min-width:280px;margin:0 var(--spacing-sm)}}@media (max-width: 480px){.ticket-badges[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.ticket-footer[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:var(--spacing-sm)}.ticket-actions[_ngcontent-%COMP%]{align-self:flex-end}}@media (prefers-contrast: high){.ticket-card[_ngcontent-%COMP%], .section-card[_ngcontent-%COMP%], .priority-badge[_ngcontent-%COMP%], .status-badge[_ngcontent-%COMP%]{border-width:2px}.qr-wrapper[_ngcontent-%COMP%]{border:2px solid var(--border-color)}}@media (prefers-reduced-motion: reduce){.ticket-card[_ngcontent-%COMP%], .action-btn[_ngcontent-%COMP%], .view-toggle[_ngcontent-%COMP%]{transform:none!important}.loading-spinner[_ngcontent-%COMP%], .toast[_ngcontent-%COMP%]{animation:none}}']})};function mJ(n,e){if(n&1&&(h(0,"div",105)(1,"div",106),$(),h(2,"svg",85),V(3,"path"),g()(),Y(),h(4,"div",107)(5,"span",108),w(6),jr(7,"number"),g(),h(8,"span",109),w(9),g(),h(10,"div",110),$(),h(11,"svg",59),V(12,"path"),g(),Y(),h(13,"span"),w(14),g()()()()),n&2){let t=e.$implicit,r=j();C(),ut("icon-"+t.type),C(2),ae("d",r.getStatIcon(t.type)),C(3),ce(aP(7,10,t.value)),C(3),ce(t.label),C(),ut("trend-"+t.trend.type),C(2),ae("d",r.getTrendIcon(t.trend.type)),C(2),Bu("",t.trend.value,"",t.trend.suffix,"")}}function _J(n,e){if(n&1&&($(),h(0,"svg",118),V(1,"path"),g()),n&2){let t=j(3);C(),ae("d",t.sortDirection==="asc"?"M7,14L12,9L17,14H7Z":"M7,10L12,15L17,10H7Z")}}function vJ(n,e){if(n&1){let t=Ge();h(0,"div",116),H("click",function(){let i=U(t).$implicit,o=j(2);return B(o.sortBy(i.key))})("keydown.enter",function(){let i=U(t).$implicit,o=j(2);return B(o.sortBy(i.key))})("keydown.space",function(){let i=U(t).$implicit,o=j(2);return B(o.sortBy(i.key))}),w(1),oe(2,_J,2,1,"svg",117),g()}if(n&2){let t=e.$implicit,r=j(2);ut("column-"+t.key),ae("aria-sort",r.getSortDirection(t.key)),C(),Be(" ",t.label," "),C(),W("ngIf",r.sortColumn===t.key)}}function yJ(n,e){if(n&1&&(h(0,"span"),w(1),g()),n&2){let t=j().$implicit,r=j().$implicit,i=j(3);C(),Be(" ",i.getColumnValue(r,t.key)," ")}}function wJ(n,e){if(n&1&&(h(0,"span",125),w(1),g()),n&2){let t=j(2).$implicit;ut("status-"+t.status.toLowerCase().replace(" ","-")),ae("aria-label","Status: "+t.status),C(),Be(" ",t.status," ")}}function bJ(n,e){if(n&1&&(h(0,"div",123),oe(1,yJ,2,1,"span",124)(2,wJ,2,4,"ng-template",null,1,hi),g()),n&2){let t=e.$implicit,r=Br(3);ut("column-"+t.key),C(),W("ngIf",t.key!=="status")("ngIfElse",r)}}function CJ(n,e){if(n&1){let t=Ge();h(0,"div",121),H("click",function(){let i=U(t).$implicit,o=j(3);return B(o.selectItem(i))})("keydown.enter",function(){let i=U(t).$implicit,o=j(3);return B(o.selectItem(i))})("keydown.space",function(){let i=U(t).$implicit,o=j(3);return B(o.selectItem(i))}),oe(1,bJ,4,4,"div",122),g()}if(n&2){let t=e.$implicit,r=j(3);ae("aria-label",r.getRowAriaLabel(t)),C(),W("ngForOf",r.tableColumns)("ngForTrackBy",r.trackColumn)}}function EJ(n,e){if(n&1&&(h(0,"div",119),oe(1,CJ,2,3,"div",120),g()),n&2){let t=j(2);C(),W("ngForOf",t.reportData)("ngForTrackBy",t.trackReportItem)}}function IJ(n,e){if(n&1&&(h(0,"div",111)(1,"div",112)(2,"div",113),oe(3,vJ,3,5,"div",114),g(),oe(4,EJ,2,2,"div",115),g()()),n&2){let t=j(),r=Br(141);C(3),W("ngForOf",t.tableColumns)("ngForTrackBy",t.trackColumn),C(),W("ngIf",t.reportData.length>0)("ngIfElse",r)}}function SJ(n,e){if(n&1&&(h(0,"div",136)(1,"span",137),w(2),g(),h(3,"span",138),w(4),g()()),n&2){let t=e.$implicit,r=j().$implicit,i=j(3);C(2),Be("",t.label,":"),C(2),ce(i.getColumnValue(r,t.key))}}function TJ(n,e){if(n&1){let t=Ge();h(0,"article",130),H("click",function(){let i=U(t).$implicit,o=j(3);return B(o.selectItem(i))})("keydown.enter",function(){let i=U(t).$implicit,o=j(3);return B(o.selectItem(i))})("keydown.space",function(){let i=U(t).$implicit,o=j(3);return B(o.selectItem(i))}),h(1,"div",131)(2,"div",132)(3,"h3",133),w(4),g(),h(5,"span",125),w(6),g()(),h(7,"div",134),oe(8,SJ,5,2,"div",135),g()()()}if(n&2){let t=e.$implicit,r=j(3);ae("aria-label",r.getCardAriaLabel(t)),C(4),ce(t.title||t.name||t.id),C(),ut("status-"+t.status.toLowerCase().replace(" ","-")),ae("aria-label","Status: "+t.status),C(),Be(" ",t.status," "),C(2),W("ngForOf",r.getCardColumns())("ngForTrackBy",r.trackColumn)}}function xJ(n,e){if(n&1&&(h(0,"div",128),oe(1,TJ,9,8,"article",129),g()),n&2){let t=j(2);C(),W("ngForOf",t.reportData)("ngForTrackBy",t.trackReportItem)}}function MJ(n,e){if(n&1&&(h(0,"div",126),oe(1,xJ,2,2,"div",127),g()),n&2){let t=j(),r=Br(141);C(),W("ngIf",t.reportData.length>0)("ngIfElse",r)}}function DJ(n,e){if(n&1){let t=Ge();h(0,"div",139)(1,"div",140),$(),h(2,"svg",141),V(3,"path",86),g()(),Y(),h(4,"h3",142),w(5,"Nenhum dado encontrado"),g(),h(6,"p",143),w(7," N\xE3o h\xE1 dados que correspondam aos filtros aplicados. Tente ajustar os par\xE2metros ou per\xEDodo selecionado. "),g(),h(8,"button",144),H("click",function(){U(t);let i=j();return B(i.resetFilters())}),w(9," Limpar Filtros "),g()()}}function AJ(n,e){n&1&&($(),h(0,"svg",10),V(1,"path",149),g())}function PJ(n,e){n&1&&($(),h(0,"svg",10),V(1,"path",150),g())}function kJ(n,e){if(n&1){let t=Ge();h(0,"div",145)(1,"div",146),oe(2,AJ,2,0,"svg",147)(3,PJ,2,0,"svg",147),h(4,"span"),w(5),g()(),h(6,"button",148),H("click",function(){U(t);let i=j();return B(i.closeToast())}),$(),h(7,"svg",59),V(8,"path",21),g()()()}if(n&2){let t=j();ut("toast-"+t.toastType),C(2),W("ngIf",t.toastType==="success"),C(),W("ngIf",t.toastType==="error"),C(2),ce(t.toastMessage)}}var j_=class n{router=F(Ye);datePipe=F(Kt);destroy$=new Xe;viewMode="table";selectedDateRange="month";selectedReportType="tickets";selectedStatus="all";selectedDepartment="all";sortColumn="";sortDirection=null;toastMessage="";toastType="info";toastTimeout;exportSettings={includeHeaders:!0,includeFilters:!0};tableColumns=[{key:"id",label:"ID",sortable:!0},{key:"title",label:"T\xEDtulo",sortable:!0},{key:"status",label:"Status",sortable:!0},{key:"date",label:"Data",sortable:!0},{key:"responsible",label:"Respons\xE1vel",sortable:!0},{key:"department",label:"Departamento",sortable:!0}];reportStats=[{type:"total",label:"Total de Registros",value:1247,trend:{type:"up",value:"12",suffix:"%"}},{type:"active",label:"Ativos",value:892,trend:{type:"up",value:"8",suffix:"%"}},{type:"pending",label:"Pendentes",value:234,trend:{type:"down",value:"5",suffix:"%"}},{type:"completed",label:"Conclu\xEDdos",value:121,trend:{type:"up",value:"15",suffix:"%"}}];reportData=[{id:"001",title:"Problema no monitor Dell",status:"Aberto",date:new Date("2024-10-08T09:30:00"),responsible:"Ana Silva",department:"TI",type:"Chamado",priority:"Alta"},{id:"002",title:"Troca de teclado mec\xE2nico",status:"Fechado",date:new Date("2024-10-07T14:20:00"),responsible:"Jo\xE3o Carlos",department:"TI",type:"Chamado",priority:"Baixa"},{id:"003",title:"Manuten\xE7\xE3o preventiva impressora",status:"Em Andamento",date:new Date("2024-10-09T11:15:00"),responsible:"Maria Santos",department:"Opera\xE7\xF5es",type:"Manuten\xE7\xE3o",priority:"M\xE9dia"},{id:"004",title:"Instala\xE7\xE3o de software cont\xE1bil",status:"Pendente",date:new Date("2024-10-06T16:45:00"),responsible:"Pedro Oliveira",department:"Financeiro",type:"Instala\xE7\xE3o",priority:"Alta"},{id:"005",title:"Backup do servidor principal",status:"Conclu\xEDdo",date:new Date("2024-10-05T08:00:00"),responsible:"Carlos Silva",department:"TI",type:"Backup",priority:"Alta"}];ngOnInit(){this.loadReportData(),this.setupKeyboardShortcuts()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.toastTimeout&&clearTimeout(this.toastTimeout)}openSettings(){this.announceAction("Abrindo configura\xE7\xF5es de relat\xF3rios")}generateNewReport(){this.announceAction("Gerando novo relat\xF3rio"),this.router.navigate(["/relatorios/novo"])}onDateRangeChange(){this.announceAction(`Per\xEDodo alterado para ${this.getDateRangeLabel()}`),this.applyFilters()}onReportTypeChange(){this.announceAction(`Tipo de relat\xF3rio alterado para ${this.getReportTypeLabel()}`),this.updateTableColumns(),this.applyFilters()}onStatusChange(){this.announceAction(`Filtro de status alterado para ${this.getStatusLabel()}`),this.applyFilters()}onDepartmentChange(){this.announceAction(`Filtro de departamento alterado para ${this.getDepartmentLabel()}`),this.applyFilters()}clearFilters(){this.announceAction("Limpando filtros")}resetFilters(){this.selectedDateRange="month",this.selectedReportType="tickets",this.selectedStatus="all",this.selectedDepartment="all",this.applyFilters(),this.showToast("Filtros resetados","success")}applyFilters(){this.announceAction("Aplicando filtros ao relat\xF3rio"),this.loadReportData(),this.showToast("Filtros aplicados com sucesso","success")}setViewMode(e){this.viewMode=e,this.announceAction(`Modo de visualiza\xE7\xE3o alterado para ${e==="table"?"tabela":"cards"}`)}sortBy(e){this.sortColumn===e?this.sortDirection=this.sortDirection==="asc"?"desc":this.sortDirection==="desc"?null:"asc":(this.sortColumn=e,this.sortDirection="asc"),this.sortDirection?this.reportData.sort((t,r)=>{let i=this.getColumnValue(t,e),o=this.getColumnValue(r,e),s=0;return i>o&&(s=1),i<o&&(s=-1),this.sortDirection==="desc"?-s:s}):this.loadReportData(),this.announceAction(`Dados ordenados por ${e} ${this.getSortDirectionLabel()}`)}getSortDirection(e){return this.sortColumn!==e?"none":this.sortDirection==="asc"?"ascending":this.sortDirection==="desc"?"descending":"none"}selectItem(e){this.announceAction(`Item selecionado: ${e.title||e.name||e.id}`),this.router.navigate(["/relatorios",e.id])}refreshStats(){this.announceAction("Atualizando estat\xEDsticas"),this.loadReportData(),this.showToast("Estat\xEDsticas atualizadas","success")}getColumnValue(e,t){return t==="date"?this.datePipe.transform(e[t],"dd/MM/yyyy HH:mm"):e[t]||"-"}exportToPDF(){this.announceAction("Exportando relat\xF3rio para PDF"),this.simulateExport("PDF")}exportToExcel(){this.announceAction("Exportando relat\xF3rio para Excel"),this.simulateExport("Excel")}exportToCSV(){this.announceAction("Exportando relat\xF3rio para CSV"),this.simulateExport("CSV")}exportToJSON(){this.announceAction("Exportando relat\xF3rio para JSON"),this.simulateExport("JSON")}simulateExport(e){setTimeout(()=>{this.showToast(`Relat\xF3rio exportado para ${e} com sucesso`,"success")},1500)}updateTableColumns(){switch(this.selectedReportType){case"tickets":this.tableColumns=[{key:"id",label:"ID",sortable:!0},{key:"title",label:"T\xEDtulo",sortable:!0},{key:"priority",label:"Prioridade",sortable:!0},{key:"status",label:"Status",sortable:!0},{key:"date",label:"Data",sortable:!0},{key:"responsible",label:"Respons\xE1vel",sortable:!0}];break;case"assets":this.tableColumns=[{key:"id",label:"Patrim\xF4nio",sortable:!0},{key:"name",label:"Nome",sortable:!0},{key:"type",label:"Tipo",sortable:!0},{key:"status",label:"Status",sortable:!0},{key:"department",label:"Departamento",sortable:!0},{key:"responsible",label:"Respons\xE1vel",sortable:!0}];break;default:this.tableColumns=[{key:"id",label:"ID",sortable:!0},{key:"title",label:"T\xEDtulo",sortable:!0},{key:"status",label:"Status",sortable:!0},{key:"date",label:"Data",sortable:!0},{key:"responsible",label:"Respons\xE1vel",sortable:!0}]}}loadReportData(){this.announceAction(`Relat\xF3rio carregado: ${this.reportData.length} registros`)}setupKeyboardShortcuts(){document.addEventListener("keydown",e=>{if(e.ctrlKey||e.metaKey)switch(e.key){case"e":e.preventDefault(),this.exportToPDF();break;case"r":e.preventDefault(),this.refreshStats();break;case"f":e.preventDefault(),this.resetFilters();break}})}getStatsSubtitle(){return`${this.getDateRangeLabel()} \u2022 ${this.getReportTypeLabel()}`}getDateRangeLabel(){return{today:"Hoje",week:"Esta Semana",month:"Este M\xEAs",quarter:"Este Trimestre",year:"Este Ano",custom:"Personalizado"}[this.selectedDateRange]||"Per\xEDodo"}getReportTypeLabel(){return{tickets:"Chamados",assets:"Ativos",maintenance:"Manuten\xE7\xF5es",performance:"Performance",users:"Usu\xE1rios"}[this.selectedReportType]||"Tipo"}getStatusLabel(){return{all:"Todos",active:"Ativo",inactive:"Inativo",pending:"Pendente",completed:"Conclu\xEDdo"}[this.selectedStatus]||"Status"}getDepartmentLabel(){return{all:"Todos",ti:"TI",rh:"RH",financeiro:"Financeiro",operacoes:"Opera\xE7\xF5es"}[this.selectedDepartment]||"Departamento"}getSortDirectionLabel(){return this.sortDirection==="asc"?"crescente":this.sortDirection==="desc"?"decrescente":"sem ordena\xE7\xE3o"}getCardColumns(){return this.tableColumns.slice(1,4)}getRowAriaLabel(e){return`${e.title||e.name||e.id}, Status: ${e.status}, Data: ${this.datePipe.transform(e.date,"dd/MM/yyyy")}`}getCardAriaLabel(e){return`Card do item ${e.title||e.name||e.id}, Status: ${e.status}`}getStatIcon(e){let t={total:"M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3M19,5V19H5V5H19Z",active:"M12,2A10,10 0 0,1 22,12A10,10 0 0,1 12,22A10,10 0 0,1 2,12A10,10 0 0,1 12,2M11,16.5L18,9.5L16.59,8.09L11,13.67L7.91,10.59L6.5,12L11,16.5Z",pending:"M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M12,6A1.5,1.5 0 0,1 13.5,7.5A1.5,1.5 0 0,1 12,9A1.5,1.5 0 0,1 10.5,7.5A1.5,1.5 0 0,1 12,6M12,17C9.5,17 7.5,15 7.5,12.5C7.5,11.77 7.64,11.07 7.87,10.43L10.46,13.02C11.07,13.63 11.94,14 12.94,14C14.08,14 15.09,13.47 15.71,12.64L18.29,15.22C17.65,16.36 16.64,17.28 15.36,17.78C14.28,18.22 13.16,18.44 12,18.44V17Z",completed:"M12,2A10,10 0 0,1 22,12A10,10 0 0,1 12,22A10,10 0 0,1 2,12A10,10 0 0,1 12,2M11,16.5L18,9.5L16.59,8.09L11,13.67L7.91,10.59L6.5,12L11,16.5Z"};return t[e]||t.total}getTrendIcon(e){let t={up:"M15,20H9V12H4.16L12,4.16L19.84,12H15V20Z",down:"M9,4H15V12H19.84L12,19.84L4.16,12H9V4Z",stable:"M5,13H19V11H5V13Z"};return t[e]||t.stable}trackStat(e,t){return t.type}trackColumn(e,t){return t.key}trackReportItem(e,t){return t.id}showToast(e,t){this.toastMessage=e,this.toastType=t,this.toastTimeout&&clearTimeout(this.toastTimeout),this.toastTimeout=window.setTimeout(()=>{this.closeToast()},4e3)}closeToast(){this.toastMessage="",this.toastTimeout&&(clearTimeout(this.toastTimeout),this.toastTimeout=void 0)}announceAction(e){let t=document.getElementById("status-announcements");t&&(t.textContent=e,setTimeout(()=>{t.textContent=""},1e3))}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Tt({type:n,selectors:[["app-relatorios"]],features:[zt([Kt])],decls:206,vars:19,consts:[["noData",""],["statusTemplate",""],["role","main",1,"relatorios-wrapper"],[1,"relatorios-header"],[1,"header-content"],[1,"page-info"],[1,"page-title"],[1,"page-subtitle"],[1,"header-actions"],["aria-label","Configurar relat\xF3rios","tabindex","0",1,"btn","btn-secondary",3,"click"],["width","20","height","20","viewBox","0 0 24 24","fill","currentColor"],["d","M12,15.5A3.5,3.5 0 0,1 8.5,12A3.5,3.5 0 0,1 12,8.5A3.5,3.5 0 0,1 15.5,12A3.5,3.5 0 0,1 12,15.5M19.43,12.97C19.47,12.65 19.5,12.33 19.5,12C19.5,11.67 19.47,11.34 19.43,11L21.54,9.37C21.73,9.22 21.78,8.95 21.66,8.73L19.66,5.27C19.54,5.05 19.27,4.96 19.05,5.05L16.56,6.05C16.04,5.66 15.5,5.32 14.87,5.07L14.5,2.42C14.46,2.18 14.25,2 14,2H10C9.75,2 9.54,2.18 9.5,2.42L9.13,5.07C8.5,5.32 7.96,5.66 7.44,6.05L4.95,5.05C4.73,4.96 4.46,5.05 4.34,5.27L2.34,8.73C2.22,8.95 2.27,9.22 2.46,9.37L4.57,11C4.53,11.34 4.5,11.67 4.5,12C4.5,12.33 4.53,12.65 4.57,12.97L2.46,14.63C2.27,14.78 2.22,15.05 2.34,15.27L4.34,18.73C4.46,18.95 4.73,19.03 4.95,18.95L7.44,17.94C7.96,18.34 8.5,18.68 9.13,18.93L9.5,21.58C9.54,21.82 9.75,22 10,22H14C14.25,22 14.46,21.82 14.5,21.58L14.87,18.93C15.5,18.68 16.04,18.34 16.56,17.94L19.05,18.95C19.27,19.03 19.54,18.95 19.66,18.73L21.66,15.27C21.78,15.05 21.73,14.78 21.54,14.63L19.43,12.97Z"],["aria-label","Gerar novo relat\xF3rio","tabindex","0",1,"btn","btn-primary",3,"click"],["d","M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z"],["aria-labelledby","filters-title",1,"filters-section"],[1,"section-card"],[1,"card-header"],[1,"header-left"],["id","filters-title",1,"card-title"],[1,"card-subtitle"],["aria-label","Limpar filtros","tabindex","0",1,"action-button",3,"click"],["d","M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"],[1,"filters-content"],[1,"filters-grid"],[1,"filter-group"],["for","date-range",1,"filter-label"],["id","date-range","aria-describedby","date-range-help",1,"filter-select",3,"ngModelChange","change","ngModel"],["value","today"],["value","week"],["value","month"],["value","quarter"],["value","year"],["value","custom"],["id","date-range-help",1,"filter-help"],["for","report-type",1,"filter-label"],["id","report-type","aria-describedby","report-type-help",1,"filter-select",3,"ngModelChange","change","ngModel"],["value","tickets"],["value","assets"],["value","maintenance"],["value","performance"],["value","users"],["id","report-type-help",1,"filter-help"],["for","status-filter",1,"filter-label"],["id","status-filter","aria-describedby","status-help",1,"filter-select",3,"ngModelChange","change","ngModel"],["value","all"],["value","active"],["value","inactive"],["value","pending"],["value","completed"],["id","status-help",1,"filter-help"],["for","department",1,"filter-label"],["id","department","aria-describedby","department-help",1,"filter-select",3,"ngModelChange","change","ngModel"],["value","ti"],["value","rh"],["value","financeiro"],["value","operacoes"],["id","department-help",1,"filter-help"],[1,"filters-actions"],["aria-label","Resetar filtros",1,"btn","btn-secondary",3,"click"],["width","16","height","16","viewBox","0 0 24 24","fill","currentColor"],["d","M17.65,6.35C16.2,4.9 14.21,4 12,4A8,8 0 0,0 4,12A8,8 0 0,0 12,20C15.73,20 18.84,17.45 19.73,14H17.65C16.83,16.33 14.61,18 12,18A6,6 0 0,1 6,12A6,6 0 0,1 12,6C13.66,6 15.14,6.69 16.22,7.78L13,11H20V4L17.65,6.35Z"],["aria-label","Aplicar filtros",1,"btn","btn-primary",3,"click"],["d","M14,12V19.88C14.04,20.18 13.94,20.5 13.71,20.71C13.32,21.1 12.69,21.1 12.3,20.71L10.29,18.7C10.06,18.47 9.96,18.16 10,17.87V12H9.97L4.21,4.62C3.87,4.19 3.95,3.56 4.38,3.22C4.57,3.08 4.78,3 5,3V3H19V3C19.22,3 19.43,3.08 19.62,3.22C20.05,3.56 20.13,4.19 19.79,4.62L14.03,12H14Z"],[1,"relatorios-content"],["aria-labelledby","stats-title",1,"stats-section"],["id","stats-title",1,"card-title"],["aria-label","Atualizar estat\xEDsticas","tabindex","0",1,"action-button",3,"click"],[1,"stats-grid"],["class","stat-item",4,"ngFor","ngForOf","ngForTrackBy"],["aria-labelledby","data-title",1,"data-section"],["id","data-title",1,"card-title"],[1,"view-options"],["aria-label","Visualiza\xE7\xE3o em tabela","tabindex","0",1,"view-toggle",3,"click"],["d","M3,3H21V5H3V3M3,7H21V9H3V7M3,11H21V13H3V11M3,15H21V17H3V15M3,19H21V21H3V19Z"],["aria-label","Visualiza\xE7\xE3o em cards","tabindex","0",1,"view-toggle",3,"click"],["d","M3,11H11V3H3M3,21H11V13H3M13,21H21V13H13M13,3V11H21V3"],[1,"data-container"],["class","table-wrapper",4,"ngIf"],["class","cards-wrapper",4,"ngIf"],["aria-labelledby","export-title",1,"export-section"],["id","export-title",1,"card-title"],[1,"export-content"],[1,"export-options"],["aria-label","Exportar para PDF","tabindex","0",1,"export-btn","pdf",3,"click"],[1,"export-icon"],["width","24","height","24","viewBox","0 0 24 24","fill","currentColor"],["d","M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M18,20H6V4H13V9H18V20Z"],[1,"export-info"],[1,"export-title"],[1,"export-description"],["aria-label","Exportar para Excel","tabindex","0",1,"export-btn","excel",3,"click"],["aria-label","Exportar para CSV","tabindex","0",1,"export-btn","csv",3,"click"],["aria-label","Exportar para JSON","tabindex","0",1,"export-btn","json",3,"click"],["d","M5,3H7V5H5V10A2,2 0 0,1 3,12A2,2 0 0,1 5,14V19H7V21H5C3.93,20.73 3,20.1 3,19V15A2,2 0 0,0 1,13H0V11H1A2,2 0 0,0 3,9V5C3,3.9 3.9,3 5,3M19,3A2,2 0 0,1 21,5V9A2,2 0 0,0 23,11H24V13H23A2,2 0 0,0 21,15V19A2,2 0 0,1 19,21H17V19H19V14A2,2 0 0,1 21,12A2,2 0 0,1 19,10V5H17V3H19Z"],[1,"export-settings"],[1,"setting-group"],[1,"checkbox-label"],["type","checkbox","aria-describedby","headers-help",3,"ngModelChange","ngModel"],[1,"checkbox-custom"],["id","headers-help",1,"setting-help"],["type","checkbox","aria-describedby","filters-help",3,"ngModelChange","ngModel"],["id","filters-help",1,"setting-help"],["aria-live","polite","aria-atomic","true",1,"toast-container"],["class","toast","role","alert",3,"class",4,"ngIf"],["aria-live","polite","id","status-announcements",1,"sr-only"],[1,"stat-item"],[1,"stat-icon"],[1,"stat-content"],[1,"stat-value"],[1,"stat-label"],[1,"stat-trend"],[1,"table-wrapper"],["role","table","aria-label","Tabela de dados do relat\xF3rio",1,"table-container"],["role","row",1,"table-header"],["class","table-cell header-cell","role","columnheader","tabindex","0",3,"class","click","keydown.enter","keydown.space",4,"ngFor","ngForOf","ngForTrackBy"],["class","table-body",4,"ngIf","ngIfElse"],["role","columnheader","tabindex","0",1,"table-cell","header-cell",3,"click","keydown.enter","keydown.space"],["width","16","height","16","viewBox","0 0 24 24","fill","currentColor","class","sort-icon",4,"ngIf"],["width","16","height","16","viewBox","0 0 24 24","fill","currentColor",1,"sort-icon"],[1,"table-body"],["class","table-row","role","row","tabindex","0",3,"click","keydown.enter","keydown.space",4,"ngFor","ngForOf","ngForTrackBy"],["role","row","tabindex","0",1,"table-row",3,"click","keydown.enter","keydown.space"],["class","table-cell","role","gridcell",3,"class",4,"ngFor","ngForOf","ngForTrackBy"],["role","gridcell",1,"table-cell"],[4,"ngIf","ngIfElse"],[1,"status-badge"],[1,"cards-wrapper"],["class","cards-grid",4,"ngIf","ngIfElse"],[1,"cards-grid"],["class","data-card","tabindex","0","role","button",3,"click","keydown.enter","keydown.space",4,"ngFor","ngForOf","ngForTrackBy"],["tabindex","0","role","button",1,"data-card",3,"click","keydown.enter","keydown.space"],[1,"card-content"],[1,"card-header-info"],[1,"card-title"],[1,"card-details"],["class","detail-item",4,"ngFor","ngForOf","ngForTrackBy"],[1,"detail-item"],[1,"detail-label"],[1,"detail-value"],["role","status","aria-label","Nenhum dado encontrado",1,"empty-state"],[1,"empty-icon"],["width","64","height","64","viewBox","0 0 24 24","fill","currentColor"],[1,"empty-title"],[1,"empty-description"],[1,"btn","btn-primary",3,"click"],["role","alert",1,"toast"],[1,"toast-content"],["width","20","height","20","viewBox","0 0 24 24","fill","currentColor",4,"ngIf"],["aria-label","Fechar notifica\xE7\xE3o",1,"toast-close",3,"click"],["d","M12,2A10,10 0 0,1 22,12A10,10 0 0,1 12,22A10,10 0 0,1 2,12A10,10 0 0,1 12,2M11,16.5L18,9.5L16.59,8.09L11,13.67L7.91,10.59L6.5,12L11,16.5Z"],["d","M12,2A10,10 0 0,1 22,12A10,10 0 0,1 12,22A10,10 0 0,1 2,12A10,10 0 0,1 12,2M12,7A5,5 0 0,0 7,12A5,5 0 0,0 12,17A5,5 0 0,0 17,12A5,5 0 0,0 12,7M12,9A3,3 0 0,1 15,12A3,3 0 0,1 12,15A3,3 0 0,1 9,12A3,3 0 0,1 12,9Z"]],template:function(t,r){if(t&1){let i=Ge();h(0,"div",2)(1,"header",3)(2,"div",4)(3,"div",5)(4,"h1",6),w(5,"Relat\xF3rios"),g(),h(6,"p",7),w(7,"An\xE1lises e exporta\xE7\xF5es de dados do sistema"),g()(),h(8,"div",8)(9,"button",9),H("click",function(){return U(i),B(r.openSettings())}),$(),h(10,"svg",10),V(11,"path",11),g(),w(12," Configura\xE7\xF5es "),g(),Y(),h(13,"button",12),H("click",function(){return U(i),B(r.generateNewReport())}),$(),h(14,"svg",10),V(15,"path",13),g(),w(16," Novo Relat\xF3rio "),g()()()(),Y(),h(17,"section",14)(18,"div",15)(19,"header",16)(20,"div",17)(21,"h2",18),w(22,"Filtros e Per\xEDodo"),g(),h(23,"p",19),w(24,"Configure os par\xE2metros do relat\xF3rio"),g()(),h(25,"div",8)(26,"button",20),H("click",function(){return U(i),B(r.clearFilters())}),$(),h(27,"svg",10),V(28,"path",21),g()()()(),Y(),h(29,"div",22)(30,"div",23)(31,"div",24)(32,"label",25),w(33,"Per\xEDodo"),g(),h(34,"select",26),we("ngModelChange",function(s){return U(i),Ee(r.selectedDateRange,s)||(r.selectedDateRange=s),B(s)}),H("change",function(){return U(i),B(r.onDateRangeChange())}),h(35,"option",27),w(36,"Hoje"),g(),h(37,"option",28),w(38,"Esta Semana"),g(),h(39,"option",29),w(40,"Este M\xEAs"),g(),h(41,"option",30),w(42,"Este Trimestre"),g(),h(43,"option",31),w(44,"Este Ano"),g(),h(45,"option",32),w(46,"Personalizado"),g()(),h(47,"small",33),w(48,"Selecione o per\xEDodo para an\xE1lise"),g()(),h(49,"div",24)(50,"label",34),w(51,"Tipo de Relat\xF3rio"),g(),h(52,"select",35),we("ngModelChange",function(s){return U(i),Ee(r.selectedReportType,s)||(r.selectedReportType=s),B(s)}),H("change",function(){return U(i),B(r.onReportTypeChange())}),h(53,"option",36),w(54,"Chamados"),g(),h(55,"option",37),w(56,"Ativos"),g(),h(57,"option",38),w(58,"Manuten\xE7\xF5es"),g(),h(59,"option",39),w(60,"Performance"),g(),h(61,"option",40),w(62,"Usu\xE1rios"),g()(),h(63,"small",41),w(64,"Escolha o tipo de dados para relat\xF3rio"),g()(),h(65,"div",24)(66,"label",42),w(67,"Status"),g(),h(68,"select",43),we("ngModelChange",function(s){return U(i),Ee(r.selectedStatus,s)||(r.selectedStatus=s),B(s)}),H("change",function(){return U(i),B(r.onStatusChange())}),h(69,"option",44),w(70,"Todos"),g(),h(71,"option",45),w(72,"Ativo"),g(),h(73,"option",46),w(74,"Inativo"),g(),h(75,"option",47),w(76,"Pendente"),g(),h(77,"option",48),w(78,"Conclu\xEDdo"),g()(),h(79,"small",49),w(80,"Filtrar por status espec\xEDfico"),g()(),h(81,"div",24)(82,"label",50),w(83,"Departamento"),g(),h(84,"select",51),we("ngModelChange",function(s){return U(i),Ee(r.selectedDepartment,s)||(r.selectedDepartment=s),B(s)}),H("change",function(){return U(i),B(r.onDepartmentChange())}),h(85,"option",44),w(86,"Todos"),g(),h(87,"option",52),w(88,"TI"),g(),h(89,"option",53),w(90,"RH"),g(),h(91,"option",54),w(92,"Financeiro"),g(),h(93,"option",55),w(94,"Opera\xE7\xF5es"),g()(),h(95,"small",56),w(96,"Filtrar por departamento"),g()()(),h(97,"div",57)(98,"button",58),H("click",function(){return U(i),B(r.resetFilters())}),$(),h(99,"svg",59),V(100,"path",60),g(),w(101," Resetar "),g(),Y(),h(102,"button",61),H("click",function(){return U(i),B(r.applyFilters())}),$(),h(103,"svg",59),V(104,"path",62),g(),w(105," Aplicar Filtros "),g()()()()(),Y(),h(106,"div",63)(107,"section",64)(108,"div",15)(109,"header",16)(110,"div",17)(111,"h2",65),w(112,"Resumo Estat\xEDstico"),g(),h(113,"p",19),w(114),g()(),h(115,"div",8)(116,"button",66),H("click",function(){return U(i),B(r.refreshStats())}),$(),h(117,"svg",10),V(118,"path",60),g()()()(),Y(),h(119,"div",67),oe(120,mJ,15,12,"div",68),g()()(),h(121,"section",69)(122,"div",15)(123,"header",16)(124,"div",17)(125,"h2",70),w(126,"Dados Detalhados"),g(),h(127,"p",19),w(128),g()(),h(129,"div",8)(130,"div",71)(131,"button",72),H("click",function(){return U(i),B(r.setViewMode("table"))}),$(),h(132,"svg",10),V(133,"path",73),g()(),Y(),h(134,"button",74),H("click",function(){return U(i),B(r.setViewMode("cards"))}),$(),h(135,"svg",10),V(136,"path",75),g()()()()(),Y(),h(137,"div",76),oe(138,IJ,5,4,"div",77)(139,MJ,2,2,"div",78)(140,DJ,10,0,"ng-template",null,0,hi),g()()()(),h(142,"section",79)(143,"div",15)(144,"header",16)(145,"div",17)(146,"h2",80),w(147,"Exportar Relat\xF3rio"),g(),h(148,"p",19),w(149,"Baixe os dados em diferentes formatos"),g()()(),h(150,"div",81)(151,"div",82)(152,"button",83),H("click",function(){return U(i),B(r.exportToPDF())}),h(153,"div",84),$(),h(154,"svg",85),V(155,"path",86),g()(),Y(),h(156,"div",87)(157,"span",88),w(158,"PDF"),g(),h(159,"span",89),w(160,"Documento formatado"),g()()(),h(161,"button",90),H("click",function(){return U(i),B(r.exportToExcel())}),h(162,"div",84),$(),h(163,"svg",85),V(164,"path",86),g()(),Y(),h(165,"div",87)(166,"span",88),w(167,"Excel"),g(),h(168,"span",89),w(169,"Planilha edit\xE1vel"),g()()(),h(170,"button",91),H("click",function(){return U(i),B(r.exportToCSV())}),h(171,"div",84),$(),h(172,"svg",85),V(173,"path",86),g()(),Y(),h(174,"div",87)(175,"span",88),w(176,"CSV"),g(),h(177,"span",89),w(178,"Dados separados por v\xEDrgula"),g()()(),h(179,"button",92),H("click",function(){return U(i),B(r.exportToJSON())}),h(180,"div",84),$(),h(181,"svg",85),V(182,"path",93),g()(),Y(),h(183,"div",87)(184,"span",88),w(185,"JSON"),g(),h(186,"span",89),w(187,"Formato estruturado"),g()()()(),h(188,"div",94)(189,"div",95)(190,"label",96)(191,"input",97),we("ngModelChange",function(s){return U(i),Ee(r.exportSettings.includeHeaders,s)||(r.exportSettings.includeHeaders=s),B(s)}),g(),V(192,"span",98),w(193," Incluir cabe\xE7alhos "),g(),h(194,"small",99),w(195,"Adicionar nomes das colunas no arquivo"),g()(),h(196,"div",95)(197,"label",96)(198,"input",100),we("ngModelChange",function(s){return U(i),Ee(r.exportSettings.includeFilters,s)||(r.exportSettings.includeFilters=s),B(s)}),g(),V(199,"span",98),w(200," Incluir filtros aplicados "),g(),h(201,"small",101),w(202,"Adicionar informa\xE7\xF5es dos filtros no relat\xF3rio"),g()()()()()(),h(203,"div",102),oe(204,kJ,9,5,"div",103),g()(),V(205,"div",104)}t&2&&(C(34),ye("ngModel",r.selectedDateRange),C(18),ye("ngModel",r.selectedReportType),C(16),ye("ngModel",r.selectedStatus),C(16),ye("ngModel",r.selectedDepartment),C(30),ce(r.getStatsSubtitle()),C(6),W("ngForOf",r.reportStats)("ngForTrackBy",r.trackStat),C(8),Be("",r.reportData.length," registros encontrados"),C(3),_e("active",r.viewMode==="table"),C(3),_e("active",r.viewMode==="cards"),C(3),ut("view-"+r.viewMode),C(),W("ngIf",r.viewMode==="table"),C(),W("ngIf",r.viewMode==="cards"),C(52),ye("ngModel",r.exportSettings.includeHeaders),C(7),ye("ngModel",r.exportSettings.includeFilters),C(6),W("ngIf",r.toastMessage))},dependencies:[Mt,hr,qt,Vw,mr,ts,ns,pa,bi,gr,Xn],styles:['@charset "UTF-8";[_ngcontent-%COMP%]:root{--primary-bg: #0F1419;--secondary-bg: #16202A;--tertiary-bg: #1E2732;--hover-bg: #253341;--primary-text: #F7F9FA;--secondary-text: #8B98A5;--white-text: #FFFFFF;--accent-blue: #1D9BF0;--accent-blue-light: #4AB3F4;--accent-blue-dark: #1A8CD8;--border-color: #2F3336;--border-light: #3E4347;--success-color: #00BA7C;--warning-color: #FFD400;--error-color: #F4212E;--info-color: #1D9BF0;--gradient-primary: linear-gradient(135deg, #1D9BF0, #4AB3F4);--gradient-success: linear-gradient(135deg, #00BA7C, #00D084);--gradient-warning: linear-gradient(135deg, #FFD400, #FFDC00);--gradient-error: linear-gradient(135deg, #F4212E, #FF4757);--shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, .05);--shadow-md: 0 4px 6px -1px rgba(0, 0, 0, .1), 0 2px 4px -1px rgba(0, 0, 0, .06);--shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, .1), 0 4px 6px -2px rgba(0, 0, 0, .05);--shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, .1), 0 10px 10px -5px rgba(0, 0, 0, .04);--transition-fast: all .15s ease;--transition-normal: all .3s cubic-bezier(.4, 0, .2, 1);--transition-slow: all .5s cubic-bezier(.4, 0, .2, 1);--radius-sm: 4px;--radius-md: 8px;--radius-lg: 12px;--radius-xl: 16px;--radius-full: 9999px;--spacing-xs: 4px;--spacing-sm: 8px;--spacing-md: 16px;--spacing-lg: 24px;--spacing-xl: 32px;--spacing-2xl: 48px}.relatorios-wrapper[_ngcontent-%COMP%]{min-height:100vh;background-color:var(--primary-bg);padding:var(--spacing-lg);max-width:1600px;margin:0 auto}@media (max-width: 768px){.relatorios-wrapper[_ngcontent-%COMP%]{padding:var(--spacing-md)}}.relatorios-header[_ngcontent-%COMP%]{margin-bottom:var(--spacing-2xl)}.relatorios-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;gap:var(--spacing-lg)}@media (max-width: 768px){.relatorios-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch;gap:var(--spacing-md)}}.page-info[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{font-size:clamp(28px,4vw,36px);font-weight:700;color:var(--primary-text);margin:0 0 var(--spacing-sm) 0;line-height:1.2;background:var(--gradient-primary);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.page-info[_ngcontent-%COMP%]   .page-subtitle[_ngcontent-%COMP%]{font-size:16px;color:var(--secondary-text);margin:0;line-height:1.4}.header-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--spacing-sm)}@media (max-width: 768px){.header-actions[_ngcontent-%COMP%]{justify-content:stretch}.header-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{flex:1}}.filters-section[_ngcontent-%COMP%]{margin-bottom:var(--spacing-2xl)}.filters-content[_ngcontent-%COMP%]{padding:var(--spacing-lg)}.filters-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:var(--spacing-lg);margin-bottom:var(--spacing-lg)}@media (max-width: 768px){.filters-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:var(--spacing-md)}}.filter-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--spacing-xs)}.filter-label[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:var(--primary-text);margin-bottom:var(--spacing-xs)}.filter-select[_ngcontent-%COMP%]{padding:var(--spacing-sm) var(--spacing-md);background-color:var(--tertiary-bg);border:1px solid var(--border-color);border-radius:var(--radius-md);color:var(--primary-text);font-size:14px;transition:var(--transition-normal)}.filter-select[_ngcontent-%COMP%]:hover{border-color:var(--border-light)}.filter-select[_ngcontent-%COMP%]:focus{outline:2px solid var(--accent-blue);outline-offset:2px;border-color:var(--accent-blue)}.filter-select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{background-color:var(--secondary-bg);color:var(--primary-text)}.filter-help[_ngcontent-%COMP%]{font-size:12px;color:var(--secondary-text);line-height:1.4}.filters-actions[_ngcontent-%COMP%]{display:flex;gap:var(--spacing-sm);justify-content:flex-end}@media (max-width: 768px){.filters-actions[_ngcontent-%COMP%]{justify-content:stretch}.filters-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{flex:1}}.relatorios-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--spacing-2xl)}.stats-section[_ngcontent-%COMP%]   .section-card[_ngcontent-%COMP%]{overflow:visible}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:var(--spacing-lg);padding:var(--spacing-lg)}@media (max-width: 768px){.stats-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:var(--spacing-md);padding:var(--spacing-md)}}.stat-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--spacing-md);padding:var(--spacing-lg);background-color:var(--tertiary-bg);border:1px solid var(--border-color);border-radius:var(--radius-lg);transition:var(--transition-normal)}.stat-item[_ngcontent-%COMP%]:hover{border-color:var(--border-light);box-shadow:var(--shadow-md);transform:translateY(-2px)}.stat-icon[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:var(--radius-lg);display:flex;align-items:center;justify-content:center;flex-shrink:0}.stat-icon.icon-total[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:var(--white-text)}.stat-icon.icon-active[_ngcontent-%COMP%]{background:linear-gradient(135deg,#43e97b,#38f9d7);color:var(--white-text)}.stat-icon.icon-pending[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f093fb,#f5576c);color:var(--white-text)}.stat-icon.icon-completed[_ngcontent-%COMP%]{background:linear-gradient(135deg,#4facfe,#00f2fe);color:var(--white-text)}.stat-content[_ngcontent-%COMP%]{flex:1}.stat-content[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{display:block;font-size:clamp(20px,3vw,28px);font-weight:700;color:var(--primary-text);line-height:1.1;margin-bottom:var(--spacing-xs)}.stat-content[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{display:block;font-size:14px;color:var(--secondary-text);font-weight:500;margin-bottom:var(--spacing-sm)}.stat-content[_ngcontent-%COMP%]   .stat-trend[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--spacing-xs);font-size:12px;font-weight:600}.stat-content[_ngcontent-%COMP%]   .stat-trend[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:16px;height:16px}.stat-content[_ngcontent-%COMP%]   .stat-trend.trend-up[_ngcontent-%COMP%]{color:var(--success-color)}.stat-content[_ngcontent-%COMP%]   .stat-trend.trend-down[_ngcontent-%COMP%]{color:var(--error-color)}.stat-content[_ngcontent-%COMP%]   .stat-trend.trend-stable[_ngcontent-%COMP%]{color:var(--secondary-text)}.data-section[_ngcontent-%COMP%]   .section-card[_ngcontent-%COMP%]{min-height:600px}.view-options[_ngcontent-%COMP%]{display:flex;background-color:var(--tertiary-bg);border-radius:var(--radius-md);padding:2px;border:1px solid var(--border-color)}.view-toggle[_ngcontent-%COMP%]{width:36px;height:36px;border:none;background-color:transparent;color:var(--secondary-text);border-radius:var(--radius-sm);display:flex;align-items:center;justify-content:center;cursor:pointer;transition:var(--transition-normal)}.view-toggle[_ngcontent-%COMP%]:hover{color:var(--primary-text);background-color:var(--hover-bg)}.view-toggle.active[_ngcontent-%COMP%]{background-color:var(--accent-blue);color:var(--white-text);box-shadow:var(--shadow-sm)}.view-toggle[_ngcontent-%COMP%]:focus{outline:2px solid var(--accent-blue);outline-offset:2px}.data-container[_ngcontent-%COMP%]{padding:var(--spacing-sm);max-height:520px;overflow-y:auto}.data-container[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.data-container[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:var(--tertiary-bg);border-radius:var(--radius-sm)}.data-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:var(--border-color);border-radius:var(--radius-sm)}.data-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:var(--secondary-text)}.table-wrapper[_ngcontent-%COMP%]{overflow-x:auto}.table-container[_ngcontent-%COMP%]{min-width:600px}.table-header[_ngcontent-%COMP%]{display:grid;grid-template-columns:80px 2fr 1fr 1fr 1.5fr 1.5fr;gap:var(--spacing-md);padding:var(--spacing-md) var(--spacing-lg);background:linear-gradient(135deg,var(--tertiary-bg) 0%,var(--secondary-bg) 100%);border-bottom:1px solid var(--border-color);border-radius:var(--radius-lg) var(--radius-lg) 0 0}.table-body[_ngcontent-%COMP%]{display:flex;flex-direction:column}.table-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:80px 2fr 1fr 1fr 1.5fr 1.5fr;gap:var(--spacing-md);padding:var(--spacing-md) var(--spacing-lg);border-bottom:1px solid var(--border-color);cursor:pointer;transition:var(--transition-normal)}.table-row[_ngcontent-%COMP%]:hover, .table-row[_ngcontent-%COMP%]:focus{background-color:var(--hover-bg);transform:translate(4px)}.table-row[_ngcontent-%COMP%]:focus{outline:2px solid var(--accent-blue);outline-offset:-2px}.table-row[_ngcontent-%COMP%]:last-child{border-bottom:none;border-radius:0 0 var(--radius-lg) var(--radius-lg)}.table-cell[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:14px;color:var(--primary-text)}.table-cell.header-cell[_ngcontent-%COMP%]{font-size:12px;font-weight:600;color:var(--secondary-text);text-transform:uppercase;letter-spacing:.5px;cursor:pointer;-webkit-user-select:none;user-select:none}.table-cell.header-cell[_ngcontent-%COMP%]:hover{color:var(--primary-text)}.sort-icon[_ngcontent-%COMP%]{margin-left:var(--spacing-xs);opacity:.7}.cards-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:var(--spacing-md)}.data-card[_ngcontent-%COMP%]{background-color:var(--secondary-bg);border:1px solid var(--border-color);border-radius:var(--radius-lg);padding:var(--spacing-md);cursor:pointer;transition:var(--transition-normal)}.data-card[_ngcontent-%COMP%]:hover, .data-card[_ngcontent-%COMP%]:focus{border-color:var(--accent-blue);box-shadow:var(--shadow-md);transform:translateY(-2px)}.data-card[_ngcontent-%COMP%]:focus{outline:2px solid var(--accent-blue);outline-offset:2px}.card-header-info[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;gap:var(--spacing-sm);margin-bottom:var(--spacing-md)}.card-header-info[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:var(--primary-text);margin:0;line-height:1.4;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;line-clamp:2;-webkit-box-orient:vertical;box-orient:vertical}.card-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--spacing-sm)}.detail-item[_ngcontent-%COMP%]{display:flex;font-size:12px}.detail-item[_ngcontent-%COMP%]   .detail-label[_ngcontent-%COMP%]{color:var(--secondary-text);font-weight:500;min-width:80px}.detail-item[_ngcontent-%COMP%]   .detail-value[_ngcontent-%COMP%]{color:var(--primary-text);flex:1}.status-badge[_ngcontent-%COMP%]{padding:var(--spacing-xs) var(--spacing-sm);border-radius:var(--radius-sm);font-size:10px;font-weight:600;text-transform:uppercase;letter-spacing:.5px;white-space:nowrap}.status-badge.status-aberto[_ngcontent-%COMP%]{background-color:#1d9bf01a;color:var(--info-color);border:1px solid rgba(29,155,240,.2)}.status-badge.status-fechado[_ngcontent-%COMP%]{background-color:#2f33361a;color:var(--secondary-text);border:1px solid rgba(47,51,54,.2)}.status-badge.status-em-andamento[_ngcontent-%COMP%]{background-color:#ffd4001a;color:var(--warning-color);border:1px solid rgba(255,212,0,.2)}.status-badge.status-pendente[_ngcontent-%COMP%]{background-color:#8b98a51a;color:var(--secondary-text);border:1px solid rgba(139,152,165,.2)}.status-badge.status-conclu\\ed do[_ngcontent-%COMP%]{background-color:#00ba7c1a;color:var(--success-color);border:1px solid rgba(0,186,124,.2)}.empty-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:var(--spacing-2xl);text-align:center;min-height:400px}.empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{color:var(--secondary-text);margin-bottom:var(--spacing-lg);opacity:.5}.empty-state[_ngcontent-%COMP%]   .empty-title[_ngcontent-%COMP%]{font-size:20px;font-weight:600;color:var(--primary-text);margin:0 0 var(--spacing-sm) 0}.empty-state[_ngcontent-%COMP%]   .empty-description[_ngcontent-%COMP%]{font-size:14px;color:var(--secondary-text);margin:0 0 var(--spacing-lg) 0;max-width:400px;line-height:1.5}.export-section[_ngcontent-%COMP%]   .section-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--secondary-bg) 0%,var(--tertiary-bg) 100%)}.export-content[_ngcontent-%COMP%]{padding:var(--spacing-lg)}.export-options[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:var(--spacing-md);margin-bottom:var(--spacing-2xl)}@media (max-width: 768px){.export-options[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:var(--spacing-sm)}}.export-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--spacing-md);padding:var(--spacing-lg);background-color:var(--secondary-bg);border:1px solid var(--border-color);border-radius:var(--radius-lg);cursor:pointer;transition:var(--transition-normal);text-align:left}.export-btn[_ngcontent-%COMP%]:hover, .export-btn[_ngcontent-%COMP%]:focus{border-color:var(--accent-blue);box-shadow:var(--shadow-md);transform:translateY(-2px)}.export-btn[_ngcontent-%COMP%]:focus{outline:2px solid var(--accent-blue);outline-offset:2px}.export-btn.pdf[_ngcontent-%COMP%]   .export-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#dc3545,#c82333);color:var(--white-text)}.export-btn.excel[_ngcontent-%COMP%]   .export-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#28a745,#218838);color:var(--white-text)}.export-btn.csv[_ngcontent-%COMP%]   .export-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#17a2b8,#138496);color:var(--white-text)}.export-btn.json[_ngcontent-%COMP%]   .export-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#6f42c1,#5a32a3);color:var(--white-text)}.export-icon[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:var(--radius-lg);display:flex;align-items:center;justify-content:center;flex-shrink:0}.export-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--spacing-xs)}.export-info[_ngcontent-%COMP%]   .export-title[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:var(--primary-text)}.export-info[_ngcontent-%COMP%]   .export-description[_ngcontent-%COMP%]{font-size:12px;color:var(--secondary-text)}.export-settings[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--spacing-md);padding:var(--spacing-lg);background-color:var(--tertiary-bg);border:1px solid var(--border-color);border-radius:var(--radius-lg)}.setting-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--spacing-xs)}.checkbox-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--spacing-sm);cursor:pointer;font-size:14px;color:var(--primary-text)}.checkbox-label[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{display:none}.checkbox-custom[_ngcontent-%COMP%]{width:18px;height:18px;border:2px solid var(--border-color);border-radius:var(--radius-sm);display:flex;align-items:center;justify-content:center;transition:var(--transition-normal)}.checkbox-custom[_ngcontent-%COMP%]:after{content:"";width:10px;height:10px;background:var(--gradient-primary);border-radius:2px;opacity:0;transform:scale(0);transition:var(--transition-normal)}input[_ngcontent-%COMP%]:checked + .checkbox-custom[_ngcontent-%COMP%]{border-color:var(--accent-blue)}input[_ngcontent-%COMP%]:checked + .checkbox-custom[_ngcontent-%COMP%]:after{opacity:1;transform:scale(1)}input[_ngcontent-%COMP%]:focus + .checkbox-custom[_ngcontent-%COMP%]{outline:2px solid var(--accent-blue);outline-offset:2px}.setting-help[_ngcontent-%COMP%]{font-size:12px;color:var(--secondary-text);line-height:1.4;margin-left:26px}.toast-container[_ngcontent-%COMP%]{position:fixed;top:var(--spacing-lg);right:var(--spacing-lg);z-index:1000}.toast[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--spacing-sm);padding:var(--spacing-md) var(--spacing-lg);background-color:var(--secondary-bg);border:1px solid var(--border-color);border-radius:var(--radius-lg);box-shadow:var(--shadow-lg);min-width:300px;animation:_ngcontent-%COMP%_slideIn .3s ease-out}.toast.toast-success[_ngcontent-%COMP%]{border-color:var(--success-color);background-color:#00ba7c1a}.toast.toast-success[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:var(--success-color)}.toast.toast-error[_ngcontent-%COMP%]{border-color:var(--error-color);background-color:#f4212e1a}.toast.toast-error[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:var(--error-color)}.toast.toast-info[_ngcontent-%COMP%]{border-color:var(--info-color);background-color:#1d9bf01a}.toast.toast-info[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:var(--info-color)}@keyframes _ngcontent-%COMP%_slideIn{0%{transform:translate(100%);opacity:0}to{transform:translate(0);opacity:1}}.toast-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--spacing-sm);flex:1}.toast-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;color:var(--primary-text);font-weight:500}.toast-close[_ngcontent-%COMP%]{width:24px;height:24px;border:none;background-color:transparent;color:var(--secondary-text);border-radius:var(--radius-sm);display:flex;align-items:center;justify-content:center;cursor:pointer;transition:var(--transition-fast)}.toast-close[_ngcontent-%COMP%]:hover{background-color:var(--hover-bg);color:var(--primary-text)}@media (max-width: 1024px){.table-header[_ngcontent-%COMP%], .table-row[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:var(--spacing-sm)}.table-cell[_ngcontent-%COMP%]{padding:var(--spacing-xs) 0}.table-cell.header-cell[_ngcontent-%COMP%]:first-child{font-weight:600;border-bottom:1px solid var(--border-color);padding-bottom:var(--spacing-sm);margin-bottom:var(--spacing-xs)}}@media (max-width: 768px){.stats-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.stat-item[_ngcontent-%COMP%]{flex-direction:column;text-align:center;gap:var(--spacing-sm)}.cards-grid[_ngcontent-%COMP%], .export-options[_ngcontent-%COMP%]{grid-template-columns:1fr}.toast[_ngcontent-%COMP%]{min-width:280px;margin:0 var(--spacing-sm)}}@media (prefers-contrast: high){.section-card[_ngcontent-%COMP%], .stat-item[_ngcontent-%COMP%], .data-card[_ngcontent-%COMP%], .export-btn[_ngcontent-%COMP%], .status-badge[_ngcontent-%COMP%]{border-width:2px}.checkbox-custom[_ngcontent-%COMP%]{border-width:3px}}@media (prefers-reduced-motion: reduce){.stat-item[_ngcontent-%COMP%], .data-card[_ngcontent-%COMP%], .export-btn[_ngcontent-%COMP%], .table-row[_ngcontent-%COMP%]{transform:none!important}.toast[_ngcontent-%COMP%]{animation:none}}']})};var Ul=(n,e)=>{let t=F(Pn),r=F(Ye);return lN(t).pipe(le(i=>i?!0:(console.log("Acesso negado. Redirecionando para login."),r.createUrlTree(["/login"]))))};var cL=[{path:"",redirectTo:"/login",pathMatch:"full"},{path:"login",component:wm},{path:"cadastro",component:b_},{path:"esqueci-senha",component:C_},{path:"dashboard",component:E_,canActivate:[Ul]},{path:"ativos",component:T_,canActivate:[Ul]},{path:"ativos/novo",component:M_,canActivate:[Ul]},{path:"chamados",component:B_,canActivate:[Ul]},{path:"relatorios",component:j_,canActivate:[Ul]},{path:"**",redirectTo:"/dashboard"}];var lL={production:!1,firebase:{apiKey:"AIzaSyACyeSMBCeBEWdWK2IjOMLHgqQ3IjIHP8M",authDomain:"sigti-f53e8.firebaseapp.com",projectId:"sigti-f53e8",storageBucket:"sigti-f53e8.firebasestorage.app",messagingSenderId:"993196296823",appId:"1:993196296823:web:ff15d39761cdc3d8845472",measurementId:"G-YS7W33BPM7",databaseURL:"https://sigti-f53e8-default-rtdb.firebaseio.com"}};var uL="@firebase/database",dL="1.0.20";var GS="";function RJ(n){GS=n}var nS=class{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){t==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Qt(t))}get(e){let t=this.domStorage_.getItem(this.prefixedName_(e));return t==null?null:Jc(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}};var rS=class{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){t==null?delete this.cache_[e]:this.cache_[e]=t}get(e){return Si(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}};var $L=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){let e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new nS(e)}}catch{}return new rS},Ha=$L("localStorage"),iS=$L("sessionStorage");var $l=new vr("@firebase/database"),OJ=function(){let n=1;return function(){return n++}}(),zL=function(n){let e=NR(n),t=new qg;t.update(e);let r=t.digest();return Xc.encodeByteArray(r)},Lh=function(...n){let e="";for(let t=0;t<n.length;t++){let r=n[t];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Lh.apply(null,r):typeof r=="object"?e+=Qt(r):e+=r,e+=" "}return e},$a=null,hL=!0,NJ=function(n,e){Q(!e||n===!0||n===!1,"Can't turn on custom loggers persistently."),n===!0?($l.logLevel=Pe.VERBOSE,$a=$l.log.bind($l),e&&iS.set("logging_enabled",!0)):typeof n=="function"?$a=n:($a=null,iS.remove("logging_enabled"))},wn=function(...n){if(hL===!0&&(hL=!1,$a===null&&iS.get("logging_enabled")===!0&&NJ(!0)),$a){let e=Lh.apply(null,n);$a(e)}},Uh=function(n){return function(...e){wn(n,...e)}},oS=function(...n){let e="FIREBASE INTERNAL ERROR: "+Lh(...n);$l.error(e)},To=function(...n){let e=`FIREBASE FATAL ERROR: ${Lh(...n)}`;throw $l.error(e),new Error(e)},ir=function(...n){let e="FIREBASE WARNING: "+Lh(...n);$l.warn(e)},FJ=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&ir("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},qL=function(n){return typeof n=="number"&&(n!==n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},VJ=function(n){if(Ii()||document.readyState==="complete")n();else{let e=!1,t=function(){if(!document.body){setTimeout(t,Math.floor(10));return}e||(e=!0,n())};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&t()}),window.attachEvent("onload",t))}},ql="[MIN_NAME]",za="[MAX_NAME]",Jl=function(n,e){if(n===e)return 0;if(n===ql||e===za)return-1;if(e===ql||n===za)return 1;{let t=fL(n),r=fL(e);return t!==null?r!==null?t-r===0?n.length-e.length:t-r:-1:r!==null?1:n<e?-1:1}},LJ=function(n,e){return n===e?0:n<e?-1:1},Th=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+Qt(e))},WS=function(n){if(typeof n!="object"||n===null)return Qt(n);let e=[];for(let r in n)e.push(r);e.sort();let t="{";for(let r=0;r<e.length;r++)r!==0&&(t+=","),t+=Qt(e[r]),t+=":",t+=WS(n[e[r]]);return t+="}",t},GL=function(n,e){let t=n.length;if(t<=e)return[n];let r=[];for(let i=0;i<t;i+=e)i+e>t?r.push(n.substring(i,t)):r.push(n.substring(i,i+e));return r};function Mr(n,e){for(let t in n)n.hasOwnProperty(t)&&e(t,n[t])}var WL=function(n){Q(!qL(n),"Invalid JSON number");let e=11,t=52,r=(1<<e-1)-1,i,o,s,a,c;n===0?(o=0,s=0,i=1/n===-1/0?1:0):(i=n<0,n=Math.abs(n),n>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(n)/Math.LN2),r),o=a+r,s=Math.round(n*Math.pow(2,t-a)-Math.pow(2,t))):(o=0,s=Math.round(n/Math.pow(2,1-r-t))));let u=[];for(c=t;c;c-=1)u.push(s%2?1:0),s=Math.floor(s/2);for(c=e;c;c-=1)u.push(o%2?1:0),o=Math.floor(o/2);u.push(i?1:0),u.reverse();let d=u.join(""),p="";for(c=0;c<64;c+=8){let _=parseInt(d.substr(c,8),2).toString(16);_.length===1&&(_="0"+_),p=p+_}return p.toLowerCase()},UJ=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},BJ=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};var jJ=new RegExp("^-?(0*)\\d{1,10}$"),HJ=-2147483648,$J=2147483647,fL=function(n){if(jJ.test(n)){let e=Number(n);if(e>=HJ&&e<=$J)return e}return null},Bh=function(n){try{n()}catch(e){setTimeout(()=>{let t=e.stack||"";throw ir("Exception was thrown by user callback.",t),e},Math.floor(0))}},zJ=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Ph=function(n,e){let t=setTimeout(n,e);return typeof t=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):typeof t=="object"&&t.unref&&t.unref(),t};var sS=class{constructor(e,t){this.appCheckProvider=t,this.appName=e.name,Zt(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=t?.getImmediate({optional:!0}),this.appCheck||t?.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((t,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){var t;(t=this.appCheckProvider)===null||t===void 0||t.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){ir(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}};var aS=class{constructor(e,t,r){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&t.code==="auth/token-not-initialized"?(wn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ir(e)}},kh=(()=>{class n{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}n.OWNER="owner";return n})(),$_="5",KL="v",YL="s",QL="r",ZL="f",JL=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,XL="ls",e4="p",cS="ac",t4="websocket",n4="long_polling";var z_=class{constructor(e,t,r,i,o=!1,s="",a=!1,c=!1,u=null){this.secure=t,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=c,this.emulatorOptions=u,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ha.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Ha.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){let e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${t}`}};function qJ(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams}function r4(n,e,t){Q(typeof e=="string","typeof type must == string"),Q(typeof t=="object","typeof params must == object");let r;if(e===t4)r=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else if(e===n4)r=(n.secure?"https://":"http://")+n.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);qJ(n)&&(t.ns=n.namespace);let i=[];return Mr(t,(o,s)=>{i.push(o+"="+s)}),r+i.join("&")}var lS=class{constructor(){this.counters_={}}incrementCounter(e,t=1){Si(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return ER(this.counters_)}};var YI={},QI={};function KS(n){let e=n.toString();return YI[e]||(YI[e]=new lS),YI[e]}function GJ(n,e){let t=n.toString();return QI[t]||(QI[t]=e()),QI[t]}var uS=class{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){let r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Bh(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}};var pL="start",WJ="close",KJ="pLPCommand",YJ="pRTLPCB",i4="id",o4="pw",s4="ser",QJ="cb",ZJ="seg",JJ="ts",XJ="d",eX="dframe",a4=1870,c4=30,tX=a4-c4,nX=25e3,rX=3e4,dS=class n{constructor(e,t,r,i,o,s,a){this.connId=e,this.repoInfo=t,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Uh(e),this.stats_=KS(t),this.urlFn=c=>(this.appCheckToken&&(c[cS]=this.appCheckToken),r4(t,n4,c))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new uS(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(rX)),VJ(()=>{if(this.isClosed_)return;this.scriptTagHolder=new hS((...o)=>{let[s,a,c,u,d]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,s===pL)this.id=a,this.password=c;else if(s===WJ)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+s)},(...o)=>{let[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);let r={};r[pL]="t",r[s4]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[QJ]=this.scriptTagHolder.uniqueCallbackIdentifier),r[KL]=$_,this.transportSessionId&&(r[YL]=this.transportSessionId),this.lastSessionId&&(r[XL]=this.lastSessionId),this.applicationId&&(r[e4]=this.applicationId),this.appCheckToken&&(r[cS]=this.appCheckToken),typeof location<"u"&&location.hostname&&JL.test(location.hostname)&&(r[QL]=ZL);let i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){n.forceAllow_=!0}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){return Ii()?!1:n.forceAllow_?!0:!n.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!UJ()&&!BJ()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){let t=Qt(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);let r=Lb(t),i=GL(r,tX);for(let o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if(Ii())return;this.myDisconnFrame=document.createElement("iframe");let r={};r[eX]="t",r[i4]=e,r[o4]=t,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){let t=Qt(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}},hS=class n{constructor(e,t,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0,Ii())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=OJ(),window[KJ+this.uniqueCallbackIdentifier]=e,window[YJ+this.uniqueCallbackIdentifier]=t,this.myIFrame=n.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');let s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){wn("frame writing exception"),a.stack&&wn(a.stack),wn(a)}}}static createIFrame_(){let e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||wn("No IE domain setting required")}catch{let r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;let e={};e[i4]=this.myID,e[o4]=this.myPW,e[s4]=this.currentSerial;let t=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+c4+r.length<=a4;){let s=this.pendingSegs.shift();r=r+"&"+ZJ+i+"="+s.seg+"&"+JJ+i+"="+s.ts+"&"+XJ+i+"="+s.d,i++}return t=t+r,this.addLongPollTag_(t,this.currentSerial),!0}else return!1}enqueueSegment(e,t,r){this.pendingSegs.push({seg:e,ts:t,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);let r=()=>{this.outstandingRequests.delete(t),this.newRequest_()},i=setTimeout(r,Math.floor(nX)),o=()=>{clearTimeout(i),r()};this.addTag(e,o)}addTag(e,t){Ii()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;let r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){let i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=()=>{wn("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}};var iX=16384,oX=45e3,q_=null;typeof MozWebSocket<"u"?q_=MozWebSocket:typeof WebSocket<"u"&&(q_=WebSocket);var xh=(()=>{class n{constructor(t,r,i,o,s,a,c){this.connId=t,this.applicationId=i,this.appCheckToken=o,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Uh(this.connId),this.stats_=KS(r),this.connURL=n.connectionURL_(r,a,c,o,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(t,r,i,o,s){let a={};return a[KL]=$_,!Ii()&&typeof location<"u"&&location.hostname&&JL.test(location.hostname)&&(a[QL]=ZL),r&&(a[YL]=r),i&&(a[XL]=i),o&&(a[cS]=o),s&&(a[e4]=s),r4(t,t4,a)}open(t,r){this.onDisconnect=r,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ha.set("previous_websocket_failure",!0);try{let i;if(Ii()){let o=this.nodeAdmin?"AdminNode":"Node";i={headers:{"User-Agent":`Firebase/${$_}/${GS}/${process.platform}/${o}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);let s=process.env,a=this.connURL.indexOf("wss://")===0?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;a&&(i.proxy={origin:a})}this.mySock=new q_(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");let o=i.message||i.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");let o=i.message||i.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){let r=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(r);i&&i.length>1&&parseFloat(i[1])<4.4&&(t=!0)}return!t&&q_!==null&&!n.forceDisallow_}static previouslyFailed(){return Ha.isInMemoryStorage||Ha.get("previous_websocket_failure")===!0}markConnectionHealthy(){Ha.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){let r=this.frames.join("");this.frames=null;let i=Jc(r);this.onMessage(i)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(Q(this.frames===null,"We already have a frame buffer"),t.length<=6){let r=Number(t);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;let r=t.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{let i=this.extractFrameCount_(r);i!==null&&this.appendFrame_(i)}}send(t){this.resetKeepAlive();let r=Qt(t);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);let i=GL(r,iX);i.length>1&&this.sendString_(String(i.length));for(let o=0;o<i.length;o++)this.sendString_(i[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(oX))}sendString_(t){try{this.mySock.send(t)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4;return n})(),sX=(()=>{class n{static get ALL_TRANSPORTS(){return[dS,xh]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(t){this.initTransports_(t)}initTransports_(t){let r=xh&&xh.isAvailable(),i=r&&!xh.previouslyFailed();if(t.webSocketOnly&&(r||ir("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[xh];else{let o=this.transports_=[];for(let s of n.ALL_TRANSPORTS)s&&s.isAvailable()&&o.push(s);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}n.globalTransportInitialized_=!1;return n})(),aX=6e4,cX=5e3,lX=10*1024,uX=100*1024,ZI="t",gL="d",dX="s",mL="r",hX="e",_L="o",vL="a",yL="n",wL="p",fX="h",fS=class{constructor(e,t,r,i,o,s,a,c,u,d){this.id=e,this.repoInfo_=t,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=c,this.onKill_=u,this.lastSessionId=d,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Uh("c:"+this.id+":"),this.transportManager_=new sX(t),this.log_("Connection created"),this.start_()}start_(){let e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let t=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,r)},Math.floor(0));let i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Ph(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>uX?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>lX?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){let t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(ZI in e){let t=e[ZI];t===vL?this.upgradeIfSecondaryHealthy_():t===mL?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):t===_L&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){let t=Th("t",e),r=Th("d",e);if(t==="c")this.onSecondaryControl_(r);else if(t==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+t)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:wL,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:vL,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:yL,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){let t=Th("t",e),r=Th("d",e);t==="c"?this.onControl_(r):t==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){let t=Th(ZI,e);if(gL in e){let r=e[gL];if(t===fX){let i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(t===yL){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else t===dX?this.onConnectionShutdown_(r):t===mL?this.onReset_(r):t===hX?oS("Server Error: "+r):t===_L?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):oS("Unknown control packet command: "+t)}}onHandshake_(e){let t=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),$_!==r&&ir("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let t=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,r),Ph(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(aX))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ph(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(cX))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:wL,d:{}}}))}onSecondaryConnectionLost_(){let e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ha.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}};var G_=class{put(e,t,r,i){}merge(e,t,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,r){}onDisconnectMerge(e,t,r){}onDisconnectCancel(e,t){}reportStats(e){}};var W_=class{constructor(e){this.allowedEvents_=e,this.listeners_={},Q(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){let r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)}}on(e,t,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:r});let i=this.getInitialEvent(e);i&&t.apply(r,i)}off(e,t,r){this.validateEventType_(e);let i=this.listeners_[e]||[];for(let o=0;o<i.length;o++)if(i[o].callback===t&&(!r||r===i[o].context)){i.splice(o,1);return}}validateEventType_(e){Q(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}};var K_=class n extends W_{static getInstance(){return new n}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!xd()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return Q(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}};var bL=32,CL=768,dt=class{constructor(e,t){if(t===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)this.pieces_[t]!==""&&(e+="/"+this.pieces_[t]);return e||"/"}};function it(){return new dt("")}function He(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function xs(n){return n.pieces_.length-n.pieceNum_}function mt(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new dt(n.pieces_,e)}function l4(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function pX(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)n.pieces_[t]!==""&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}function u4(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function d4(n){if(n.pieceNum_>=n.pieces_.length)return null;let e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new dt(e,0)}function tn(n,e){let t=[];for(let r=n.pieceNum_;r<n.pieces_.length;r++)t.push(n.pieces_[r]);if(e instanceof dt)for(let r=e.pieceNum_;r<e.pieces_.length;r++)t.push(e.pieces_[r]);else{let r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&t.push(r[i])}return new dt(t,0)}function Le(n){return n.pieceNum_>=n.pieces_.length}function Tr(n,e){let t=He(n),r=He(e);if(t===null)return e;if(t===r)return Tr(mt(n),mt(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function h4(n,e){if(xs(n)!==xs(e))return!1;for(let t=n.pieceNum_,r=e.pieceNum_;t<=n.pieces_.length;t++,r++)if(n.pieces_[t]!==e.pieces_[r])return!1;return!0}function ti(n,e){let t=n.pieceNum_,r=e.pieceNum_;if(xs(n)>xs(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[r])return!1;++t,++r}return!0}var pS=class{constructor(e,t){this.errorPrefix_=t,this.parts_=u4(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Pd(this.parts_[r]);f4(this)}};function gX(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=Pd(e),f4(n)}function mX(n){let e=n.parts_.pop();n.byteLength_-=Pd(e),n.parts_.length>0&&(n.byteLength_-=1)}function f4(n){if(n.byteLength_>CL)throw new Error(n.errorPrefix_+"has a key path longer than "+CL+" bytes ("+n.byteLength_+").");if(n.parts_.length>bL)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+bL+") or object contains a cycle "+ja(n))}function ja(n){return n.parts_.length===0?"":"in property '"+n.parts_.join(".")+"'"}var gS=class n extends W_{static getInstance(){return new n}constructor(){super(["visible"]);let e,t;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{let r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return Q(e==="visible","Unknown event type: "+e),[this.visible_]}};var Mh=1e3,_X=60*5*1e3,EL=30*1e3,vX=1.3,yX=3e4,wX="server_kill",IL=3,YS=(()=>{class n extends G_{constructor(t,r,i,o,s,a,c,u){if(super(),this.repoInfo_=t,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=o,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=c,this.authOverride_=u,this.id=n.nextPersistentConnectionId_++,this.log_=Uh("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Mh,this.maxReconnectDelay_=_X,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,u&&!Ii())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");gS.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&K_.getInstance().on("online",this.onOnline_,this)}sendRequest(t,r,i){let o=++this.requestNumber_,s={r:o,a:t,b:r};this.log_(Qt(s)),Q(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),i&&(this.requestCBHash_[o]=i)}get(t){this.initConnection_();let r=new Ei,o={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:a=>{let c=a.d;a.s==="ok"?r.resolve(c):r.reject(c)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;let s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),r.promise}listen(t,r,i,o){this.initConnection_();let s=t._queryIdentifier,a=t._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),Q(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Q(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");let c={onComplete:o,hashFn:r,query:t,tag:i};this.listens.get(a).set(s,c),this.connected_&&this.sendListen_(c)}sendGet_(t){let r=this.outstandingGets_[t];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(t){let r=t.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);let s={p:i},a="q";t.tag&&(s.q=r._queryObject,s.t=t.tag),s.h=t.hashFn(),this.sendRequest(a,s,c=>{let u=c.d,d=c.s;n.warnOnListenWarnings_(u,r),(this.listens.get(i)&&this.listens.get(i).get(o))===t&&(this.log_("listen response",c),d!=="ok"&&this.removeListen_(i,o),t.onComplete&&t.onComplete(d,u))})}static warnOnListenWarnings_(t,r){if(t&&typeof t=="object"&&Si(t,"w")){let i=ma(t,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){let o='".indexOn": "'+r._queryParams.getIndex().toString()+'"',s=r._path.toString();ir(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||kR(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=EL)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let t=this.authToken_,r=PR(t)?"auth":"gauth",i={cred:t};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(r,i,o=>{let s=o.s,a=o.d||"error";this.authToken_===t&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{let r=t.s,i=t.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(t,r){let i=t._path.toString(),o=t._queryIdentifier;this.log_("Unlisten called for "+i+" "+o),Q(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,o)&&this.connected_&&this.sendUnlisten_(i,o,t._queryObject,r)}sendUnlisten_(t,r,i,o){this.log_("Unlisten on "+t+" for "+r);let s={p:t},a="n";o&&(s.q=i,s.t=o),this.sendRequest(a,s)}onDisconnectPut(t,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,r,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:r,onComplete:i})}onDisconnectMerge(t,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,r,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:r,onComplete:i})}onDisconnectCancel(t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(t,r,i,o){let s={p:r,d:i};this.log_("onDisconnect "+t,s),this.sendRequest(t,s,a=>{o&&setTimeout(()=>{o(a.s,a.d)},Math.floor(0))})}put(t,r,i,o){this.putInternal("p",t,r,i,o)}merge(t,r,i,o){this.putInternal("m",t,r,i,o)}putInternal(t,r,i,o,s){this.initConnection_();let a={p:r,d:i};s!==void 0&&(a.h=s),this.outstandingPuts_.push({action:t,request:a,onComplete:o}),this.outstandingPutCount_++;let c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+r)}sendPut_(t){let r=this.outstandingPuts_[t].action,i=this.outstandingPuts_[t].request,o=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(r,i,s=>{this.log_(r+" response",s),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(s.s,s.d)})}reportStats(t){if(this.connected_){let r={c:t};this.log_("reportStats",r),this.sendRequest("s",r,i=>{if(i.s!=="ok"){let s=i.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+Qt(t));let r=t.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,r){this.log_("handleServerMessage",t,r),t==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):t==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):t==="c"?this.onListenRevoked_(r.p,r.q):t==="ac"?this.onAuthRevoked_(r.s,r.d):t==="apc"?this.onAppCheckRevoked_(r.s,r.d):t==="sd"?this.onSecurityDebugPacket_(r):oS("Unrecognized action received from server: "+Qt(t)+`
Are you using the latest client?`)}onReady_(t,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){Q(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Mh,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Mh,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>yX&&(this.reconnectDelay_=Mh),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let t=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_),r=Math.max(0,this.reconnectDelay_-t);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*vX)}this.onConnectStatus_(!1)}establishConnection_(){return I(this,null,function*(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let t=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+n.nextConnectionId_++,s=this.lastSessionId,a=!1,c=null,u=function(){c?c.close():(a=!0,i())},d=function(_){Q(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(_)};this.realtime_={close:u,sendRequest:d};let p=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[_,y]=yield Promise.all([this.authTokenProvider_.getToken(p),this.appCheckTokenProvider_.getToken(p)]);a?wn("getToken() completed but was canceled"):(wn("getToken() completed. Creating connection."),this.authToken_=_&&_.accessToken,this.appCheckToken_=y&&y.token,c=new fS(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,r,i,v=>{ir(v+" ("+this.repoInfo_.toString()+")"),this.interrupt(wX)},s))}catch(_){this.log_("Failed to get token: "+_),a||(this.repoInfo_.nodeAdmin&&ir(_),u())}}})}interrupt(t){wn("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){wn("Resuming connection for reason: "+t),delete this.interruptReasons_[t],Dd(this.interruptReasons_)&&(this.reconnectDelay_=Mh,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){let r=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){let r=this.outstandingPuts_[t];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,r){let i;r?i=r.map(s=>WS(s)).join("$"):i="default";let o=this.removeListen_(t,i);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(t,r){let i=new dt(t).toString(),o;if(this.listens.has(i)){let s=this.listens.get(i);o=s.get(r),s.delete(r),s.size===0&&this.listens.delete(i)}else o=void 0;return o}onAuthRevoked_(t,r){wn("Auth token revoked: "+t+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=IL&&(this.reconnectDelay_=EL,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,r){wn("App check token revoked: "+t+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=IL&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(let t of this.listens.values())for(let r of t.values())this.sendListen_(r);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){let t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){let t={},r="js";Ii()&&(this.repoInfo_.nodeAdmin?r="admin_node":r="node"),t["sdk."+r+"."+GS.replace(/\./g,"-")]=1,xd()?t["framework.cordova"]=1:Wg()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){let t=K_.getInstance().currentlyOnline();return Dd(this.interruptReasons_)&&t}}n.nextPersistentConnectionId_=0,n.nextConnectionId_=0;return n})(),$e=class n{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new n(e,t)}};var Gl=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){let r=new $e(ql,e),i=new $e(ql,t);return this.compare(r,i)!==0}minPost(){return $e.MIN}};var H_,Y_=class extends Gl{static get __EMPTY_NODE(){return H_}static set __EMPTY_NODE(e){H_=e}compare(e,t){return Jl(e.name,t.name)}isDefinedOn(e){throw ga("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return $e.MIN}maxPost(){return new $e(za,H_)}makePost(e,t){return Q(typeof e=="string","KeyIndex indexValue must always be a string."),new $e(e,H_)}toString(){return".key"}},zl=new Y_;var jl=class{constructor(e,t,r,i,o=null){this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(e=e,s=t?r(e.key,t):1,i&&(s*=-1),s<0)this.isReverse_?e=e.left:e=e.right;else if(s===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),t;if(this.resultGenerator_?t=this.resultGenerator_(e.key,e.value):t={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}},ei=(()=>{class n{constructor(t,r,i,o,s){this.key=t,this.value=r,this.color=i??n.RED,this.left=o??xr.EMPTY_NODE,this.right=s??xr.EMPTY_NODE}copy(t,r,i,o,s){return new n(t??this.key,r??this.value,i??this.color,o??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,i){let o=this,s=i(t,o.key);return s<0?o=o.copy(null,null,null,o.left.insert(t,r,i),null):s===0?o=o.copy(null,r,null,null,null):o=o.copy(null,null,null,null,o.right.insert(t,r,i)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return xr.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,r){let i,o;if(i=this,r(t,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(t,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),r(t,i.key)===0){if(i.right.isEmpty())return xr.EMPTY_NODE;o=i.right.min_(),i=i.copy(o.key,o.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(t,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){let t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){let t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){let t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth_(){let t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");let t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})(),mS=class{copy(e,t,r,i,o){return this}insert(e,t,r){return new ei(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}},xr=class n{constructor(e,t=n.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new n(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,ei.BLACK,null,null))}remove(e){return new n(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,ei.BLACK,null,null))}get(e){let t,r=this.root_;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),t===0)return r.value;t<0?r=r.left:t>0&&(r=r.right)}return null}getPredecessorKey(e){let t,r=this.root_,i=null;for(;!r.isEmpty();)if(t=this.comparator_(e,r.key),t===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else t<0?r=r.left:t>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new jl(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new jl(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new jl(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new jl(this.root_,null,this.comparator_,!0,e)}};xr.EMPTY_NODE=new mS;function bX(n,e){return Jl(n.name,e.name)}function QS(n,e){return Jl(n,e)}var _S;function CX(n){_S=n}var p4=function(n){return typeof n=="number"?"number:"+WL(n):"string:"+n},g4=function(n){if(n.isLeafNode()){let e=n.val();Q(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Si(e,".sv"),"Priority must be a string or number.")}else Q(n===_S||n.isEmpty(),"priority of unexpected type.");Q(n===_S||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};var SL,Wl=(()=>{class n{static set __childrenNodeConstructor(t){SL=t}static get __childrenNodeConstructor(){return SL}constructor(t,r=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=r,this.lazyHash_=null,Q(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),g4(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new n(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return Le(t)?this:He(t)===".priority"?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,r){return null}updateImmediateChild(t,r){return t===".priority"?this.updatePriority(r):r.isEmpty()&&t!==".priority"?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,r).updatePriority(this.priorityNode_)}updateChild(t,r){let i=He(t);return i===null?r:r.isEmpty()&&i!==".priority"?this:(Q(i!==".priority"||xs(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(mt(t),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,r){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+p4(this.priorityNode_.val())+":");let r=typeof this.value_;t+=r+":",r==="number"?t+=WL(this.value_):t+=this.value_,this.lazyHash_=zL(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===n.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof n.__childrenNodeConstructor?-1:(Q(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){let r=typeof t.value_,i=typeof this.value_,o=n.VALUE_TYPE_ORDER.indexOf(r),s=n.VALUE_TYPE_ORDER.indexOf(i);return Q(o>=0,"Unknown leaf type: "+r),Q(s>=0,"Unknown leaf type: "+i),o===s?i==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:s-o}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){let r=t;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}n.VALUE_TYPE_ORDER=["object","boolean","number","string"];return n})(),m4,_4;function EX(n){m4=n}function IX(n){_4=n}var vS=class extends Gl{compare(e,t){let r=e.node.getPriority(),i=t.node.getPriority(),o=r.compareTo(i);return o===0?Jl(e.name,t.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return $e.MIN}maxPost(){return new $e(za,new Wl("[PRIORITY-POST]",_4))}makePost(e,t){let r=m4(e);return new $e(t,new Wl("[PRIORITY-POST]",r))}toString(){return".priority"}},Cn=new vS;var SX=Math.log(2),yS=class{constructor(e){let t=o=>parseInt(Math.log(o)/SX,10),r=o=>parseInt(Array(o+1).join("1"),2);this.count=t(e+1),this.current_=this.count-1;let i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){let e=!(this.bits_&1<<this.current_);return this.current_--,e}},Q_=function(n,e,t,r){n.sort(e);let i=function(c,u){let d=u-c,p,_;if(d===0)return null;if(d===1)return p=n[c],_=t?t(p):p,new ei(_,p.node,ei.BLACK,null,null);{let y=parseInt(d/2,10)+c,v=i(c,y),A=i(y+1,u);return p=n[y],_=t?t(p):p,new ei(_,p.node,ei.BLACK,v,A)}},o=function(c){let u=null,d=null,p=n.length,_=function(v,A){let O=p-v,G=p;p-=v;let ee=i(O+1,G),Z=n[O],se=t?t(Z):Z;y(new ei(se,Z.node,A,null,ee))},y=function(v){u?(u.left=v,u=v):(d=v,u=v)};for(let v=0;v<c.count;++v){let A=c.nextBitIsOne(),O=Math.pow(2,c.count-(v+1));A?_(O,ei.BLACK):(_(O,ei.BLACK),_(O,ei.RED))}return d},s=new yS(n.length),a=o(s);return new xr(r||e,a)};var JI,Bl={},Kl=class n{static get Default(){return Q(Bl&&Cn,"ChildrenNode.ts has not been loaded"),JI=JI||new n({".priority":Bl},{".priority":Cn}),JI}constructor(e,t){this.indexes_=e,this.indexSet_=t}get(e){let t=ma(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof xr?t:null}hasIndex(e){return Si(this.indexSet_,e.toString())}addIndex(e,t){Q(e!==zl,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let r=[],i=!1,o=t.getIterator($e.Wrap),s=o.getNext();for(;s;)i=i||e.isDefinedOn(s.node),r.push(s),s=o.getNext();let a;i?a=Q_(r,e.getCompare()):a=Bl;let c=e.toString(),u=Object.assign({},this.indexSet_);u[c]=e;let d=Object.assign({},this.indexes_);return d[c]=a,new n(d,u)}addToIndexes(e,t){let r=Ad(this.indexes_,(i,o)=>{let s=ma(this.indexSet_,o);if(Q(s,"Missing index implementation for "+o),i===Bl)if(s.isDefinedOn(e.node)){let a=[],c=t.getIterator($e.Wrap),u=c.getNext();for(;u;)u.name!==e.name&&a.push(u),u=c.getNext();return a.push(e),Q_(a,s.getCompare())}else return Bl;else{let a=t.get(e.name),c=i;return a&&(c=c.remove(new $e(e.name,a))),c.insert(e,e.node)}});return new n(r,this.indexSet_)}removeFromIndexes(e,t){let r=Ad(this.indexes_,i=>{if(i===Bl)return i;{let o=t.get(e.name);return o?i.remove(new $e(e.name,o)):i}});return new n(r,this.indexSet_)}};var Dh,Ct=(()=>{class n{static get EMPTY_NODE(){return Dh||(Dh=new n(new xr(QS),null,Kl.Default))}constructor(t,r,i){this.children_=t,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&g4(this.priorityNode_),this.children_.isEmpty()&&Q(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Dh}updatePriority(t){return this.children_.isEmpty()?this:new n(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{let r=this.children_.get(t);return r===null?Dh:r}}getChild(t){let r=He(t);return r===null?this:this.getImmediateChild(r).getChild(mt(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,r){if(Q(r,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(r);{let i=new $e(t,r),o,s;r.isEmpty()?(o=this.children_.remove(t),s=this.indexMap_.removeFromIndexes(i,this.children_)):(o=this.children_.insert(t,r),s=this.indexMap_.addToIndexes(i,this.children_));let a=o.isEmpty()?Dh:this.priorityNode_;return new n(o,a,s)}}updateChild(t,r){let i=He(t);if(i===null)return r;{Q(He(t)!==".priority"||xs(t)===1,".priority must be the last token in a path");let o=this.getImmediateChild(i).updateChild(mt(t),r);return this.updateImmediateChild(i,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;let r={},i=0,o=0,s=!0;if(this.forEachChild(Cn,(a,c)=>{r[a]=c.val(t),i++,s&&n.INTEGER_REGEXP_.test(a)?o=Math.max(o,Number(a)):s=!1}),!t&&s&&o<2*i){let a=[];for(let c in r)a[c]=r[c];return a}else return t&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+p4(this.getPriority().val())+":"),this.forEachChild(Cn,(r,i)=>{let o=i.hash();o!==""&&(t+=":"+r+":"+o)}),this.lazyHash_=t===""?"":zL(t)}return this.lazyHash_}getPredecessorChildName(t,r,i){let o=this.resolveIndex_(i);if(o){let s=o.getPredecessorKey(new $e(t,r));return s?s.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){let r=this.resolveIndex_(t);if(r){let i=r.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(t){let r=this.getFirstChildName(t);return r?new $e(r,this.children_.get(r)):null}getLastChildName(t){let r=this.resolveIndex_(t);if(r){let i=r.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(t){let r=this.getLastChildName(t);return r?new $e(r,this.children_.get(r)):null}forEachChild(t,r){let i=this.resolveIndex_(t);return i?i.inorderTraversal(o=>r(o.name,o.node)):this.children_.inorderTraversal(r)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,r){let i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(t,o=>o);{let o=this.children_.getIteratorFrom(t.name,$e.Wrap),s=o.peek();for(;s!=null&&r.compare(s,t)<0;)o.getNext(),s=o.peek();return o}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,r){let i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(t,o=>o);{let o=this.children_.getReverseIteratorFrom(t.name,$e.Wrap),s=o.peek();for(;s!=null&&r.compare(s,t)>0;)o.getNext(),s=o.peek();return o}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===jh?-1:0}withIndex(t){if(t===zl||this.indexMap_.hasIndex(t))return this;{let r=this.indexMap_.addIndex(t,this.children_);return new n(this.children_,this.priorityNode_,r)}}isIndexed(t){return t===zl||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{let r=t;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){let i=this.getIterator(Cn),o=r.getIterator(Cn),s=i.getNext(),a=o.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=i.getNext(),a=o.getNext()}return s===null&&a===null}else return!1;else return!1}}resolveIndex_(t){return t===zl?null:this.indexMap_.get(t.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})(),wS=class extends Ct{constructor(){super(new xr(QS),Ct.EMPTY_NODE,Kl.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Ct.EMPTY_NODE}isEmpty(){return!1}},jh=new wS;Object.defineProperties($e,{MIN:{value:new $e(ql,Ct.EMPTY_NODE)},MAX:{value:new $e(za,jh)}});Y_.__EMPTY_NODE=Ct.EMPTY_NODE;Wl.__childrenNodeConstructor=Ct;CX(jh);IX(jh);var TX=!0;function bn(n,e=null){if(n===null)return Ct.EMPTY_NODE;if(typeof n=="object"&&".priority"in n&&(e=n[".priority"]),Q(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof n=="object"&&".value"in n&&n[".value"]!==null&&(n=n[".value"]),typeof n!="object"||".sv"in n){let t=n;return new Wl(t,bn(e))}if(!(n instanceof Array)&&TX){let t=[],r=!1;if(Mr(n,(s,a)=>{if(s.substring(0,1)!=="."){let c=bn(a);c.isEmpty()||(r=r||!c.getPriority().isEmpty(),t.push(new $e(s,c)))}}),t.length===0)return Ct.EMPTY_NODE;let o=Q_(t,bX,s=>s.name,QS);if(r){let s=Q_(t,Cn.getCompare());return new Ct(o,bn(e),new Kl({".priority":s},{".priority":Cn}))}else return new Ct(o,bn(e),Kl.Default)}else{let t=Ct.EMPTY_NODE;return Mr(n,(r,i)=>{if(Si(n,r)&&r.substring(0,1)!=="."){let o=bn(i);(o.isLeafNode()||!o.isEmpty())&&(t=t.updateImmediateChild(r,o))}}),t.updatePriority(bn(e))}}EX(bn);var bS=class extends Gl{constructor(e){super(),this.indexPath_=e,Q(!Le(e)&&He(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){let r=this.extractChild(e.node),i=this.extractChild(t.node),o=r.compareTo(i);return o===0?Jl(e.name,t.name):o}makePost(e,t){let r=bn(e),i=Ct.EMPTY_NODE.updateChild(this.indexPath_,r);return new $e(t,i)}maxPost(){let e=Ct.EMPTY_NODE.updateChild(this.indexPath_,jh);return new $e(za,e)}toString(){return u4(this.indexPath_,0).join("/")}};var CS=class extends Gl{compare(e,t){let r=e.node.compareTo(t.node);return r===0?Jl(e.name,t.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return $e.MIN}maxPost(){return $e.MAX}makePost(e,t){let r=bn(e);return new $e(t,r)}toString(){return".value"}},xX=new CS;function MX(n){return{type:"value",snapshotNode:n}}function DX(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function AX(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function TL(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}function PX(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}var ES=class n{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Cn}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return Q(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Q(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ql}hasEnd(){return this.endSet_}getIndexEndValue(){return Q(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Q(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:za}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return Q(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Cn}copy(){let e=new n;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}};function xL(n){let e={};if(n.isDefault())return e;let t;if(n.index_===Cn?t="$priority":n.index_===xX?t="$value":n.index_===zl?t="$key":(Q(n.index_ instanceof bS,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=Qt(t),n.startSet_){let r=n.startAfterSet_?"startAfter":"startAt";e[r]=Qt(n.indexStartValue_),n.startNameSet_&&(e[r]+=","+Qt(n.indexStartName_))}if(n.endSet_){let r=n.endBeforeSet_?"endBefore":"endAt";e[r]=Qt(n.indexEndValue_),n.endNameSet_&&(e[r]+=","+Qt(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function ML(n){let e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;t===""&&(n.isViewFromLeft()?t="l":t="r"),e.vf=t}return n.index_!==Cn&&(e.i=n.index_.toString()),e}var IS=class n extends G_{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return t!==void 0?"tag$"+t:(Q(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,t,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Uh("p:rest:"),this.listens_={}}listen(e,t,r,i){let o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);let s=n.getListenId_(e,r),a={};this.listens_[s]=a;let c=xL(e._queryParams);this.restRequest_(o+".json",c,(u,d)=>{let p=d;if(u===404&&(p=null,u=null),u===null&&this.onDataUpdate_(o,p,!1,r),ma(this.listens_,s)===a){let _;u?u===401?_="permission_denied":_="rest_error:"+u:_="ok",i(_,null)}})}unlisten(e,t){let r=n.getListenId_(e,t);delete this.listens_[r]}get(e){let t=xL(e._queryParams),r=e._path.toString(),i=new Ei;return this.restRequest_(r+".json",t,(o,s)=>{let a=s;o===404&&(a=null,o=null),o===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,t={},r){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,o])=>{i&&i.accessToken&&(t.auth=i.accessToken),o&&o.token&&(t.ac=o.token);let s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+_a(t);this.log_("Sending REST request for "+s);let a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let c=null;if(a.status>=200&&a.status<300){try{c=Jc(a.responseText)}catch{ir("Failed to parse JSON response for "+s+": "+a.responseText)}r(null,c)}else a.status!==401&&a.status!==404&&ir("Got unsuccessful REST response for "+s+" Status: "+a.status),r(a.status);r=null}},a.open("GET",s,!0),a.send()})}};var SS=class{constructor(){this.rootNode_=Ct.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}};function Z_(){return{value:null,children:new Map}}function v4(n,e,t){if(Le(e))n.value=t,n.children.clear();else if(n.value!==null)n.value=n.value.updateChild(e,t);else{let r=He(e);n.children.has(r)||n.children.set(r,Z_());let i=n.children.get(r);e=mt(e),v4(i,e,t)}}function TS(n,e,t){n.value!==null?t(e,n.value):kX(n,(r,i)=>{let o=new dt(e.toString()+"/"+r);TS(i,o,t)})}function kX(n,e){n.children.forEach((t,r)=>{e(r,t)})}var xS=class{constructor(e){this.collection_=e,this.last_=null}get(){let e=this.collection_.get(),t=Object.assign({},e);return this.last_&&Mr(this.last_,(r,i)=>{t[r]=t[r]-i}),this.last_=e,t}};var DL=10*1e3,RX=30*1e3,OX=5*60*1e3,MS=class{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new xS(e);let r=DL+(RX-DL)*Math.random();Ph(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){let e=this.statsListener_.get(),t={},r=!1;Mr(e,(i,o)=>{o>0&&Si(this.statsToReport_,i)&&(t[i]=o,r=!0)}),r&&this.server_.reportStats(t),Ph(this.reportStats_.bind(this),Math.floor(Math.random()*2*OX))}};var So=function(n){return n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",n}(So||{});function y4(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function w4(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function b4(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}var DS=class n{constructor(e,t,r){this.path=e,this.affectedTree=t,this.revert=r,this.type=So.ACK_USER_WRITE,this.source=y4()}operationForChild(e){if(Le(this.path)){if(this.affectedTree.value!=null)return Q(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let t=this.affectedTree.subtree(new dt(e));return new n(it(),t,this.revert)}}else return Q(He(this.path)===e,"operationForChild called for unrelated child."),new n(mt(this.path),this.affectedTree,this.revert)}};var Yl=class n{constructor(e,t,r){this.source=e,this.path=t,this.snap=r,this.type=So.OVERWRITE}operationForChild(e){return Le(this.path)?new n(this.source,it(),this.snap.getImmediateChild(e)):new n(this.source,mt(this.path),this.snap)}};var J_=class n{constructor(e,t,r){this.source=e,this.path=t,this.children=r,this.type=So.MERGE}operationForChild(e){if(Le(this.path)){let t=this.children.subtree(new dt(e));return t.isEmpty()?null:t.value?new Yl(this.source,it(),t.value):new n(this.source,it(),t)}else return Q(He(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new n(this.source,mt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}};var Nh=class{constructor(e,t,r){this.node_=e,this.fullyInitialized_=t,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Le(e))return this.isFullyInitialized()&&!this.filtered_;let t=He(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}};function NX(n,e,t,r){let i=[],o=[];return e.forEach(s=>{s.type==="child_changed"&&n.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(PX(s.childName,s.snapshotNode))}),Ah(n,i,"child_removed",e,r,t),Ah(n,i,"child_added",e,r,t),Ah(n,i,"child_moved",o,r,t),Ah(n,i,"child_changed",e,r,t),Ah(n,i,"value",e,r,t),i}function Ah(n,e,t,r,i,o){let s=r.filter(a=>a.type===t);s.sort((a,c)=>VX(n,a,c)),s.forEach(a=>{let c=FX(n,a,o);i.forEach(u=>{u.respondsTo(a.type)&&e.push(u.createEvent(c,n.query_))})})}function FX(n,e,t){return e.type==="value"||e.type==="child_removed"||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}function VX(n,e,t){if(e.childName==null||t.childName==null)throw ga("Should only compare child_ events.");let r=new $e(e.childName,e.snapshotNode),i=new $e(t.childName,t.snapshotNode);return n.index_.compare(r,i)}function C4(n,e){return{eventCache:n,serverCache:e}}function Rh(n,e,t,r){return C4(new Nh(e,t,r),n.serverCache)}function E4(n,e,t,r){return C4(n.eventCache,new Nh(e,t,r))}function AS(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function qa(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}var XI,LX=()=>(XI||(XI=new xr(LJ)),XI),$n=class n{static fromObject(e){let t=new n(null);return Mr(e,(r,i)=>{t=t.set(new dt(r),i)}),t}constructor(e,t=LX()){this.value=e,this.children=t}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(this.value!=null&&t(this.value))return{path:it(),value:this.value};if(Le(e))return null;{let r=He(e),i=this.children.get(r);if(i!==null){let o=i.findRootMostMatchingPathAndValue(mt(e),t);return o!=null?{path:tn(new dt(r),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Le(e))return this;{let t=He(e),r=this.children.get(t);return r!==null?r.subtree(mt(e)):new n(null)}}set(e,t){if(Le(e))return new n(t,this.children);{let r=He(e),o=(this.children.get(r)||new n(null)).set(mt(e),t),s=this.children.insert(r,o);return new n(this.value,s)}}remove(e){if(Le(e))return this.children.isEmpty()?new n(null):new n(null,this.children);{let t=He(e),r=this.children.get(t);if(r){let i=r.remove(mt(e)),o;return i.isEmpty()?o=this.children.remove(t):o=this.children.insert(t,i),this.value===null&&o.isEmpty()?new n(null):new n(this.value,o)}else return this}}get(e){if(Le(e))return this.value;{let t=He(e),r=this.children.get(t);return r?r.get(mt(e)):null}}setTree(e,t){if(Le(e))return t;{let r=He(e),o=(this.children.get(r)||new n(null)).setTree(mt(e),t),s;return o.isEmpty()?s=this.children.remove(r):s=this.children.insert(r,o),new n(this.value,s)}}fold(e){return this.fold_(it(),e)}fold_(e,t){let r={};return this.children.inorderTraversal((i,o)=>{r[i]=o.fold_(tn(e,i),t)}),t(e,this.value,r)}findOnPath(e,t){return this.findOnPath_(e,it(),t)}findOnPath_(e,t,r){let i=this.value?r(t,this.value):!1;if(i)return i;if(Le(e))return null;{let o=He(e),s=this.children.get(o);return s?s.findOnPath_(mt(e),tn(t,o),r):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,it(),t)}foreachOnPath_(e,t,r){if(Le(e))return this;{this.value&&r(t,this.value);let i=He(e),o=this.children.get(i);return o?o.foreachOnPath_(mt(e),tn(t,i),r):new n(null)}}foreach(e){this.foreach_(it(),e)}foreach_(e,t){this.children.inorderTraversal((r,i)=>{i.foreach_(tn(e,r),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,r)=>{r.value&&e(t,r.value)})}};var ni=class n{constructor(e){this.writeTree_=e}static empty(){return new n(new $n(null))}};function Oh(n,e,t){if(Le(e))return new ni(new $n(t));{let r=n.writeTree_.findRootMostValueAndPath(e);if(r!=null){let i=r.path,o=r.value,s=Tr(i,e);return o=o.updateChild(s,t),new ni(n.writeTree_.set(i,o))}else{let i=new $n(t),o=n.writeTree_.setTree(e,i);return new ni(o)}}}function AL(n,e,t){let r=n;return Mr(t,(i,o)=>{r=Oh(r,tn(e,i),o)}),r}function PL(n,e){if(Le(e))return ni.empty();{let t=n.writeTree_.setTree(e,new $n(null));return new ni(t)}}function PS(n,e){return Ga(n,e)!=null}function Ga(n,e){let t=n.writeTree_.findRootMostValueAndPath(e);return t!=null?n.writeTree_.get(t.path).getChild(Tr(t.path,e)):null}function kL(n){let e=[],t=n.writeTree_.value;return t!=null?t.isLeafNode()||t.forEachChild(Cn,(r,i)=>{e.push(new $e(r,i))}):n.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new $e(r,i.value))}),e}function Ts(n,e){if(Le(e))return n;{let t=Ga(n,e);return t!=null?new ni(new $n(t)):new ni(n.writeTree_.subtree(e))}}function kS(n){return n.writeTree_.isEmpty()}function Ql(n,e){return I4(it(),n.writeTree_,e)}function I4(n,e,t){if(e.value!=null)return t.updateChild(n,e.value);{let r=null;return e.children.inorderTraversal((i,o)=>{i===".priority"?(Q(o.value!==null,"Priority writes must always be leaf nodes"),r=o.value):t=I4(tn(n,i),o,t)}),!t.getChild(n).isEmpty()&&r!==null&&(t=t.updateChild(tn(n,".priority"),r)),t}}function S4(n,e){return A4(e,n)}function UX(n,e,t,r,i){Q(r>n.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),n.allWrites.push({path:e,snap:t,writeId:r,visible:i}),i&&(n.visibleWrites=Oh(n.visibleWrites,e,t)),n.lastWriteId=r}function BX(n,e){for(let t=0;t<n.allWrites.length;t++){let r=n.allWrites[t];if(r.writeId===e)return r}return null}function jX(n,e){let t=n.allWrites.findIndex(a=>a.writeId===e);Q(t>=0,"removeWrite called with nonexistent writeId.");let r=n.allWrites[t];n.allWrites.splice(t,1);let i=r.visible,o=!1,s=n.allWrites.length-1;for(;i&&s>=0;){let a=n.allWrites[s];a.visible&&(s>=t&&HX(a,r.path)?i=!1:ti(r.path,a.path)&&(o=!0)),s--}if(i){if(o)return $X(n),!0;if(r.snap)n.visibleWrites=PL(n.visibleWrites,r.path);else{let a=r.children;Mr(a,c=>{n.visibleWrites=PL(n.visibleWrites,tn(r.path,c))})}return!0}else return!1}function HX(n,e){if(n.snap)return ti(n.path,e);for(let t in n.children)if(n.children.hasOwnProperty(t)&&ti(tn(n.path,t),e))return!0;return!1}function $X(n){n.visibleWrites=T4(n.allWrites,zX,it()),n.allWrites.length>0?n.lastWriteId=n.allWrites[n.allWrites.length-1].writeId:n.lastWriteId=-1}function zX(n){return n.visible}function T4(n,e,t){let r=ni.empty();for(let i=0;i<n.length;++i){let o=n[i];if(e(o)){let s=o.path,a;if(o.snap)ti(t,s)?(a=Tr(t,s),r=Oh(r,a,o.snap)):ti(s,t)&&(a=Tr(s,t),r=Oh(r,it(),o.snap.getChild(a)));else if(o.children){if(ti(t,s))a=Tr(t,s),r=AL(r,a,o.children);else if(ti(s,t))if(a=Tr(s,t),Le(a))r=AL(r,it(),o.children);else{let c=ma(o.children,He(a));if(c){let u=c.getChild(mt(a));r=Oh(r,it(),u)}}}else throw ga("WriteRecord should have .snap or .children")}}return r}function x4(n,e,t,r,i){if(!r&&!i){let o=Ga(n.visibleWrites,e);if(o!=null)return o;{let s=Ts(n.visibleWrites,e);if(kS(s))return t;if(t==null&&!PS(s,it()))return null;{let a=t||Ct.EMPTY_NODE;return Ql(s,a)}}}else{let o=Ts(n.visibleWrites,e);if(!i&&kS(o))return t;if(!i&&t==null&&!PS(o,it()))return null;{let s=function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(ti(u.path,e)||ti(e,u.path))},a=T4(n.allWrites,s,e),c=t||Ct.EMPTY_NODE;return Ql(a,c)}}}function qX(n,e,t){let r=Ct.EMPTY_NODE,i=Ga(n.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Cn,(o,s)=>{r=r.updateImmediateChild(o,s)}),r;if(t){let o=Ts(n.visibleWrites,e);return t.forEachChild(Cn,(s,a)=>{let c=Ql(Ts(o,new dt(s)),a);r=r.updateImmediateChild(s,c)}),kL(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}else{let o=Ts(n.visibleWrites,e);return kL(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}}function GX(n,e,t,r,i){Q(r||i,"Either existingEventSnap or existingServerSnap must exist");let o=tn(e,t);if(PS(n.visibleWrites,o))return null;{let s=Ts(n.visibleWrites,o);return kS(s)?i.getChild(t):Ql(s,i.getChild(t))}}function WX(n,e,t,r){let i=tn(e,t),o=Ga(n.visibleWrites,i);if(o!=null)return o;if(r.isCompleteForChild(t)){let s=Ts(n.visibleWrites,i);return Ql(s,r.getNode().getImmediateChild(t))}else return null}function KX(n,e){return Ga(n.visibleWrites,e)}function YX(n,e,t,r,i,o,s){let a,c=Ts(n.visibleWrites,e),u=Ga(c,it());if(u!=null)a=u;else if(t!=null)a=Ql(c,t);else return[];if(a=a.withIndex(s),!a.isEmpty()&&!a.isLeafNode()){let d=[],p=s.getCompare(),_=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s),y=_.getNext();for(;y&&d.length<i;)p(y,r)!==0&&d.push(y),y=_.getNext();return d}else return[]}function QX(){return{visibleWrites:ni.empty(),allWrites:[],lastWriteId:-1}}function RS(n,e,t,r){return x4(n.writeTree,n.treePath,e,t,r)}function M4(n,e){return qX(n.writeTree,n.treePath,e)}function RL(n,e,t,r){return GX(n.writeTree,n.treePath,e,t,r)}function X_(n,e){return KX(n.writeTree,tn(n.treePath,e))}function ZX(n,e,t,r,i,o){return YX(n.writeTree,n.treePath,e,t,r,i,o)}function ZS(n,e,t){return WX(n.writeTree,n.treePath,e,t)}function D4(n,e){return A4(tn(n.treePath,e),n.writeTree)}function A4(n,e){return{treePath:n,writeTree:e}}var OS=class{constructor(){this.changeMap=new Map}trackChildChange(e){let t=e.type,r=e.childName;Q(t==="child_added"||t==="child_changed"||t==="child_removed","Only child changes supported for tracking"),Q(r!==".priority","Only non-priority child changes can be tracked.");let i=this.changeMap.get(r);if(i){let o=i.type;if(t==="child_added"&&o==="child_removed")this.changeMap.set(r,TL(r,e.snapshotNode,i.snapshotNode));else if(t==="child_removed"&&o==="child_added")this.changeMap.delete(r);else if(t==="child_removed"&&o==="child_changed")this.changeMap.set(r,AX(r,i.oldSnap));else if(t==="child_changed"&&o==="child_added")this.changeMap.set(r,DX(r,e.snapshotNode));else if(t==="child_changed"&&o==="child_changed")this.changeMap.set(r,TL(r,e.snapshotNode,i.oldSnap));else throw ga("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}};var NS=class{getCompleteChild(e){return null}getChildAfterChild(e,t,r){return null}},P4=new NS,Fh=class{constructor(e,t,r=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=r}getCompleteChild(e){let t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{let r=this.optCompleteServerCache_!=null?new Nh(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return ZS(this.writes_,e,r)}}getChildAfterChild(e,t,r){let i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:qa(this.viewCache_),o=ZX(this.writes_,i,t,1,r,e);return o.length===0?null:o[0]}};function JX(n,e){Q(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),Q(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}function XX(n,e,t,r,i){let o=new OS,s,a;if(t.type===So.OVERWRITE){let u=t;u.source.fromUser?s=FS(n,e,u.path,u.snap,r,i,o):(Q(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered()&&!Le(u.path),s=ev(n,e,u.path,u.snap,r,i,a,o))}else if(t.type===So.MERGE){let u=t;u.source.fromUser?s=tee(n,e,u.path,u.children,r,i,o):(Q(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered(),s=VS(n,e,u.path,u.children,r,i,a,o))}else if(t.type===So.ACK_USER_WRITE){let u=t;u.revert?s=iee(n,e,u.path,r,i,o):s=nee(n,e,u.path,u.affectedTree,r,i,o)}else if(t.type===So.LISTEN_COMPLETE)s=ree(n,e,t.path,r,o);else throw ga("Unknown operation type: "+t.type);let c=o.getChanges();return eee(e,s,c),{viewCache:s,changes:c}}function eee(n,e,t){let r=e.eventCache;if(r.isFullyInitialized()){let i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=AS(n);(t.length>0||!n.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&t.push(MX(AS(e)))}}function k4(n,e,t,r,i,o){let s=e.eventCache;if(X_(r,t)!=null)return e;{let a,c;if(Le(t))if(Q(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){let u=qa(e),d=u instanceof Ct?u:Ct.EMPTY_NODE,p=M4(r,d);a=n.filter.updateFullNode(e.eventCache.getNode(),p,o)}else{let u=RS(r,qa(e));a=n.filter.updateFullNode(e.eventCache.getNode(),u,o)}else{let u=He(t);if(u===".priority"){Q(xs(t)===1,"Can't have a priority with additional path components");let d=s.getNode();c=e.serverCache.getNode();let p=RL(r,t,d,c);p!=null?a=n.filter.updatePriority(d,p):a=s.getNode()}else{let d=mt(t),p;if(s.isCompleteForChild(u)){c=e.serverCache.getNode();let _=RL(r,t,s.getNode(),c);_!=null?p=s.getNode().getImmediateChild(u).updateChild(d,_):p=s.getNode().getImmediateChild(u)}else p=ZS(r,u,e.serverCache);p!=null?a=n.filter.updateChild(s.getNode(),u,p,d,i,o):a=s.getNode()}}return Rh(e,a,s.isFullyInitialized()||Le(t),n.filter.filtersNodes())}}function ev(n,e,t,r,i,o,s,a){let c=e.serverCache,u,d=s?n.filter:n.filter.getIndexedFilter();if(Le(t))u=d.updateFullNode(c.getNode(),r,null);else if(d.filtersNodes()&&!c.isFiltered()){let y=c.getNode().updateChild(t,r);u=d.updateFullNode(c.getNode(),y,null)}else{let y=He(t);if(!c.isCompleteForPath(t)&&xs(t)>1)return e;let v=mt(t),O=c.getNode().getImmediateChild(y).updateChild(v,r);y===".priority"?u=d.updatePriority(c.getNode(),O):u=d.updateChild(c.getNode(),y,O,v,P4,null)}let p=E4(e,u,c.isFullyInitialized()||Le(t),d.filtersNodes()),_=new Fh(i,p,o);return k4(n,p,t,i,_,a)}function FS(n,e,t,r,i,o,s){let a=e.eventCache,c,u,d=new Fh(i,e,o);if(Le(t))u=n.filter.updateFullNode(e.eventCache.getNode(),r,s),c=Rh(e,u,!0,n.filter.filtersNodes());else{let p=He(t);if(p===".priority")u=n.filter.updatePriority(e.eventCache.getNode(),r),c=Rh(e,u,a.isFullyInitialized(),a.isFiltered());else{let _=mt(t),y=a.getNode().getImmediateChild(p),v;if(Le(_))v=r;else{let A=d.getCompleteChild(p);A!=null?l4(_)===".priority"&&A.getChild(d4(_)).isEmpty()?v=A:v=A.updateChild(_,r):v=Ct.EMPTY_NODE}if(y.equals(v))c=e;else{let A=n.filter.updateChild(a.getNode(),p,v,_,d,s);c=Rh(e,A,a.isFullyInitialized(),n.filter.filtersNodes())}}}return c}function OL(n,e){return n.eventCache.isCompleteForChild(e)}function tee(n,e,t,r,i,o,s){let a=e;return r.foreach((c,u)=>{let d=tn(t,c);OL(e,He(d))&&(a=FS(n,a,d,u,i,o,s))}),r.foreach((c,u)=>{let d=tn(t,c);OL(e,He(d))||(a=FS(n,a,d,u,i,o,s))}),a}function NL(n,e,t){return t.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function VS(n,e,t,r,i,o,s,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let c=e,u;Le(t)?u=r:u=new $n(null).setTree(t,r);let d=e.serverCache.getNode();return u.children.inorderTraversal((p,_)=>{if(d.hasChild(p)){let y=e.serverCache.getNode().getImmediateChild(p),v=NL(n,y,_);c=ev(n,c,new dt(p),v,i,o,s,a)}}),u.children.inorderTraversal((p,_)=>{let y=!e.serverCache.isCompleteForChild(p)&&_.value===null;if(!d.hasChild(p)&&!y){let v=e.serverCache.getNode().getImmediateChild(p),A=NL(n,v,_);c=ev(n,c,new dt(p),A,i,o,s,a)}}),c}function nee(n,e,t,r,i,o,s){if(X_(i,t)!=null)return e;let a=e.serverCache.isFiltered(),c=e.serverCache;if(r.value!=null){if(Le(t)&&c.isFullyInitialized()||c.isCompleteForPath(t))return ev(n,e,t,c.getNode().getChild(t),i,o,a,s);if(Le(t)){let u=new $n(null);return c.getNode().forEachChild(zl,(d,p)=>{u=u.set(new dt(d),p)}),VS(n,e,t,u,i,o,a,s)}else return e}else{let u=new $n(null);return r.foreach((d,p)=>{let _=tn(t,d);c.isCompleteForPath(_)&&(u=u.set(d,c.getNode().getChild(_)))}),VS(n,e,t,u,i,o,a,s)}}function ree(n,e,t,r,i){let o=e.serverCache,s=E4(e,o.getNode(),o.isFullyInitialized()||Le(t),o.isFiltered());return k4(n,s,t,r,P4,i)}function iee(n,e,t,r,i,o){let s;if(X_(r,t)!=null)return e;{let a=new Fh(r,e,i),c=e.eventCache.getNode(),u;if(Le(t)||He(t)===".priority"){let d;if(e.serverCache.isFullyInitialized())d=RS(r,qa(e));else{let p=e.serverCache.getNode();Q(p instanceof Ct,"serverChildren would be complete if leaf node"),d=M4(r,p)}d=d,u=n.filter.updateFullNode(c,d,o)}else{let d=He(t),p=ZS(r,d,e.serverCache);p==null&&e.serverCache.isCompleteForChild(d)&&(p=c.getImmediateChild(d)),p!=null?u=n.filter.updateChild(c,d,p,mt(t),a,o):e.eventCache.getNode().hasChild(d)?u=n.filter.updateChild(c,d,Ct.EMPTY_NODE,mt(t),a,o):u=c,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(s=RS(r,qa(e)),s.isLeafNode()&&(u=n.filter.updateFullNode(u,s,o)))}return s=e.serverCache.isFullyInitialized()||X_(r,it())!=null,Rh(e,u,s,n.filter.filtersNodes())}}function oee(n,e){let t=qa(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!Le(e)&&!t.getImmediateChild(He(e)).isEmpty())?t.getChild(e):null}function FL(n,e,t,r){e.type===So.MERGE&&e.source.queryId!==null&&(Q(qa(n.viewCache_),"We should always have a full cache before handling merges"),Q(AS(n.viewCache_),"Missing event cache, even though we have a server cache"));let i=n.viewCache_,o=XX(n.processor_,i,e,t,r);return JX(n.processor_,o.viewCache),Q(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=o.viewCache,see(n,o.changes,o.viewCache.eventCache.getNode(),null)}function see(n,e,t,r){let i=r?[r]:n.eventRegistrations_;return NX(n.eventGenerator_,e,t,i)}var VL;function aee(n){Q(!VL,"__referenceConstructor has already been defined"),VL=n}function JS(n,e,t,r){let i=e.source.queryId;if(i!==null){let o=n.views.get(i);return Q(o!=null,"SyncTree gave us an op for an invalid query."),FL(o,e,t,r)}else{let o=[];for(let s of n.views.values())o=o.concat(FL(s,e,t,r));return o}}function XS(n,e){let t=null;for(let r of n.views.values())t=t||oee(r,e);return t}var LL;function cee(n){Q(!LL,"__referenceConstructor has already been defined"),LL=n}var tv=class{constructor(e){this.listenProvider_=e,this.syncPointTree_=new $n(null),this.pendingWriteTree_=QX(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}};function lee(n,e,t,r,i){return UX(n.pendingWriteTree_,e,t,r,i),i?rv(n,new Yl(y4(),e,t)):[]}function Hl(n,e,t=!1){let r=BX(n.pendingWriteTree_,e);if(jX(n.pendingWriteTree_,e)){let o=new $n(null);return r.snap!=null?o=o.set(it(),!0):Mr(r.children,s=>{o=o.set(new dt(s),!0)}),rv(n,new DS(r.path,o,t))}else return[]}function nv(n,e,t){return rv(n,new Yl(w4(),e,t))}function uee(n,e,t){let r=$n.fromObject(t);return rv(n,new J_(w4(),e,r))}function dee(n,e,t,r){let i=F4(n,r);if(i!=null){let o=V4(i),s=o.path,a=o.queryId,c=Tr(s,e),u=new Yl(b4(a),c,t);return L4(n,s,u)}else return[]}function hee(n,e,t,r){let i=F4(n,r);if(i){let o=V4(i),s=o.path,a=o.queryId,c=Tr(s,e),u=$n.fromObject(t),d=new J_(b4(a),c,u);return L4(n,s,d)}else return[]}function R4(n,e,t){let i=n.pendingWriteTree_,o=n.syncPointTree_.findOnPath(e,(s,a)=>{let c=Tr(s,e),u=XS(a,c);if(u)return u});return x4(i,e,o,t,!0)}function rv(n,e){return O4(e,n.syncPointTree_,null,S4(n.pendingWriteTree_,it()))}function O4(n,e,t,r){if(Le(n.path))return N4(n,e,t,r);{let i=e.get(it());t==null&&i!=null&&(t=XS(i,it()));let o=[],s=He(n.path),a=n.operationForChild(s),c=e.children.get(s);if(c&&a){let u=t?t.getImmediateChild(s):null,d=D4(r,s);o=o.concat(O4(a,c,u,d))}return i&&(o=o.concat(JS(i,n,r,t))),o}}function N4(n,e,t,r){let i=e.get(it());t==null&&i!=null&&(t=XS(i,it()));let o=[];return e.children.inorderTraversal((s,a)=>{let c=t?t.getImmediateChild(s):null,u=D4(r,s),d=n.operationForChild(s);d&&(o=o.concat(N4(d,a,c,u)))}),i&&(o=o.concat(JS(i,n,r,t))),o}function F4(n,e){return n.tagToQueryMap.get(e)}function V4(n){let e=n.indexOf("$");return Q(e!==-1&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new dt(n.substr(0,e))}}function L4(n,e,t){let r=n.syncPointTree_.get(e);Q(r,"Missing sync point for query tag that we're tracking");let i=S4(n.pendingWriteTree_,e);return JS(r,t,i,null)}var LS=class n{constructor(e){this.node_=e}getImmediateChild(e){let t=this.node_.getImmediateChild(e);return new n(t)}node(){return this.node_}},US=class n{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){let t=tn(this.path_,e);return new n(this.syncTree_,t)}node(){return R4(this.syncTree_,this.path_)}},fee=function(n){return n=n||{},n.timestamp=n.timestamp||new Date().getTime(),n},UL=function(n,e,t){if(!n||typeof n!="object")return n;if(Q(".sv"in n,"Unexpected leaf node or priority contents"),typeof n[".sv"]=="string")return pee(n[".sv"],e,t);if(typeof n[".sv"]=="object")return gee(n[".sv"],e);Q(!1,"Unexpected server value: "+JSON.stringify(n,null,2))},pee=function(n,e,t){switch(n){case"timestamp":return t.timestamp;default:Q(!1,"Unexpected server value: "+n)}},gee=function(n,e,t){n.hasOwnProperty("increment")||Q(!1,"Unexpected server value: "+JSON.stringify(n,null,2));let r=n.increment;typeof r!="number"&&Q(!1,"Unexpected increment value: "+r);let i=e.node();if(Q(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;let s=i.getValue();return typeof s!="number"?r:s+r},mee=function(n,e,t,r){return eT(e,new US(t,n),r)},_ee=function(n,e,t){return eT(n,new LS(e),t)};function eT(n,e,t){let r=n.getPriority().val(),i=UL(r,e.getImmediateChild(".priority"),t),o;if(n.isLeafNode()){let s=n,a=UL(s.getValue(),e,t);return a!==s.getValue()||i!==s.getPriority().val()?new Wl(a,bn(i)):n}else{let s=n;return o=s,i!==s.getPriority().val()&&(o=o.updatePriority(new Wl(i))),s.forEachChild(Cn,(a,c)=>{let u=eT(c,e.getImmediateChild(a),t);u!==c&&(o=o.updateImmediateChild(a,u))}),o}}var Vh=class{constructor(e="",t=null,r={children:{},childCount:0}){this.name=e,this.parent=t,this.node=r}};function tT(n,e){let t=e instanceof dt?e:new dt(e),r=n,i=He(t);for(;i!==null;){let o=ma(r.node.children,i)||{children:{},childCount:0};r=new Vh(i,r,o),t=mt(t),i=He(t)}return r}function Xl(n){return n.node.value}function U4(n,e){n.node.value=e,BS(n)}function B4(n){return n.node.childCount>0}function vee(n){return Xl(n)===void 0&&!B4(n)}function iv(n,e){Mr(n.node.children,(t,r)=>{e(new Vh(t,n,r))})}function j4(n,e,t,r){t&&!r&&e(n),iv(n,i=>{j4(i,e,!0,r)}),t&&r&&e(n)}function yee(n,e,t){let r=t?n:n.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Hh(n){return new dt(n.parent===null?n.name:Hh(n.parent)+"/"+n.name)}function BS(n){n.parent!==null&&wee(n.parent,n.name,n)}function wee(n,e,t){let r=vee(t),i=Si(n.node.children,e);r&&i?(delete n.node.children[e],n.node.childCount--,BS(n)):!r&&!i&&(n.node.children[e]=t.node,n.node.childCount++,BS(n))}var bee=/[\[\].#$\/\u0000-\u001F\u007F]/,Cee=/[\[\].#$\u0000-\u001F\u007F]/,eS=10*1024*1024,H4=function(n){return typeof n=="string"&&n.length!==0&&!bee.test(n)},Eee=function(n){return typeof n=="string"&&n.length!==0&&!Cee.test(n)},Iee=function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Eee(n)};var $4=function(n,e,t){let r=t instanceof dt?new pS(t,n):t;if(e===void 0)throw new Error(n+"contains undefined "+ja(r));if(typeof e=="function")throw new Error(n+"contains a function "+ja(r)+" with contents = "+e.toString());if(qL(e))throw new Error(n+"contains "+e.toString()+" "+ja(r));if(typeof e=="string"&&e.length>eS/3&&Pd(e)>eS)throw new Error(n+"contains a string greater than "+eS+" utf8 bytes "+ja(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,o=!1;if(Mr(e,(s,a)=>{if(s===".value")i=!0;else if(s!==".priority"&&s!==".sv"&&(o=!0,!H4(s)))throw new Error(n+" contains an invalid key ("+s+") "+ja(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);gX(r,s),$4(n,a,r),mX(r)}),i&&o)throw new Error(n+' contains ".value" child '+ja(r)+" in addition to actual children.")}};var See=function(n,e){let t=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!H4(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||t.length!==0&&!Iee(t))throw new Error(OR(n,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};var jS=class{constructor(){this.eventLists_=[],this.recursionDepth_=0}};function Tee(n,e){let t=null;for(let r=0;r<e.length;r++){let i=e[r],o=i.getPath();t!==null&&!h4(o,t.path)&&(n.eventLists_.push(t),t=null),t===null&&(t={events:[],path:o}),t.events.push(i)}t&&n.eventLists_.push(t)}function Wa(n,e,t){Tee(n,t),xee(n,r=>ti(r,e)||ti(e,r))}function xee(n,e){n.recursionDepth_++;let t=!0;for(let r=0;r<n.eventLists_.length;r++){let i=n.eventLists_[r];if(i){let o=i.path;e(o)?(Mee(n.eventLists_[r]),n.eventLists_[r]=null):t=!1}}t&&(n.eventLists_=[]),n.recursionDepth_--}function Mee(n){for(let e=0;e<n.events.length;e++){let t=n.events[e];if(t!==null){n.events[e]=null;let r=t.getEventRunner();$a&&wn("event: "+t.toString()),Bh(r)}}}var Dee="repo_interrupt",Aee=25,HS=class{constructor(e,t,r,i){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new jS,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Z_(),this.transactionQueueTree_=new Vh,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}};function Pee(n,e,t){if(n.stats_=KS(n.repoInfo_),n.forceRestClient_||zJ())n.server_=new IS(n.repoInfo_,(r,i,o,s)=>{BL(n,r,i,o,s)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>jL(n,!0),0);else{if(typeof t<"u"&&t!==null){if(typeof t!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Qt(t)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}n.persistentConnection_=new YS(n.repoInfo_,e,(r,i,o,s)=>{BL(n,r,i,o,s)},r=>{jL(n,r)},r=>{Ree(n,r)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(r=>{n.server_.refreshAuthToken(r)}),n.appCheckProvider_.addTokenChangeListener(r=>{n.server_.refreshAppCheckToken(r.token)}),n.statsReporter_=GJ(n.repoInfo_,()=>new MS(n.stats_,n.server_)),n.infoData_=new SS,n.infoSyncTree_=new tv({startListening:(r,i,o,s)=>{let a=[],c=n.infoData_.getNode(r._path);return c.isEmpty()||(a=nv(n.infoSyncTree_,r._path,c),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),nT(n,"connected",!1),n.serverSyncTree_=new tv({startListening:(r,i,o,s)=>(n.server_.listen(r,o,i,(a,c)=>{let u=s(a,c);Wa(n.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{n.server_.unlisten(r,i)}})}function kee(n){let t=n.infoData_.getNode(new dt(".info/serverTimeOffset")).val()||0;return new Date().getTime()+t}function z4(n){return fee({timestamp:kee(n)})}function BL(n,e,t,r,i){n.dataUpdateCount++;let o=new dt(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let s=[];if(i)if(r){let c=Ad(t,u=>bn(u));s=hee(n.serverSyncTree_,o,c,i)}else{let c=bn(t);s=dee(n.serverSyncTree_,o,c,i)}else if(r){let c=Ad(t,u=>bn(u));s=uee(n.serverSyncTree_,o,c)}else{let c=bn(t);s=nv(n.serverSyncTree_,o,c)}let a=o;s.length>0&&(a=iT(n,o)),Wa(n.eventQueue_,a,s)}function jL(n,e){nT(n,"connected",e),e===!1&&Nee(n)}function Ree(n,e){Mr(e,(t,r)=>{nT(n,t,r)})}function nT(n,e,t){let r=new dt("/.info/"+e),i=bn(t);n.infoData_.updateSnapshot(r,i);let o=nv(n.infoSyncTree_,r,i);Wa(n.eventQueue_,r,o)}function Oee(n){return n.nextWriteId_++}function Nee(n){q4(n,"onDisconnectEvents");let e=z4(n),t=Z_();TS(n.onDisconnect_,it(),(i,o)=>{let s=mee(i,o,n.serverSyncTree_,e);v4(t,i,s)});let r=[];TS(t,it(),(i,o)=>{r=r.concat(nv(n.serverSyncTree_,i,o));let s=Uee(n,i);iT(n,s)}),n.onDisconnect_=Z_(),Wa(n.eventQueue_,it(),r)}function Fee(n){n.persistentConnection_&&n.persistentConnection_.interrupt(Dee)}function q4(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),wn(t,...e)}function G4(n,e,t){return R4(n.serverSyncTree_,e,t)||Ct.EMPTY_NODE}function rT(n,e=n.transactionQueueTree_){if(e||ov(n,e),Xl(e)){let t=K4(n,e);Q(t.length>0,"Sending zero length transaction queue"),t.every(i=>i.status===0)&&Vee(n,Hh(e),t)}else B4(e)&&iv(e,t=>{rT(n,t)})}function Vee(n,e,t){let r=t.map(u=>u.currentWriteId),i=G4(n,e,r),o=i,s=i.hash();for(let u=0;u<t.length;u++){let d=t[u];Q(d.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),d.status=1,d.retryCount++;let p=Tr(e,d.path);o=o.updateChild(p,d.currentOutputSnapshotRaw)}let a=o.val(!0),c=e;n.server_.put(c.toString(),a,u=>{q4(n,"transaction put response",{path:c.toString(),status:u});let d=[];if(u==="ok"){let p=[];for(let _=0;_<t.length;_++)t[_].status=2,d=d.concat(Hl(n.serverSyncTree_,t[_].currentWriteId)),t[_].onComplete&&p.push(()=>t[_].onComplete(null,!0,t[_].currentOutputSnapshotResolved)),t[_].unwatcher();ov(n,tT(n.transactionQueueTree_,e)),rT(n,n.transactionQueueTree_),Wa(n.eventQueue_,e,d);for(let _=0;_<p.length;_++)Bh(p[_])}else{if(u==="datastale")for(let p=0;p<t.length;p++)t[p].status===3?t[p].status=4:t[p].status=0;else{ir("transaction at "+c.toString()+" failed: "+u);for(let p=0;p<t.length;p++)t[p].status=4,t[p].abortReason=u}iT(n,e)}},s)}function iT(n,e){let t=W4(n,e),r=Hh(t),i=K4(n,t);return Lee(n,i,r),r}function Lee(n,e,t){if(e.length===0)return;let r=[],i=[],s=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){let c=e[a],u=Tr(t,c.path),d=!1,p;if(Q(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),c.status===4)d=!0,p=c.abortReason,i=i.concat(Hl(n.serverSyncTree_,c.currentWriteId,!0));else if(c.status===0)if(c.retryCount>=Aee)d=!0,p="maxretry",i=i.concat(Hl(n.serverSyncTree_,c.currentWriteId,!0));else{let _=G4(n,c.path,s);c.currentInputSnapshot=_;let y=e[a].update(_.val());if(y!==void 0){$4("transaction failed: Data returned ",y,c.path);let v=bn(y);typeof y=="object"&&y!=null&&Si(y,".priority")||(v=v.updatePriority(_.getPriority()));let O=c.currentWriteId,G=z4(n),ee=_ee(v,_,G);c.currentOutputSnapshotRaw=v,c.currentOutputSnapshotResolved=ee,c.currentWriteId=Oee(n),s.splice(s.indexOf(O),1),i=i.concat(lee(n.serverSyncTree_,c.path,ee,c.currentWriteId,c.applyLocally)),i=i.concat(Hl(n.serverSyncTree_,O,!0))}else d=!0,p="nodata",i=i.concat(Hl(n.serverSyncTree_,c.currentWriteId,!0))}Wa(n.eventQueue_,t,i),i=[],d&&(e[a].status=2,function(_){setTimeout(_,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(p==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(p),!1,null))))}ov(n,n.transactionQueueTree_);for(let a=0;a<r.length;a++)Bh(r[a]);rT(n,n.transactionQueueTree_)}function W4(n,e){let t,r=n.transactionQueueTree_;for(t=He(e);t!==null&&Xl(r)===void 0;)r=tT(r,t),e=mt(e),t=He(e);return r}function K4(n,e){let t=[];return Y4(n,e,t),t.sort((r,i)=>r.order-i.order),t}function Y4(n,e,t){let r=Xl(e);if(r)for(let i=0;i<r.length;i++)t.push(r[i]);iv(e,i=>{Y4(n,i,t)})}function ov(n,e){let t=Xl(e);if(t){let r=0;for(let i=0;i<t.length;i++)t[i].status!==2&&(t[r]=t[i],r++);t.length=r,U4(e,t.length>0?t:void 0)}iv(e,r=>{ov(n,r)})}function Uee(n,e){let t=Hh(W4(n,e)),r=tT(n.transactionQueueTree_,e);return yee(r,i=>{tS(n,i)}),tS(n,r),j4(r,i=>{tS(n,i)}),t}function tS(n,e){let t=Xl(e);if(t){let r=[],i=[],o=-1;for(let s=0;s<t.length;s++)t[s].status===3||(t[s].status===1?(Q(o===s-1,"All SENT items should be at beginning of queue."),o=s,t[s].status=3,t[s].abortReason="set"):(Q(t[s].status===0,"Unexpected transaction status in abort"),t[s].unwatcher(),i=i.concat(Hl(n.serverSyncTree_,t[s].currentWriteId,!0)),t[s].onComplete&&r.push(t[s].onComplete.bind(null,new Error("set"),!1,null))));o===-1?U4(e,void 0):t.length=o+1,Wa(n.eventQueue_,Hh(e),i);for(let s=0;s<r.length;s++)Bh(r[s])}}function Bee(n){let e="",t=n.split("/");for(let r=0;r<t.length;r++)if(t[r].length>0){let i=t[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function jee(n){let e={};n.charAt(0)==="?"&&(n=n.substring(1));for(let t of n.split("&")){if(t.length===0)continue;let r=t.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):ir(`Invalid query segment '${t}' in query '${n}'`)}return e}var HL=function(n,e){let t=Hee(n),r=t.namespace;t.domain==="firebase.com"&&To(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&t.domain!=="localhost"&&To("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||FJ();let i=t.scheme==="ws"||t.scheme==="wss";return{repoInfo:new z_(t.host,t.secure,r,i,e,"",r!==t.subdomain),path:new dt(t.pathString)}},Hee=function(n){let e="",t="",r="",i="",o="",s=!0,a="https",c=443;if(typeof n=="string"){let u=n.indexOf("//");u>=0&&(a=n.substring(0,u-1),n=n.substring(u+2));let d=n.indexOf("/");d===-1&&(d=n.length);let p=n.indexOf("?");p===-1&&(p=n.length),e=n.substring(0,Math.min(d,p)),d<p&&(i=Bee(n.substring(d,p)));let _=jee(n.substring(Math.min(n.length,p)));u=e.indexOf(":"),u>=0?(s=a==="https"||a==="wss",c=parseInt(e.substring(u+1),10)):u=e.length;let y=e.slice(0,u);if(y.toLowerCase()==="localhost")t="localhost";else if(y.split(".").length<=2)t=y;else{let v=e.indexOf(".");r=e.substring(0,v).toLowerCase(),t=e.substring(v+1),o=r}"ns"in _&&(o=_.ns)}return{host:e,port:c,domain:t,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}};var $S=class n{constructor(e,t,r,i){this._repo=e,this._path=t,this._queryParams=r,this._orderByCalled=i}get key(){return Le(this._path)?null:l4(this._path)}get ref(){return new Zl(this._repo,this._path)}get _queryIdentifier(){let e=ML(this._queryParams),t=WS(e);return t==="{}"?"default":t}get _queryObject(){return ML(this._queryParams)}isEqual(e){if(e=ft(e),!(e instanceof n))return!1;let t=this._repo===e._repo,r=h4(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return t&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+pX(this._path)}};var Zl=class n extends $S{constructor(e,t){super(e,t,new ES,!1)}get parent(){let e=d4(this._path);return e===null?null:new n(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}};aee(Zl);cee(Zl);var $ee="FIREBASE_DATABASE_EMULATOR_HOST",zS={},zee=!1;function qee(n,e,t,r){let i=e.lastIndexOf(":"),o=e.substring(0,i),s=er(o);n.repoInfo_=new z_(e,s,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0,t),r&&(n.authTokenProvider_=r)}function Gee(n,e,t,r,i){let o=r||n.options.databaseURL;o===void 0&&(n.options.projectId||To("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),wn("Using default host for project ",n.options.projectId),o=`${n.options.projectId}-default-rtdb.firebaseio.com`);let s=HL(o,i),a=s.repoInfo,c,u;typeof process<"u"&&process.env&&(u=process.env[$ee]),u?(c=!0,o=`http://${u}?ns=${a.namespace}`,s=HL(o,i),a=s.repoInfo):c=!s.repoInfo.secure;let d=i&&c?new kh(kh.OWNER):new aS(n.name,n.options,e);See("Invalid Firebase Database URL",s),Le(s.path)||To("Database URL must point to the root of a Firebase Database (not including a child path).");let p=Kee(a,n,d,new sS(n,t));return new qS(p,n)}function Wee(n,e){let t=zS[e];(!t||t[n.key]!==n)&&To(`Database ${e}(${n.repoInfo_}) has already been deleted.`),Fee(n),delete t[n.key]}function Kee(n,e,t,r){let i=zS[e.name];i||(i={},zS[e.name]=i);let o=i[n.toURLString()];return o&&To("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new HS(n,zee,t,r),i[n.toURLString()]=o,o}var qS=class{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(Pee(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Zl(this._repo,it())),this._rootInternal}_delete(){return this._rootInternal!==null&&(Wee(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&To("Cannot call "+e+" on a deleted database.")}};function Q4(n=Wr(),e){let t=xi(n,"database").getImmediate({identifier:e});if(!t._instanceStarted){let r=el("database");r&&Z4(t,...r)}return t}function Z4(n,e,t,r={}){n=ft(n),n._checkNotDeleted("useEmulator");let i=`${e}:${t}`,o=n._repoInternal;if(n._instanceStarted){if(i===n._repoInternal.repoInfo_.host&&_r(r,o.repoInfo_.emulatorOptions))return;To("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let s;if(o.repoInfo_.nodeAdmin)r.mockUserToken&&To('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new kh(kh.OWNER);else if(r.mockUserToken){let a=typeof r.mockUserToken=="string"?r.mockUserToken:tl(r.mockUserToken,n.app.options.projectId);s=new kh(a)}er(e)&&(rs(e),is("Database",!0)),qee(o,i,r,s)}function Yee(n){RJ(yr),An(new Wt("database",(e,{instanceIdentifier:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return Gee(r,i,o,t)},"PUBLIC").setMultipleInstances(!0)),We(uL,dL,n),We(uL,dL,"esm2017")}YS.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)};YS.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)};Yee();var $h=class{constructor(e){return e}},J4="database",oT=class{constructor(){return Mi(J4)}};var sT=new J("angularfire2.database-instances");function Qee(n,e){let t=so(J4,n,e);return t&&new $h(t)}function Zee(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new $h(r)}}var Jee={provide:oT,deps:[[new bt,sT]]},Xee={provide:$h,useFactory:Qee,deps:[[new bt,sT],tr]};function X4(n,...e){return We("angularfire",wr.full,"rtdb"),Tn([Xee,Jee,{provide:sT,useFactory:Zee(n),multi:!0,deps:[Ve,_t,br,Kr,[new bt,fo],[new bt,Di],...e]}])}var e3=rt(Q4,!0);var s3="firebasestorage.googleapis.com",ete="storageBucket",tte=2*60*1e3,nte=10*60*1e3;var Ui=class n extends Dn{constructor(e,t,r=0){super(aT(e),`Firebase Storage: ${t} (${aT(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,n.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return aT(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},Mo=function(n){return n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment",n}(Mo||{});function aT(n){return"storage/"+n}function rte(){let n="An unknown error occurred, please check the error payload for server response.";return new Ui(Mo.UNKNOWN,n)}function ite(){return new Ui(Mo.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function ote(){return new Ui(Mo.CANCELED,"User canceled the upload/download.")}function ste(n){return new Ui(Mo.INVALID_URL,"Invalid URL '"+n+"'.")}function ate(n){return new Ui(Mo.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function t3(n){return new Ui(Mo.INVALID_ARGUMENT,n)}function a3(){return new Ui(Mo.APP_DELETED,"The Firebase app was deleted.")}function cte(n){return new Ui(Mo.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}var xo=class n{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=n.makeFromUrl(e,t)}catch{return new n(e,"")}if(r.path==="")return r;throw ate(e)}static makeFromUrl(e,t){let r=null,i="([A-Za-z0-9.\\-_]+)";function o(se){se.path.charAt(se.path.length-1)==="/"&&(se.path_=se.path_.slice(0,-1))}let s="(/(.*))?$",a=new RegExp("^gs://"+i+s,"i"),c={bucket:1,path:3};function u(se){se.path_=decodeURIComponent(se.path)}let d="v[A-Za-z0-9_]+",p=t.replace(/[.]/g,"\\."),_="(/([^?#]*).*)?$",y=new RegExp(`^https?://${p}/${d}/b/${i}/o${_}`,"i"),v={bucket:1,path:3},A=t===s3?"(?:storage.googleapis.com|storage.cloud.google.com)":t,O="([^?#]*)",G=new RegExp(`^https?://${A}/${i}/${O}`,"i"),Z=[{regex:a,indices:c,postModify:o},{regex:y,indices:v,postModify:u},{regex:G,indices:{bucket:1,path:2},postModify:u}];for(let se=0;se<Z.length;se++){let De=Z[se],fe=De.regex.exec(e);if(fe){let P=fe[De.indices.bucket],S=fe[De.indices.path];S||(S=""),r=new n(P,S),De.postModify(r);break}}if(r==null)throw ste(e);return r}},cT=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function lte(n,e,t){let r=1,i=null,o=null,s=!1,a=0;function c(){return a===2}let u=!1;function d(...O){u||(u=!0,e.apply(null,O))}function p(O){i=setTimeout(()=>{i=null,n(y,c())},O)}function _(){o&&clearTimeout(o)}function y(O,...G){if(u){_();return}if(O){_(),d.call(null,O,...G);return}if(c()||s){_(),d.call(null,O,...G);return}r<64&&(r*=2);let Z;a===1?(a=2,Z=0):Z=(r+Math.random())*1e3,p(Z)}let v=!1;function A(O){v||(v=!0,_(),!u&&(i!==null?(O||(a=2),clearTimeout(i),p(0)):O||(a=1)))}return p(0),o=setTimeout(()=>{s=!0,A(!0)},t),A}function ute(n){n(!1)}function dte(n){return n!==void 0}function n3(n,e,t,r){if(r<e)throw t3(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw t3(`Invalid value for '${n}'. Expected ${t} or less.`)}function hte(n){let e=encodeURIComponent,t="?";for(let r in n)if(n.hasOwnProperty(r)){let i=e(r)+"="+e(n[r]);t=t+i+"&"}return t=t.slice(0,-1),t}var lT=function(n){return n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",n}(lT||{});function fte(n,e){let t=n>=500&&n<600,i=[408,429].indexOf(n)!==-1,o=e.indexOf(n)!==-1;return t||i||o}var uT=class{constructor(e,t,r,i,o,s,a,c,u,d,p,_=!0,y=!1){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=c,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=p,this.retry=_,this.isUsingEmulator=y,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((v,A)=>{this.resolve_=v,this.reject_=A,this.start_()})}start_(){let e=(r,i)=>{if(i){r(!1,new eu(!1,null,!0));return}let o=this.connectionFactory_();this.pendingConnection_=o;let s=a=>{let c=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,u)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;let a=o.getErrorCode()===lT.NO_ERROR,c=o.getStatus();if(!a||fte(c,this.additionalRetryCodes_)&&this.retry){let d=o.getErrorCode()===lT.ABORT;r(!1,new eu(!1,null,d));return}let u=this.successCodes_.indexOf(c)!==-1;r(!0,new eu(u,o))})},t=(r,i)=>{let o=this.resolve_,s=this.reject_,a=i.connection;if(i.wasSuccessCode)try{let c=this.callback_(a,a.getResponse());dte(c)?o(c):o()}catch(c){s(c)}else if(a!==null){let c=rte();c.serverResponse=a.getErrorText(),this.errorCallback_?s(this.errorCallback_(a,c)):s(c)}else if(i.canceled){let c=this.appDelete_?a3():ote();s(c)}else{let c=ite();s(c)}};this.canceled_?t(!1,new eu(!1,null,!0)):this.backoffId_=lte(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&ute(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},eu=class{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}};function pte(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function gte(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function mte(n,e){e&&(n["X-Firebase-GMPID"]=e)}function _te(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function vte(n,e,t,r,i,o,s=!0,a=!1){let c=hte(n.urlParams),u=n.url+c,d=Object.assign({},n.headers);return mte(d,e),pte(d,t),gte(d,o),_te(d,r),new uT(u,n.method,d,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,s,a)}function yte(n){if(n.length===0)return null;let e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function wte(n){let e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}var x0e=256*1024;var dT=class n{constructor(e,t){this._service=e,t instanceof xo?this._location=t:this._location=xo.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new n(e,t)}get root(){let e=new xo(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return wte(this._location.path)}get storage(){return this._service}get parent(){let e=yte(this._location.path);if(e===null)return null;let t=new xo(this._location.bucket,e);return new n(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw cte(e)}};function r3(n,e){let t=e?.[ete];return t==null?null:xo.makeFromBucketSpec(t,n)}function bte(n,e,t,r={}){n.host=`${e}:${t}`;let i=er(e);i&&(rs(`https://${n.host}/b`),is("Storage",!0)),n._isUsingEmulator=!0,n._protocol=i?"https":"http";let{mockUserToken:o}=r;o&&(n._overrideAuthToken=typeof o=="string"?o:tl(o,n.app.options.projectId))}var hT=class{constructor(e,t,r,i,o,s=!1){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._isUsingEmulator=s,this._bucket=null,this._host=s3,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=tte,this._maxUploadRetryTime=nte,this._requests=new Set,i!=null?this._bucket=xo.makeFromBucketSpec(i,this._host):this._bucket=r3(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=xo.makeFromBucketSpec(this._url,e):this._bucket=r3(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){n3("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){n3("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){return I(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let t=yield e.getToken();if(t!==null)return t.accessToken}return null})}_getAppCheckToken(){return I(this,null,function*(){if(Zt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let e=this._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new dT(this,e)}_makeRequest(e,t,r,i,o=!0){if(this._deleted)return new cT(a3());{let s=vte(e,this._appId,r,i,t,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(e,t){return I(this,null,function*(){let[r,i]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,i).getPromise()})}},i3="@firebase/storage",o3="0.13.14";var c3="storage";function l3(n=Wr(),e){n=ft(n);let r=xi(n,c3).getImmediate({identifier:e}),i=el("storage");return i&&u3(r,...i),r}function u3(n,e,t,r={}){bte(n,e,t,r)}function Cte(n,{instanceIdentifier:e}){let t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new hT(t,r,i,e,yr)}function Ete(){An(new Wt(c3,Cte,"PUBLIC").setMultipleInstances(!0)),We(i3,o3,""),We(i3,o3,"esm2017")}Ete();var zh=class{constructor(e){return e}},d3="storage",fT=class{constructor(){return Mi(d3)}};var pT=new J("angularfire2.storage-instances");function Ite(n,e){let t=so(d3,n,e);return t&&new zh(t)}function Ste(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new zh(r)}}var Tte={provide:fT,deps:[[new bt,pT]]},xte={provide:zh,useFactory:Ite,deps:[[new bt,pT],tr]};function h3(n,...e){return We("angularfire",wr.full,"gcs"),Tn([xte,Tte,{provide:pT,useFactory:Ste(n),multi:!0,deps:[Ve,_t,br,Kr,[new bt,fo],[new bt,Di],...e]}])}var f3=rt(l3,!0);var p3={providers:[hP({eventCoalescing:!0}),Eb(cL),JR(()=>XR(lL.firebase)),aN(()=>dN()),ZF(()=>eV()),X4(()=>e3()),h3(()=>f3())]};var Mte=()=>({exact:!0}),sv=class n{constructor(e){this.router=e}navigateTo(e){console.log("Navegando para:",e),this.router.navigate([e]).then(t=>console.log("Navega\xE7\xE3o bem-sucedida:",t),t=>console.log("Erro na navega\xE7\xE3o:",t))}static \u0275fac=function(t){return new(t||n)(ie(Ye))};static \u0275cmp=Tt({type:n,selectors:[["app-sidebar"]],decls:32,vars:2,consts:[[1,"sidebar"],[1,"logo-container"],["src","assets/logo.png","alt","Logo",1,"logo-image"],[1,"menu-list"],[1,"menu-item"],["routerLinkActive","active",3,"click","routerLinkActiveOptions"],[1,"menu-icon"],["width","20","height","20","viewBox","0 0 24 24","fill","currentColor"],["d","M3 13h8V3H3v10zm0 8h8v-6H3v6zm10 0h8V11h-8v10zm0-18v6h8V3h-8z"],[1,"menu-text"],["routerLinkActive","active",3,"click"],["d","M20 6h-2.18c.11-.31.18-.65.18-1a2.996 2.996 0 0 0-5.5-1.65l-.5.67-.5-.68C10.96 2.54 10.05 2 9 2 7.34 2 6 3.34 6 5c0 .35.07.69.18 1H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-5-2c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zM9 4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1z"],["d","M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"],["d","M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"]],template:function(t,r){t&1&&(h(0,"nav",0)(1,"div",1),V(2,"img",2),g(),h(3,"ul",3)(4,"li",4)(5,"a",5),H("click",function(){return r.navigateTo("/dashboard")}),h(6,"span",6),$(),h(7,"svg",7),V(8,"path",8),g()(),Y(),h(9,"span",9),w(10,"Dashboard"),g()()(),h(11,"li",4)(12,"a",10),H("click",function(){return r.navigateTo("/ativos")}),h(13,"span",6),$(),h(14,"svg",7),V(15,"path",11),g()(),Y(),h(16,"span",9),w(17,"Ativos"),g()()(),h(18,"li",4)(19,"a",10),H("click",function(){return r.navigateTo("/chamados")}),h(20,"span",6),$(),h(21,"svg",7),V(22,"path",12),g()(),Y(),h(23,"span",9),w(24,"Chamados"),g()()(),h(25,"li",4)(26,"a",10),H("click",function(){return r.navigateTo("/relatorios")}),h(27,"span",6),$(),h(28,"svg",7),V(29,"path",13),g()(),Y(),h(30,"span",9),w(31,"Relat\xF3rios"),g()()()()()),t&2&&(C(5),W("routerLinkActiveOptions",oP(1,Mte)))},dependencies:[Cb,Mt],styles:[".sidebar[_ngcontent-%COMP%]{width:250px;background-color:var(--color-background-light);border-right:1px solid var(--color-border);padding:20px 0;display:flex;flex-direction:column;height:100vh}.logo-container[_ngcontent-%COMP%]{padding:0 20px 30px;border-bottom:1px solid var(--color-border);margin-bottom:20px;text-align:center}.logo-image[_ngcontent-%COMP%]{max-width:180px;max-height:50px;object-fit:contain}.menu-list[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.menu-item[_ngcontent-%COMP%]{margin-bottom:2px}.menu-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;align-items:center;padding:15px 20px;color:var(--color-text-secondary);text-decoration:none;transition:all .3s ease;border-radius:0;position:relative;cursor:pointer}.menu-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background:linear-gradient(90deg,#007bff33,#007bff0d);color:var(--color-text-primary);transform:translate(4px);transition:all .3s ease}.menu-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover   .menu-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:var(--color-accent-blue)}.menu-item[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{background-color:var(--color-background-dark);color:var(--color-text-primary);border-right:3px solid var(--color-accent-blue)}.menu-item[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]   .menu-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:var(--color-accent-blue)}.menu-icon[_ngcontent-%COMP%]{margin-right:15px;display:flex;align-items:center;justify-content:center;width:24px;height:24px}.menu-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:var(--color-text-secondary);transition:color .3s ease}"]})};function Dte(n,e){n&1&&(h(0,"div",2),V(1,"app-sidebar"),h(2,"main",3),V(3,"router-outlet"),g()())}function Ate(n,e){n&1&&(h(0,"div",4),V(1,"router-outlet"),g())}var av=class n{constructor(e){this.router=e;this.router.events.pipe(dn(t=>t instanceof Mn)).subscribe(t=>{this.currentRoute=t.url})}title="frontend-design";currentRoute="";isAuthPage(){return["/login","/cadastro","/esqueci-senha","/"].includes(this.currentRoute)}static \u0275fac=function(t){return new(t||n)(ie(Ye))};static \u0275cmp=Tt({type:n,selectors:[["app-root"]],decls:2,vars:2,consts:[["class","app-container",4,"ngIf"],["class","auth-container",4,"ngIf"],[1,"app-container"],[1,"main-content"],[1,"auth-container"]],template:function(t,r){t&1&&oe(0,Dte,4,0,"div",0)(1,Ate,2,0,"div",1),t&2&&(W("ngIf",!r.isAuthPage()),C(),W("ngIf",r.isAuthPage()))},dependencies:[fd,sv,Mt,qt],styles:[".app-container[_ngcontent-%COMP%]{display:flex;height:100vh;background-color:var(--color-background-dark);color:var(--color-text-primary)}.main-content[_ngcontent-%COMP%]{flex:1;padding:20px;overflow-y:auto;background-color:var(--color-background-medium)}.auth-container[_ngcontent-%COMP%]{min-height:100vh;background:linear-gradient(135deg,var(--color-background-dark) 0%,var(--color-background-medium) 100%);display:flex;align-items:center;justify-content:center;padding:20px}"]})};Kw(av,p3).catch(n=>console.error(n));
